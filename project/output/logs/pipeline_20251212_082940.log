[0;34m‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê[0m
[0;34m  SETUP ENVIRONMENT (00_setup_environment.py)[0m
[0;34m‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê[0m
[2025-12-12 08:29:41] [INFO] Checking Python version...
[2025-12-12 08:29:41] [INFO] Python 3.12.11 available
[2025-12-12 08:29:41] [INFO] Checking dependencies...
[2025-12-12 08:29:41] [INFO] Package 'numpy' available
[2025-12-12 08:29:41] [INFO] Package 'matplotlib' available
[2025-12-12 08:29:41] [INFO] Package 'pytest' available
[2025-12-12 08:29:41] [INFO] Package 'requests' available
[2025-12-12 08:29:41] [INFO] Package 'scipy' available
[2025-12-12 08:29:41] [INFO] Checking build tools...
[2025-12-12 08:29:41] [INFO] 'pandoc' available (Document conversion)
[2025-12-12 08:29:41] [INFO] 'xelatex' available (LaTeX compilation)
[2025-12-12 08:29:41] [INFO] Setting up directory structure...
[2025-12-12 08:29:41] [INFO] Directory ready: output
[2025-12-12 08:29:41] [INFO] Directory ready: output/figures
[2025-12-12 08:29:41] [INFO] Directory ready: output/data
[2025-12-12 08:29:41] [INFO] Directory ready: output/tex
[2025-12-12 08:29:41] [INFO] Directory ready: output/pdf
[2025-12-12 08:29:41] [INFO] Directory ready: output/logs
[2025-12-12 08:29:41] [INFO] Directory ready: project/output
[2025-12-12 08:29:41] [INFO] Directory ready: project/output/logs
[2025-12-12 08:29:41] [INFO] Verifying source code structure...
[2025-12-12 08:29:41] [INFO] Directory found: infrastructure
[2025-12-12 08:29:41] [INFO] Directory found: project
[2025-12-12 08:29:41] [INFO] Directory found: scripts (optional)
[2025-12-12 08:29:41] [INFO] Directory found: tests (optional)
[2025-12-12 08:29:41] [INFO] Setting environment variables...
[2025-12-12 08:29:41] [INFO] MPLBACKEND=Agg
[2025-12-12 08:29:41] [INFO] PYTHONIOENCODING=utf-8
[2025-12-12 08:29:41] [INFO] PROJECT_ROOT=/Users/4d/Documents/GitHub/template
[0;32m‚úì[0m Environment setup complete

[2/9] Infrastructure Tests (22% complete)
  Running infrastructure module tests...
  (Skipping LLM integration tests - run separately with: pytest -m requires_ollama)
============================= test session starts ==============================
platform darwin -- Python 3.12.11, pytest-8.4.2, pluggy-1.6.0 -- /Users/4d/Documents/GitHub/template/.venv/bin/python3
cachedir: .pytest_cache
rootdir: /Users/4d/Documents/GitHub/template
configfile: pyproject.toml
plugins: mock-3.15.1, cov-7.0.0
collecting ... collected 2374 items / 59 deselected / 2315 selected

tests/infrastructure/core/test_checkpoint.py::TestStageResult::test_stage_result_creation PASSED [  0%]
tests/infrastructure/core/test_checkpoint.py::TestStageResult::test_stage_result_default_completed PASSED [  0%]
tests/infrastructure/core/test_checkpoint.py::TestPipelineCheckpoint::test_checkpoint_creation PASSED [  0%]
tests/infrastructure/core/test_checkpoint.py::TestPipelineCheckpoint::test_checkpoint_to_dict PASSED [  0%]
tests/infrastructure/core/test_checkpoint.py::TestPipelineCheckpoint::test_checkpoint_from_dict PASSED [  0%]
tests/infrastructure/core/test_checkpoint.py::TestPipelineCheckpoint::test_checkpoint_round_trip PASSED [  0%]
tests/infrastructure/core/test_checkpoint.py::TestCheckpointManager::test_manager_initialization_default PASSED [  0%]
tests/infrastructure/core/test_checkpoint.py::TestCheckpointManager::test_manager_initialization_custom PASSED [  0%]
tests/infrastructure/core/test_checkpoint.py::TestCheckpointManager::test_save_checkpoint PASSED [  0%]
tests/infrastructure/core/test_checkpoint.py::TestCheckpointManager::test_load_checkpoint_exists PASSED [  0%]
tests/infrastructure/core/test_checkpoint.py::TestCheckpointManager::test_load_checkpoint_not_exists PASSED [  0%]
tests/infrastructure/core/test_checkpoint.py::TestCheckpointManager::test_load_checkpoint_corrupted PASSED [  0%]
tests/infrastructure/core/test_checkpoint.py::TestCheckpointManager::test_clear_checkpoint PASSED [  0%]
tests/infrastructure/core/test_checkpoint.py::TestCheckpointManager::test_clear_checkpoint_not_exists PASSED [  0%]
tests/infrastructure/core/test_checkpoint.py::TestCheckpointManager::test_checkpoint_exists_true PASSED [  0%]
tests/infrastructure/core/test_checkpoint.py::TestCheckpointManager::test_checkpoint_exists_false PASSED [  0%]
tests/infrastructure/core/test_checkpoint.py::TestCheckpointManager::test_checkpoint_exists_corrupted PASSED [  0%]
tests/infrastructure/core/test_checkpoint.py::TestCheckpointManager::test_save_checkpoint_multiple_stages PASSED [  0%]
tests/infrastructure/core/test_checkpoint.py::TestCheckpointManager::test_save_checkpoint_failure_handling PASSED [  0%]
tests/infrastructure/core/test_config_cli_coverage.py::TestConfigCli::test_module_imports PASSED [  0%]
tests/infrastructure/core/test_config_cli_coverage.py::TestConfigCli::test_has_main PASSED [  0%]
tests/infrastructure/core/test_config_cli_coverage.py::TestConfigCli::test_main_execution PASSED [  0%]
tests/infrastructure/core/test_config_loader.py::TestLoadConfig::test_load_valid_config PASSED [  0%]
tests/infrastructure/core/test_config_loader.py::TestLoadConfig::test_load_nonexistent_file PASSED [  1%]
tests/infrastructure/core/test_config_loader.py::TestLoadConfig::test_load_invalid_yaml PASSED [  1%]
tests/infrastructure/core/test_config_loader.py::TestLoadConfig::test_load_empty_file PASSED [  1%]
tests/infrastructure/core/test_config_loader.py::TestFormatAuthorDetails::test_format_with_corresponding_author PASSED [  1%]
tests/infrastructure/core/test_config_loader.py::TestFormatAuthorDetails::test_format_without_corresponding_uses_first PASSED [  1%]
tests/infrastructure/core/test_config_loader.py::TestFormatAuthorDetails::test_format_without_doi PASSED [  1%]
tests/infrastructure/core/test_config_loader.py::TestFormatAuthorDetails::test_format_empty_authors PASSED [  1%]
tests/infrastructure/core/test_config_loader.py::TestFormatAuthorDetails::test_format_partial_info PASSED [  1%]
tests/infrastructure/core/test_config_loader.py::TestFormatAuthorName::test_format_single_author PASSED [  1%]
tests/infrastructure/core/test_config_loader.py::TestFormatAuthorName::test_format_multiple_authors PASSED [  1%]
tests/infrastructure/core/test_config_loader.py::TestFormatAuthorName::test_format_empty_authors PASSED [  1%]
tests/infrastructure/core/test_config_loader.py::TestFormatAuthorName::test_format_author_without_name PASSED [  1%]
tests/infrastructure/core/test_config_loader.py::TestGetConfigAsDict::test_get_full_config PASSED [  1%]
tests/infrastructure/core/test_config_loader.py::TestGetConfigAsDict::test_get_config_no_file PASSED [  1%]
tests/infrastructure/core/test_config_loader.py::TestGetConfigAsDict::test_get_config_minimal PASSED [  1%]
tests/infrastructure/core/test_config_loader.py::TestGetConfigAsEnvVars::test_respects_existing_env_vars PASSED [  1%]
tests/infrastructure/core/test_config_loader.py::TestGetConfigAsEnvVars::test_ignores_existing_env_vars PASSED [  1%]
tests/infrastructure/core/test_config_loader.py::TestFindConfigFile::test_finds_project_manuscript_config PASSED [  1%]
tests/infrastructure/core/test_config_loader.py::TestFindConfigFile::test_returns_none_when_not_found PASSED [  1%]
tests/infrastructure/core/test_config_loader.py::TestIntegration::test_complete_workflow PASSED [  1%]
tests/infrastructure/core/test_config_loader.py::TestGetTranslationLanguages::test_returns_empty_when_no_config PASSED [  1%]
tests/infrastructure/core/test_config_loader.py::TestGetTranslationLanguages::test_returns_empty_when_translations_disabled PASSED [  1%]
tests/infrastructure/core/test_config_loader.py::TestGetTranslationLanguages::test_returns_empty_when_no_llm_section PASSED [  1%]
tests/infrastructure/core/test_config_loader.py::TestGetTranslationLanguages::test_returns_languages_when_enabled PASSED [  2%]
tests/infrastructure/core/test_config_loader.py::TestGetTranslationLanguages::test_returns_single_language PASSED [  2%]
tests/infrastructure/core/test_config_loader.py::TestGetTranslationLanguages::test_returns_empty_for_invalid_languages_type PASSED [  2%]
tests/infrastructure/core/test_credentials.py::TestCredentialManagerInitialization::test_init_without_files PASSED [  2%]
tests/infrastructure/core/test_credentials.py::TestCredentialManagerInitialization::test_init_with_env_file PASSED [  2%]
tests/infrastructure/core/test_credentials.py::TestCredentialManagerInitialization::test_init_with_nonexistent_env_file PASSED [  2%]
tests/infrastructure/core/test_credentials.py::TestCredentialManagerInitialization::test_init_with_yaml_config PASSED [  2%]
tests/infrastructure/core/test_credentials.py::TestCredentialManagerInitialization::test_init_with_both_files PASSED [  2%]
tests/infrastructure/core/test_credentials.py::TestYAMLConfigLoading::test_load_simple_yaml_config PASSED [  2%]
tests/infrastructure/core/test_credentials.py::TestYAMLConfigLoading::test_load_nested_yaml_config PASSED [  2%]
tests/infrastructure/core/test_credentials.py::TestYAMLConfigLoading::test_env_var_substitution_in_yaml PASSED [  2%]
tests/infrastructure/core/test_credentials.py::TestYAMLConfigLoading::test_env_var_substitution_nested PASSED [  2%]
tests/infrastructure/core/test_credentials.py::TestYAMLConfigLoading::test_env_var_substitution_in_list PASSED [  2%]
tests/infrastructure/core/test_credentials.py::TestYAMLConfigLoading::test_env_var_substitution_missing_var PASSED [  2%]
tests/infrastructure/core/test_credentials.py::TestCredentialRetrieval::test_get_credential_from_env PASSED [  2%]
tests/infrastructure/core/test_credentials.py::TestCredentialRetrieval::test_get_credential_from_config PASSED [  2%]
tests/infrastructure/core/test_credentials.py::TestCredentialRetrieval::test_get_credential_env_priority PASSED [  2%]
tests/infrastructure/core/test_credentials.py::TestCredentialRetrieval::test_get_credential_nested_key PASSED [  2%]
tests/infrastructure/core/test_credentials.py::TestCredentialRetrieval::test_get_credential_default_value PASSED [  2%]
tests/infrastructure/core/test_credentials.py::TestCredentialRetrieval::test_get_credential_nonexistent PASSED [  2%]
tests/infrastructure/core/test_credentials.py::TestZenodoCredentials::test_get_zenodo_credentials_sandbox PASSED [  2%]
tests/infrastructure/core/test_credentials.py::TestZenodoCredentials::test_get_zenodo_credentials_production PASSED [  2%]
tests/infrastructure/core/test_credentials.py::TestZenodoCredentials::test_get_zenodo_credentials_missing PASSED [  2%]
tests/infrastructure/core/test_credentials.py::TestZenodoCredentials::test_has_zenodo_credentials PASSED [  3%]
tests/infrastructure/core/test_credentials.py::TestGitHubCredentials::test_get_github_credentials PASSED [  3%]
tests/infrastructure/core/test_credentials.py::TestGitHubCredentials::test_get_github_credentials_missing PASSED [  3%]
tests/infrastructure/core/test_credentials.py::TestGitHubCredentials::test_has_github_credentials PASSED [  3%]
tests/infrastructure/core/test_credentials.py::TestArxivCredentials::test_get_arxiv_credentials PASSED [  3%]
tests/infrastructure/core/test_credentials.py::TestArxivCredentials::test_get_arxiv_credentials_missing PASSED [  3%]
tests/infrastructure/core/test_credentials.py::TestArxivCredentials::test_has_arxiv_credentials PASSED [  3%]
tests/infrastructure/core/test_credentials.py::TestDotenvFallback::test_init_without_dotenv PASSED [  3%]
tests/infrastructure/core/test_environment.py::TestCheckPythonVersion::test_check_python_version_current PASSED [  3%]
tests/infrastructure/core/test_environment.py::TestCheckPythonVersion::test_check_python_version_38 PASSED [  3%]
tests/infrastructure/core/test_environment.py::TestCheckPythonVersion::test_check_python_version_37 PASSED [  3%]
tests/infrastructure/core/test_environment.py::TestCheckPythonVersion::test_check_python_version_2 PASSED [  3%]
tests/infrastructure/core/test_environment.py::TestCheckDependencies::test_check_dependencies_default PASSED [  3%]
tests/infrastructure/core/test_environment.py::TestCheckDependencies::test_check_dependencies_custom_list PASSED [  3%]
tests/infrastructure/core/test_environment.py::TestCheckDependencies::test_check_dependencies_missing_packages PASSED [  3%]
tests/infrastructure/core/test_environment.py::TestCheckDependencies::test_check_dependencies_mixed PASSED [  3%]
tests/infrastructure/core/test_environment.py::TestInstallMissingPackages::test_install_missing_packages_with_uv PASSED [  3%]
tests/infrastructure/core/test_environment.py::TestInstallMissingPackages::test_install_missing_packages_without_uv PASSED [  3%]
tests/infrastructure/core/test_environment.py::TestInstallMissingPackages::test_install_missing_packages_failure PASSED [  3%]
tests/infrastructure/core/test_environment.py::TestCheckBuildTools::test_check_build_tools_default PASSED [  3%]
tests/infrastructure/core/test_environment.py::TestCheckBuildTools::test_check_build_tools_all_available PASSED [  3%]
tests/infrastructure/core/test_environment.py::TestCheckBuildTools::test_check_build_tools_custom_list PASSED [  3%]
tests/infrastructure/core/test_environment.py::TestSetupDirectories::test_setup_directories_default PASSED [  3%]
tests/infrastructure/core/test_environment.py::TestSetupDirectories::test_setup_directories_custom PASSED [  4%]
tests/infrastructure/core/test_environment.py::TestSetupDirectories::test_setup_directories_existing PASSED [  4%]
tests/infrastructure/core/test_environment.py::TestSetupDirectories::test_setup_directories_empty_list PASSED [  4%]
tests/infrastructure/core/test_environment.py::TestVerifySourceStructure::test_verify_source_structure_complete PASSED [  4%]
tests/infrastructure/core/test_environment.py::TestVerifySourceStructure::test_verify_source_structure_missing_required PASSED [  4%]
tests/infrastructure/core/test_environment.py::TestVerifySourceStructure::test_verify_source_structure_with_optional PASSED [  4%]
tests/infrastructure/core/test_environment.py::TestVerifySourceStructure::test_verify_source_structure_missing_all PASSED [  4%]
tests/infrastructure/core/test_environment.py::TestSetEnvironmentVariables::test_set_environment_variables PASSED [  4%]
tests/infrastructure/core/test_environment.py::TestSetEnvironmentVariables::test_set_environment_variables_overwrites PASSED [  4%]
tests/infrastructure/core/test_exceptions.py::TestBaseTemplateError::test_basic_error PASSED [  4%]
tests/infrastructure/core/test_exceptions.py::TestBaseTemplateError::test_error_with_context PASSED [  4%]
tests/infrastructure/core/test_exceptions.py::TestBaseTemplateError::test_error_inheritance PASSED [  4%]
tests/infrastructure/core/test_exceptions.py::TestConfigurationErrors::test_configuration_error PASSED [  4%]
tests/infrastructure/core/test_exceptions.py::TestConfigurationErrors::test_missing_configuration_error PASSED [  4%]
tests/infrastructure/core/test_exceptions.py::TestConfigurationErrors::test_invalid_configuration_error PASSED [  4%]
tests/infrastructure/core/test_exceptions.py::TestValidationErrors::test_validation_error PASSED [  4%]
tests/infrastructure/core/test_exceptions.py::TestValidationErrors::test_markdown_validation_error PASSED [  4%]
tests/infrastructure/core/test_exceptions.py::TestValidationErrors::test_pdf_validation_error PASSED [  4%]
tests/infrastructure/core/test_exceptions.py::TestValidationErrors::test_data_validation_error PASSED [  4%]
tests/infrastructure/core/test_exceptions.py::TestBuildErrors::test_build_error PASSED [  4%]
tests/infrastructure/core/test_exceptions.py::TestBuildErrors::test_compilation_error PASSED [  4%]
tests/infrastructure/core/test_exceptions.py::TestBuildErrors::test_script_execution_error PASSED [  4%]
tests/infrastructure/core/test_exceptions.py::TestBuildErrors::test_pipeline_error PASSED [  4%]
tests/infrastructure/core/test_exceptions.py::TestFileOperationErrors::test_file_operation_error PASSED [  5%]
tests/infrastructure/core/test_exceptions.py::TestFileOperationErrors::test_file_not_found_error PASSED [  5%]
tests/infrastructure/core/test_exceptions.py::TestFileOperationErrors::test_invalid_file_format_error PASSED [  5%]
tests/infrastructure/core/test_exceptions.py::TestDependencyErrors::test_dependency_error PASSED [  5%]
tests/infrastructure/core/test_exceptions.py::TestDependencyErrors::test_missing_dependency_error PASSED [  5%]
tests/infrastructure/core/test_exceptions.py::TestDependencyErrors::test_version_mismatch_error PASSED [  5%]
tests/infrastructure/core/test_exceptions.py::TestTestErrors::test_test_error PASSED [  5%]
tests/infrastructure/core/test_exceptions.py::TestTestErrors::test_insufficient_coverage_error PASSED [  5%]
tests/infrastructure/core/test_exceptions.py::TestIntegrationError::test_integration_error PASSED [  5%]
tests/infrastructure/core/test_exceptions.py::TestUtilityFunctions::test_raise_with_context PASSED [  5%]
tests/infrastructure/core/test_exceptions.py::TestUtilityFunctions::test_format_file_context PASSED [  5%]
tests/infrastructure/core/test_exceptions.py::TestUtilityFunctions::test_format_file_context_no_line PASSED [  5%]
tests/infrastructure/core/test_exceptions.py::TestUtilityFunctions::test_format_file_context_with_path PASSED [  5%]
tests/infrastructure/core/test_exceptions.py::TestUtilityFunctions::test_chain_exceptions PASSED [  5%]
tests/infrastructure/core/test_exceptions.py::TestExceptionCatching::test_catch_all_template_errors PASSED [  5%]
tests/infrastructure/core/test_exceptions.py::TestExceptionCatching::test_catch_specific_exception_type PASSED [  5%]
tests/infrastructure/core/test_exceptions.py::TestExceptionCatching::test_catch_hierarchy PASSED [  5%]
tests/infrastructure/core/test_exceptions.py::TestContextPreservation::test_context_preserved_in_str PASSED [  5%]
tests/infrastructure/core/test_exceptions.py::TestContextPreservation::test_chained_context_accessible PASSED [  5%]
tests/infrastructure/core/test_exceptions.py::TestRealWorldUsagePatterns::test_config_loading_error_pattern PASSED [  5%]
tests/infrastructure/core/test_exceptions.py::TestRealWorldUsagePatterns::test_validation_error_pattern PASSED [  5%]
tests/infrastructure/core/test_exceptions.py::TestRealWorldUsagePatterns::test_build_error_pattern PASSED [  5%]
tests/infrastructure/core/test_file_operations.py::TestCleanOutputDirectory::test_clean_existing_directory_with_files PASSED [  5%]
tests/infrastructure/core/test_file_operations.py::TestCleanOutputDirectory::test_clean_existing_empty_directory PASSED [  6%]
tests/infrastructure/core/test_file_operations.py::TestCleanOutputDirectory::test_create_nonexistent_directory PASSED [  6%]
tests/infrastructure/core/test_file_operations.py::TestCleanOutputDirectory::test_clean_directory_with_nested_structure PASSED [  6%]
tests/infrastructure/core/test_file_operations.py::TestCleanOutputDirectory::test_clean_directory_preserves_directory_itself PASSED [  6%]
tests/infrastructure/core/test_file_operations.py::TestCleanOutputDirectories::test_clean_with_default_subdirs PASSED [  6%]
tests/infrastructure/core/test_file_operations.py::TestCleanOutputDirectories::test_clean_with_custom_subdirs PASSED [  6%]
tests/infrastructure/core/test_file_operations.py::TestCleanOutputDirectories::test_clean_creates_missing_directories PASSED [  6%]
tests/infrastructure/core/test_file_operations.py::TestCleanOutputDirectories::test_clean_removes_existing_content PASSED [  6%]
tests/infrastructure/core/test_file_operations.py::TestCleanOutputDirectories::test_clean_with_empty_subdirs_list PASSED [  6%]
tests/infrastructure/core/test_file_operations.py::TestCopyFinalDeliverables::test_copy_with_complete_structure PASSED [  6%]
tests/infrastructure/core/test_file_operations.py::TestCopyFinalDeliverables::test_copy_with_missing_project_output PASSED [  6%]
tests/infrastructure/core/test_file_operations.py::TestCopyFinalDeliverables::test_copy_counts_all_file_types PASSED [  6%]
tests/infrastructure/core/test_file_operations.py::TestCopyFinalDeliverables::test_copy_without_combined_pdf PASSED [  6%]
tests/infrastructure/core/test_file_operations.py::TestCopyFinalDeliverables::test_copy_preserves_nested_structure PASSED [  6%]
tests/infrastructure/core/test_file_operations.py::TestCopyFinalDeliverables::test_copy_handles_existing_output_dir PASSED [  6%]
tests/infrastructure/core/test_file_operations.py::TestCopyFinalDeliverables::test_copy_statistics_accuracy PASSED [  6%]
tests/infrastructure/core/test_file_operations.py::TestCopyFinalDeliverables::test_copy_error_handling PASSED [  6%]
tests/infrastructure/core/test_logging_helpers.py::TestFormatErrorWithSuggestions::test_format_template_error_with_all_fields PASSED [  6%]
tests/infrastructure/core/test_logging_helpers.py::TestFormatErrorWithSuggestions::test_format_template_error_without_context PASSED [  6%]
tests/infrastructure/core/test_logging_helpers.py::TestFormatErrorWithSuggestions::test_format_template_error_without_suggestions PASSED [  6%]
tests/infrastructure/core/test_logging_helpers.py::TestFormatErrorWithSuggestions::test_format_template_error_without_recovery_commands PASSED [  6%]
tests/infrastructure/core/test_logging_helpers.py::TestFormatErrorWithSuggestions::test_format_template_error_empty_fields PASSED [  6%]
tests/infrastructure/core/test_logging_helpers.py::TestFormatErrorWithSuggestions::test_format_non_template_error PASSED [  6%]
tests/infrastructure/core/test_logging_helpers.py::TestFormatErrorWithSuggestions::test_format_template_error_with_path_context PASSED [  6%]
tests/infrastructure/core/test_logging_helpers.py::TestFormatErrorWithSuggestions::test_format_template_error_with_string_path PASSED [  7%]
tests/infrastructure/core/test_logging_helpers.py::TestFormatErrorWithSuggestions::test_format_template_error_multiple_suggestions PASSED [  7%]
tests/infrastructure/core/test_logging_helpers.py::TestFormatErrorWithSuggestions::test_format_template_error_multiple_commands PASSED [  7%]
tests/infrastructure/core/test_logging_helpers.py::TestFormatDuration::test_format_seconds_less_than_minute PASSED [  7%]
tests/infrastructure/core/test_logging_helpers.py::TestFormatDuration::test_format_minutes_less_than_hour PASSED [  7%]
tests/infrastructure/core/test_logging_helpers.py::TestFormatDuration::test_format_hours_less_than_day PASSED [  7%]
tests/infrastructure/core/test_logging_helpers.py::TestFormatDuration::test_format_days PASSED [  7%]
tests/infrastructure/core/test_logging_helpers.py::TestFormatDuration::test_format_fractional_seconds PASSED [  7%]
tests/infrastructure/core/test_logging_helpers.py::TestFormatDuration::test_format_large_durations PASSED [  7%]
tests/infrastructure/core/test_logging_helpers.py::TestFormatDuration::test_format_edge_cases PASSED [  7%]
tests/infrastructure/core/test_logging_progress.py::TestCalculateEta::test_calculate_eta_basic PASSED [  7%]
tests/infrastructure/core/test_logging_progress.py::TestCalculateEta::test_calculate_eta_zero_completed PASSED [  7%]
tests/infrastructure/core/test_logging_progress.py::TestCalculateEta::test_calculate_eta_zero_total PASSED [  7%]
tests/infrastructure/core/test_logging_progress.py::TestCalculateEta::test_calculate_eta_completed_equals_total PASSED [  7%]
tests/infrastructure/core/test_logging_progress.py::TestCalculateEta::test_calculate_eta_completed_exceeds_total PASSED [  7%]
tests/infrastructure/core/test_logging_progress.py::TestCalculateEta::test_calculate_eta_fractional_values PASSED [  7%]
tests/infrastructure/core/test_logging_progress.py::TestCalculateEta::test_calculate_eta_negative_values PASSED [  7%]
tests/infrastructure/core/test_logging_progress.py::TestCalculateEtaEma::test_calculate_eta_ema_basic PASSED [  7%]
tests/infrastructure/core/test_logging_progress.py::TestCalculateEtaEma::test_calculate_eta_ema_with_previous PASSED [  7%]
tests/infrastructure/core/test_logging_progress.py::TestCalculateEtaEma::test_calculate_eta_ema_zero_completed PASSED [  7%]
tests/infrastructure/core/test_logging_progress.py::TestCalculateEtaEma::test_calculate_eta_ema_completed_equals_total PASSED [  7%]
tests/infrastructure/core/test_logging_progress.py::TestCalculateEtaEma::test_calculate_eta_ema_alpha_parameter PASSED [  7%]
tests/infrastructure/core/test_logging_progress.py::TestCalculateEtaEma::test_calculate_eta_ema_non_negative PASSED [  7%]
tests/infrastructure/core/test_logging_progress.py::TestCalculateEtaWithConfidence::test_calculate_eta_with_confidence_basic PASSED [  8%]
tests/infrastructure/core/test_logging_progress.py::TestCalculateEtaWithConfidence::test_calculate_eta_with_confidence_with_durations PASSED [  8%]
tests/infrastructure/core/test_logging_progress.py::TestCalculateEtaWithConfidence::test_calculate_eta_with_confidence_zero_completed PASSED [  8%]
tests/infrastructure/core/test_logging_progress.py::TestCalculateEtaWithConfidence::test_calculate_eta_with_confidence_completed_equals_total PASSED [  8%]
tests/infrastructure/core/test_logging_progress.py::TestCalculateEtaWithConfidence::test_calculate_eta_with_confidence_empty_durations PASSED [  8%]
tests/infrastructure/core/test_logging_progress.py::TestLogProgressBar::test_log_progress_bar_basic PASSED [  8%]
tests/infrastructure/core/test_logging_progress.py::TestLogProgressBar::test_log_progress_bar_zero_total PASSED [  8%]
tests/infrastructure/core/test_logging_progress.py::TestLogProgressBar::test_log_progress_bar_complete PASSED [  8%]
tests/infrastructure/core/test_logging_progress.py::TestLogProgressBar::test_log_progress_bar_custom_message PASSED [  8%]
tests/infrastructure/core/test_logging_progress.py::TestLogProgressBar::test_log_progress_bar_custom_width PASSED [  8%]
tests/infrastructure/core/test_logging_progress.py::TestSpinner::test_spinner_initialization PASSED [  8%]
tests/infrastructure/core/test_logging_progress.py::TestSpinner::test_spinner_start_non_tty PASSED [  8%]
tests/infrastructure/core/test_logging_progress.py::TestSpinner::test_spinner_stop_without_start PASSED [  8%]
tests/infrastructure/core/test_logging_progress.py::TestSpinner::test_spinner_context_manager PASSED [  8%]
tests/infrastructure/core/test_logging_progress.py::TestSpinner::test_spinner_stop_with_final_message PASSED [  8%]
tests/infrastructure/core/test_logging_progress.py::TestLogWithSpinner::test_log_with_spinner_basic PASSED [  8%]
tests/infrastructure/core/test_logging_progress.py::TestLogWithSpinner::test_log_with_spinner_final_message PASSED [  8%]
tests/infrastructure/core/test_logging_progress.py::TestLogWithSpinner::test_log_with_spinner_with_logger PASSED [  8%]
tests/infrastructure/core/test_logging_utils.py::TestLogLevelConfiguration::test_get_log_level_default PASSED [  8%]
tests/infrastructure/core/test_logging_utils.py::TestLogLevelConfiguration::test_get_log_level_debug PASSED [  8%]
tests/infrastructure/core/test_logging_utils.py::TestLogLevelConfiguration::test_get_log_level_info PASSED [  8%]
tests/infrastructure/core/test_logging_utils.py::TestLogLevelConfiguration::test_get_log_level_warning PASSED [  8%]
tests/infrastructure/core/test_logging_utils.py::TestLogLevelConfiguration::test_get_log_level_error PASSED [  8%]
tests/infrastructure/core/test_logging_utils.py::TestLogLevelConfiguration::test_get_log_level_invalid_defaults_to_info PASSED [  9%]
tests/infrastructure/core/test_logging_utils.py::TestLoggerSetup::test_setup_logger_basic PASSED [  9%]
tests/infrastructure/core/test_logging_utils.py::TestLoggerSetup::test_setup_logger_with_level PASSED [  9%]
tests/infrastructure/core/test_logging_utils.py::TestLoggerSetup::test_setup_logger_with_file PASSED [  9%]
tests/infrastructure/core/test_logging_utils.py::TestLoggerSetup::test_get_logger_creates_if_needed PASSED [  9%]
tests/infrastructure/core/test_logging_utils.py::TestLoggerSetup::test_get_logger_returns_existing PASSED [  9%]
tests/infrastructure/core/test_logging_utils.py::TestTemplateFormatter::test_formatter_includes_timestamp PASSED [  9%]
tests/infrastructure/core/test_logging_utils.py::TestTemplateFormatter::test_formatter_includes_emoji_when_enabled PASSED [  9%]
tests/infrastructure/core/test_logging_utils.py::TestTemplateFormatter::test_formatter_different_levels PASSED [  9%]
tests/infrastructure/core/test_logging_utils.py::TestContextManagers::test_log_operation_success PASSED [  9%]
tests/infrastructure/core/test_logging_utils.py::TestContextManagers::test_log_operation_suppresses_quick_operations PASSED [  9%]
tests/infrastructure/core/test_logging_utils.py::TestContextManagers::test_log_operation_failure PASSED [  9%]
tests/infrastructure/core/test_logging_utils.py::TestContextManagers::test_log_timing PASSED [  9%]
tests/infrastructure/core/test_logging_utils.py::TestDecorators::test_log_function_call PASSED [  9%]
tests/infrastructure/core/test_logging_utils.py::TestDecorators::test_log_function_call_with_exception PASSED [  9%]
tests/infrastructure/core/test_logging_utils.py::TestUtilityFunctions::test_log_success PASSED [  9%]
tests/infrastructure/core/test_logging_utils.py::TestUtilityFunctions::test_log_header PASSED [  9%]
tests/infrastructure/core/test_logging_utils.py::TestUtilityFunctions::test_log_progress PASSED [  9%]
tests/infrastructure/core/test_logging_utils.py::TestUtilityFunctions::test_log_progress_zero_total PASSED [  9%]
tests/infrastructure/core/test_logging_utils.py::TestGlobalConfiguration::test_set_global_log_level PASSED [  9%]
tests/infrastructure/core/test_logging_utils.py::TestIntegration::test_complete_logging_workflow PASSED [  9%]
tests/infrastructure/core/test_logging_utils.py::TestIntegration::test_multiple_loggers_independent PASSED [  9%]
tests/infrastructure/core/test_performance.py::TestResourceUsage::test_resource_usage_creation PASSED [  9%]
tests/infrastructure/core/test_performance.py::TestResourceUsage::test_resource_usage_defaults PASSED [ 10%]
tests/infrastructure/core/test_performance.py::TestResourceUsage::test_resource_usage_to_dict PASSED [ 10%]
tests/infrastructure/core/test_performance.py::TestPerformanceMetrics::test_performance_metrics_creation PASSED [ 10%]
tests/infrastructure/core/test_performance.py::TestPerformanceMetrics::test_performance_metrics_defaults PASSED [ 10%]
tests/infrastructure/core/test_performance.py::TestPerformanceMetrics::test_performance_metrics_to_dict PASSED [ 10%]
tests/infrastructure/core/test_performance.py::TestPerformanceMonitor::test_performance_monitor_initialization PASSED [ 10%]
tests/infrastructure/core/test_performance.py::TestPerformanceMonitor::test_performance_monitor_start_stop PASSED [ 10%]
tests/infrastructure/core/test_performance.py::TestPerformanceMonitor::test_performance_monitor_stop_without_start PASSED [ 10%]
tests/infrastructure/core/test_performance.py::TestPerformanceMonitor::test_performance_monitor_record_operation PASSED [ 10%]
tests/infrastructure/core/test_performance.py::TestPerformanceMonitor::test_performance_monitor_record_cache PASSED [ 10%]
tests/infrastructure/core/test_performance.py::TestPerformanceMonitor::test_performance_monitor_update_memory PASSED [ 10%]
tests/infrastructure/core/test_performance.py::TestPerformanceMonitor::test_get_memory_usage_with_psutil PASSED [ 10%]
tests/infrastructure/core/test_performance.py::TestPerformanceMonitor::test_get_memory_usage_without_psutil PASSED [ 10%]
tests/infrastructure/core/test_performance.py::TestPerformanceMonitor::test_get_cpu_percent_with_psutil PASSED [ 10%]
tests/infrastructure/core/test_performance.py::TestPerformanceMonitor::test_get_cpu_percent_without_psutil PASSED [ 10%]
tests/infrastructure/core/test_performance.py::TestMonitorPerformance::test_monitor_performance_context_manager PASSED [ 10%]
tests/infrastructure/core/test_performance.py::TestMonitorPerformance::test_monitor_performance_with_operations PASSED [ 10%]
tests/infrastructure/core/test_performance.py::TestGetSystemResources::test_get_system_resources_with_psutil PASSED [ 10%]
tests/infrastructure/core/test_performance.py::TestGetSystemResources::test_get_system_resources_without_psutil PASSED [ 10%]
tests/infrastructure/core/test_performance.py::TestStagePerformanceTracker::test_stage_performance_tracker_initialization PASSED [ 10%]
tests/infrastructure/core/test_performance.py::TestStagePerformanceTracker::test_start_stage PASSED [ 10%]
tests/infrastructure/core/test_performance.py::TestStagePerformanceTracker::test_start_stage_without_psutil PASSED [ 10%]
tests/infrastructure/core/test_performance.py::TestStagePerformanceTracker::test_end_stage PASSED [ 10%]
tests/infrastructure/core/test_performance.py::TestStagePerformanceTracker::test_end_stage_without_start PASSED [ 11%]
tests/infrastructure/core/test_performance.py::TestStagePerformanceTracker::test_get_performance_warnings_no_stages PASSED [ 11%]
tests/infrastructure/core/test_performance.py::TestStagePerformanceTracker::test_get_performance_warnings_slow_stage PASSED [ 11%]
tests/infrastructure/core/test_performance.py::TestStagePerformanceTracker::test_get_performance_warnings_high_memory PASSED [ 11%]
tests/infrastructure/core/test_performance.py::TestStagePerformanceTracker::test_get_performance_warnings_high_cpu PASSED [ 11%]
tests/infrastructure/core/test_performance.py::TestStagePerformanceTracker::test_get_summary PASSED [ 11%]
tests/infrastructure/core/test_performance.py::TestStagePerformanceTracker::test_get_summary_empty PASSED [ 11%]
tests/infrastructure/core/test_progress.py::TestProgressBar::test_progress_bar_initialization PASSED [ 11%]
tests/infrastructure/core/test_progress.py::TestProgressBar::test_progress_bar_initialization_defaults PASSED [ 11%]
tests/infrastructure/core/test_progress.py::TestProgressBar::test_progress_bar_update PASSED [ 11%]
tests/infrastructure/core/test_progress.py::TestProgressBar::test_progress_bar_update_overflow PASSED [ 11%]
tests/infrastructure/core/test_progress.py::TestProgressBar::test_progress_bar_update_throttling PASSED [ 11%]
tests/infrastructure/core/test_progress.py::TestProgressBar::test_progress_bar_update_force PASSED [ 11%]
tests/infrastructure/core/test_progress.py::TestProgressBar::test_progress_bar_finish PASSED [ 11%]
tests/infrastructure/core/test_progress.py::TestProgressBar::test_progress_bar_no_eta PASSED [ 11%]
tests/infrastructure/core/test_progress.py::TestSubStageProgress::test_substage_progress_initialization PASSED [ 11%]
tests/infrastructure/core/test_progress.py::TestSubStageProgress::test_substage_progress_start_substage PASSED [ 11%]
tests/infrastructure/core/test_progress.py::TestSubStageProgress::test_substage_progress_start_substage_no_name PASSED [ 11%]
tests/infrastructure/core/test_progress.py::TestSubStageProgress::test_substage_progress_complete_substage PASSED [ 11%]
tests/infrastructure/core/test_progress.py::TestSubStageProgress::test_substage_progress_complete_without_start PASSED [ 11%]
tests/infrastructure/core/test_progress.py::TestSubStageProgress::test_substage_progress_get_eta_zero PASSED [ 11%]
tests/infrastructure/core/test_progress.py::TestSubStageProgress::test_substage_progress_get_eta PASSED [ 11%]
tests/infrastructure/core/test_progress.py::TestSubStageProgress::test_substage_progress_log_progress PASSED [ 11%]
tests/infrastructure/core/test_progress.py::TestSubStageProgress::test_substage_progress_multiple_substages PASSED [ 12%]
tests/infrastructure/core/test_progress.py::TestSubStageProgress::test_substage_progress_eta_calculation PASSED [ 12%]
tests/infrastructure/core/test_progress.py::TestSubStageProgress::test_substage_progress_percentage PASSED [ 12%]
tests/infrastructure/core/test_progress.py::TestSubStageProgress::test_progress_bar_update_throttling_interval PASSED [ 12%]
tests/infrastructure/core/test_progress.py::TestSubStageProgress::test_progress_bar_force_update_bypasses_throttling PASSED [ 12%]
tests/infrastructure/core/test_progress.py::TestSubStageProgress::test_progress_bar_eta_calculation_slow_progress PASSED [ 12%]
tests/infrastructure/core/test_progress.py::TestSubStageProgress::test_progress_bar_eta_calculation_fast_progress PASSED [ 12%]
tests/infrastructure/core/test_progress.py::TestSubStageProgress::test_progress_bar_zero_total PASSED [ 12%]
tests/infrastructure/core/test_progress.py::TestSubStageProgress::test_progress_bar_very_large_total PASSED [ 12%]
tests/infrastructure/core/test_progress.py::TestSubStageProgress::test_progress_bar_terminal_output PASSED [ 12%]
tests/infrastructure/core/test_progress.py::TestSubStageProgress::test_progress_bar_non_terminal_output PASSED [ 12%]
tests/infrastructure/core/test_progress.py::TestSubStageProgress::test_substage_progress_no_substages PASSED [ 12%]
tests/infrastructure/core/test_progress.py::TestSubStageProgress::test_substage_progress_single_substage PASSED [ 12%]
tests/infrastructure/core/test_progress.py::TestSubStageProgress::test_substage_progress_eta_across_substages PASSED [ 12%]
tests/infrastructure/core/test_progress.py::TestSubStageProgress::test_substage_progress_logging_multiple_times PASSED [ 12%]
tests/infrastructure/core/test_progress.py::TestSubStageProgress::test_substage_progress_complete_all_substages PASSED [ 12%]
tests/infrastructure/core/test_progress.py::TestSubStageProgress::test_progress_bar_custom_width PASSED [ 12%]
tests/infrastructure/core/test_progress.py::TestSubStageProgress::test_progress_bar_update_interval_zero PASSED [ 12%]
tests/infrastructure/core/test_progress.py::TestSubStageProgress::test_substage_progress_get_eta_after_completion PASSED [ 12%]
tests/infrastructure/core/test_retry.py::TestRetryWithBackoff::test_retry_success_first_attempt PASSED [ 12%]
tests/infrastructure/core/test_retry.py::TestRetryWithBackoff::test_retry_success_after_retries PASSED [ 12%]
tests/infrastructure/core/test_retry.py::TestRetryWithBackoff::test_retry_failure_after_max_attempts PASSED [ 12%]
tests/infrastructure/core/test_retry.py::TestRetryWithBackoff::test_retry_specific_exception PASSED [ 12%]
tests/infrastructure/core/test_retry.py::TestRetryWithBackoff::test_retry_exponential_backoff PASSED [ 13%]
tests/infrastructure/core/test_retry.py::TestRetryWithBackoff::test_retry_max_delay PASSED [ 13%]
tests/infrastructure/core/test_retry.py::TestRetryWithBackoff::test_retry_with_jitter PASSED [ 13%]
tests/infrastructure/core/test_retry.py::TestRetryWithBackoff::test_retry_without_jitter PASSED [ 13%]
tests/infrastructure/core/test_retry.py::TestRetryWithBackoff::test_retry_function_preserves_signature PASSED [ 13%]
tests/infrastructure/core/test_retry.py::TestRetryOnTransientFailure::test_retry_on_ioerror PASSED [ 13%]
tests/infrastructure/core/test_retry.py::TestRetryOnTransientFailure::test_retry_on_connection_error PASSED [ 13%]
tests/infrastructure/core/test_retry.py::TestRetryOnTransientFailure::test_retry_on_timeout_error PASSED [ 13%]
tests/infrastructure/core/test_retry.py::TestRetryOnTransientFailure::test_no_retry_on_other_exception PASSED [ 13%]
tests/infrastructure/core/test_retry.py::TestRetryableOperation::test_retryable_operation_success PASSED [ 13%]
tests/infrastructure/core/test_retry.py::TestRetryableOperation::test_retryable_operation_retry PASSED [ 13%]
tests/infrastructure/core/test_retry.py::TestRetryableOperation::test_retryable_operation_failure PASSED [ 13%]
tests/infrastructure/core/test_retry.py::TestRetryableOperation::test_retryable_operation_exponential_backoff PASSED [ 13%]
tests/infrastructure/core/test_retry.py::TestRetryableOperation::test_retryable_operation_max_delay PASSED [ 13%]
tests/infrastructure/core/test_retry.py::TestRetryableOperation::test_retryable_operation_context_exit PASSED [ 13%]
tests/infrastructure/core/test_retry.py::TestRetryableOperation::test_retryable_operation_iteration PASSED [ 13%]
tests/infrastructure/core/test_retry.py::TestRetryableOperation::test_retry_with_backoff_custom_exception_types PASSED [ 13%]
tests/infrastructure/core/test_retry.py::TestRetryableOperation::test_retry_with_backoff_jitter_calculation PASSED [ 13%]
tests/infrastructure/core/test_retry.py::TestRetryableOperation::test_retry_with_backoff_exponential_progression PASSED [ 13%]
tests/infrastructure/core/test_retry.py::TestRetryableOperation::test_retry_with_backoff_on_retry_callback PASSED [ 13%]
tests/infrastructure/core/test_retry.py::TestRetryableOperation::test_retry_on_transient_failure_oserror PASSED [ 13%]
tests/infrastructure/core/test_retry.py::TestRetryableOperation::test_retry_on_transient_failure_retry_count_limit PASSED [ 13%]
tests/infrastructure/core/test_retry.py::TestRetryableOperation::test_retryable_operation_succeed_with_result PASSED [ 13%]
tests/infrastructure/core/test_retry.py::TestRetryableOperation::test_retryable_operation_succeed_without_result PASSED [ 13%]
tests/infrastructure/core/test_retry.py::TestRetryableOperation::test_retryable_operation_retry_method PASSED [ 14%]
tests/infrastructure/core/test_retry.py::TestRetryableOperation::test_retryable_operation_multiple_retries PASSED [ 14%]
tests/infrastructure/core/test_retry.py::TestRetryableOperation::test_retryable_operation_failure_after_max_attempts PASSED [ 14%]
tests/infrastructure/core/test_retry.py::TestRetryableOperation::test_retryable_operation_iterator_protocol PASSED [ 14%]
tests/infrastructure/core/test_script_discovery.py::TestDiscoverAnalysisScripts::test_discover_analysis_scripts_finds_python_files PASSED [ 14%]
tests/infrastructure/core/test_script_discovery.py::TestDiscoverAnalysisScripts::test_discover_analysis_scripts_ignores_hidden PASSED [ 14%]
tests/infrastructure/core/test_script_discovery.py::TestDiscoverAnalysisScripts::test_discover_analysis_scripts_sorted PASSED [ 14%]
tests/infrastructure/core/test_script_discovery.py::TestDiscoverAnalysisScripts::test_discover_analysis_scripts_empty_directory PASSED [ 14%]
tests/infrastructure/core/test_script_discovery.py::TestDiscoverAnalysisScripts::test_discover_analysis_scripts_missing_directory PASSED [ 14%]
tests/infrastructure/core/test_script_discovery.py::TestDiscoverAnalysisScripts::test_discover_analysis_scripts_ignores_non_python PASSED [ 14%]
tests/infrastructure/core/test_script_discovery.py::TestDiscoverOrchestrators::test_discover_orchestrators_finds_all PASSED [ 14%]
tests/infrastructure/core/test_script_discovery.py::TestDiscoverOrchestrators::test_discover_orchestrators_partial PASSED [ 14%]
tests/infrastructure/core/test_script_discovery.py::TestDiscoverOrchestrators::test_discover_orchestrators_missing_directory PASSED [ 14%]
tests/infrastructure/core/test_script_discovery.py::TestDiscoverOrchestrators::test_discover_orchestrators_empty_directory PASSED [ 14%]
tests/infrastructure/core/test_script_discovery.py::TestDiscoverOrchestrators::test_discover_orchestrators_returns_existing_only PASSED [ 14%]
tests/infrastructure/core/test_script_discovery.py::TestVerifyAnalysisOutputs::test_verify_analysis_outputs_with_files PASSED [ 14%]
tests/infrastructure/core/test_script_discovery.py::TestVerifyAnalysisOutputs::test_verify_analysis_outputs_empty_directories PASSED [ 14%]
tests/infrastructure/core/test_script_discovery.py::TestVerifyAnalysisOutputs::test_verify_analysis_outputs_missing_directories PASSED [ 14%]
tests/infrastructure/core/test_script_discovery.py::TestVerifyAnalysisOutputs::test_verify_analysis_outputs_partial PASSED [ 14%]
tests/infrastructure/core/test_script_discovery.py::TestVerifyAnalysisOutputs::test_verify_analysis_outputs_nested_files PASSED [ 14%]
tests/infrastructure/documentation/test_figure_manager.py::TestFigureMetadata::test_metadata_creation PASSED [ 14%]
tests/infrastructure/documentation/test_figure_manager.py::TestFigureMetadata::test_to_dict PASSED [ 14%]
tests/infrastructure/documentation/test_figure_manager.py::TestFigureMetadata::test_from_dict PASSED [ 14%]
tests/infrastructure/documentation/test_figure_manager.py::TestFigureManager::test_initialization PASSED [ 15%]
tests/infrastructure/documentation/test_figure_manager.py::TestFigureManager::test_register_figure PASSED [ 15%]
tests/infrastructure/documentation/test_figure_manager.py::TestFigureManager::test_register_figure_auto_label PASSED [ 15%]
tests/infrastructure/documentation/test_figure_manager.py::TestFigureManager::test_get_figure PASSED [ 15%]
tests/infrastructure/documentation/test_figure_manager.py::TestFigureManager::test_get_all_figures PASSED [ 15%]
tests/infrastructure/documentation/test_figure_manager.py::TestFigureManager::test_generate_latex_figure_block PASSED [ 15%]
tests/infrastructure/documentation/test_figure_manager.py::TestFigureManager::test_generate_reference PASSED [ 15%]
tests/infrastructure/documentation/test_figure_manager.py::TestFigureManager::test_generate_figure_list PASSED [ 15%]
tests/infrastructure/documentation/test_figure_manager.py::TestFigureManager::test_save_and_load_registry PASSED [ 15%]
tests/infrastructure/documentation/test_figure_manager.py::TestFigureManager::test_initialization_default_registry PASSED [ 15%]
tests/infrastructure/documentation/test_figure_manager.py::TestFigureManager::test_load_registry_with_figures PASSED [ 15%]
tests/infrastructure/documentation/test_figure_manager.py::TestFigureManager::test_load_registry_empty_dict PASSED [ 15%]
tests/infrastructure/documentation/test_figure_manager.py::TestFigureManager::test_load_registry_corrupted PASSED [ 15%]
tests/infrastructure/documentation/test_figure_manager.py::TestFigureManager::test_generate_latex_figure_block_not_found PASSED [ 15%]
tests/infrastructure/documentation/test_figure_manager.py::TestFigureManager::test_generate_figure_list_with_section PASSED [ 15%]
tests/infrastructure/documentation/test_figure_manager.py::TestFigureManager::test_generate_table_of_figures PASSED [ 15%]
tests/infrastructure/documentation/test_figure_manager.py::TestFigureManager::test_register_figure_with_metadata PASSED [ 15%]
tests/infrastructure/documentation/test_generate_glossary_cli.py::TestGenerateGlossaryCli::test_module_imports PASSED [ 15%]
tests/infrastructure/documentation/test_generate_glossary_cli.py::TestGenerateGlossaryCli::test_has_main PASSED [ 15%]
tests/infrastructure/documentation/test_generate_glossary_cli.py::TestGenerateGlossaryCli::test_main_execution PASSED [ 15%]
tests/infrastructure/documentation/test_glossary_gen.py::test_build_api_index_discovers_public_functions_and_classes PASSED [ 15%]
tests/infrastructure/documentation/test_glossary_gen.py::test_generate_markdown_table_includes_all_entries PASSED [ 15%]
tests/infrastructure/documentation/test_glossary_gen.py::test_generate_markdown_table_empty PASSED [ 15%]
tests/infrastructure/documentation/test_glossary_gen.py::test_inject_between_markers_replaces_when_present PASSED [ 16%]
tests/infrastructure/documentation/test_glossary_gen.py::test_inject_between_markers_appends_when_missing PASSED [ 16%]
tests/infrastructure/documentation/test_glossary_gen.py::test_first_sentence_handles_none_and_truncation PASSED [ 16%]
tests/infrastructure/documentation/test_glossary_gen.py::test_inject_between_markers_when_only_begin_present PASSED [ 16%]
tests/infrastructure/documentation/test_glossary_gen.py::test_inject_between_markers_when_end_before_begin PASSED [ 16%]
tests/infrastructure/documentation/test_glossary_gen.py::test_non_python_files_are_ignored PASSED [ 16%]
tests/infrastructure/documentation/test_glossary_gen.py::test_package_init_normalization PASSED [ 16%]
tests/infrastructure/documentation/test_glossary_gen.py::test_build_api_index_skips_unreadable_file PASSED [ 16%]
tests/infrastructure/documentation/test_image_manager.py::TestImageManager::test_initialization PASSED [ 16%]
tests/infrastructure/documentation/test_image_manager.py::TestImageManager::test_initialization_with_figure_manager PASSED [ 16%]
tests/infrastructure/documentation/test_image_manager.py::TestImageManager::test_insert_figure_nonexistent_file PASSED [ 16%]
tests/infrastructure/documentation/test_image_manager.py::TestImageManager::test_insert_figure_nonexistent_label PASSED [ 16%]
tests/infrastructure/documentation/test_image_manager.py::TestImageManager::test_insert_figure_success PASSED [ 16%]
tests/infrastructure/documentation/test_image_manager.py::TestImageManager::test_insert_reference PASSED [ 16%]
tests/infrastructure/documentation/test_image_manager.py::TestImageManager::test_validate_figures PASSED [ 16%]
tests/infrastructure/documentation/test_image_manager.py::TestImageManager::test_get_figure_list PASSED [ 16%]
tests/infrastructure/documentation/test_image_manager.py::TestImageManager::test_insert_figure_already_inserted PASSED [ 16%]
tests/infrastructure/documentation/test_image_manager.py::TestImageManager::test_insert_figure_position_end PASSED [ 16%]
tests/infrastructure/documentation/test_image_manager.py::TestImageManager::test_insert_figure_after_section PASSED [ 16%]
tests/infrastructure/documentation/test_image_manager.py::TestImageManager::test_insert_figure_after_section_no_next PASSED [ 16%]
tests/infrastructure/documentation/test_image_manager.py::TestImageManager::test_insert_figure_before_section PASSED [ 16%]
tests/infrastructure/documentation/test_image_manager.py::TestImageManager::test_insert_figure_section_not_found PASSED [ 16%]
tests/infrastructure/documentation/test_image_manager.py::TestImageManager::test_insert_figure_position_not_after_or_before PASSED [ 16%]
tests/infrastructure/documentation/test_image_manager.py::TestImageManager::test_insert_reference_nonexistent_file PASSED [ 17%]
tests/infrastructure/documentation/test_image_manager.py::TestImageManager::test_insert_reference_nonexistent_label PASSED [ 17%]
tests/infrastructure/documentation/test_image_manager.py::TestImageManager::test_insert_reference_already_referenced PASSED [ 17%]
tests/infrastructure/documentation/test_image_manager.py::TestImageManager::test_insert_reference_with_text PASSED [ 17%]
tests/infrastructure/documentation/test_image_manager.py::TestImageManager::test_insert_reference_with_position PASSED [ 17%]
tests/infrastructure/documentation/test_image_manager.py::TestImageManager::test_insert_reference_after_figure PASSED [ 17%]
tests/infrastructure/documentation/test_image_manager.py::TestImageManager::test_insert_reference_after_figure_no_paragraph PASSED [ 17%]
tests/infrastructure/documentation/test_image_manager.py::TestImageManager::test_validate_figures_nonexistent_file PASSED [ 17%]
tests/infrastructure/documentation/test_image_manager.py::TestImageManager::test_validate_figures_absolute_path PASSED [ 17%]
tests/infrastructure/documentation/test_image_manager.py::TestImageManager::test_validate_figures_existing_file PASSED [ 17%]
tests/infrastructure/documentation/test_image_manager.py::TestImageManager::test_validate_figures_unregistered_label PASSED [ 17%]
tests/infrastructure/documentation/test_image_manager.py::TestImageManager::test_get_figure_list_nonexistent_file PASSED [ 17%]
tests/infrastructure/documentation/test_markdown_integration.py::TestMarkdownIntegration::test_initialization PASSED [ 17%]
tests/infrastructure/documentation/test_markdown_integration.py::TestMarkdownIntegration::test_initialization_default_manuscript_dir PASSED [ 17%]
tests/infrastructure/documentation/test_markdown_integration.py::TestMarkdownIntegration::test_detect_sections PASSED [ 17%]
tests/infrastructure/documentation/test_markdown_integration.py::TestMarkdownIntegration::test_detect_sections_nonexistent_file PASSED [ 17%]
tests/infrastructure/documentation/test_markdown_integration.py::TestMarkdownIntegration::test_insert_figure_in_section PASSED [ 17%]
tests/infrastructure/documentation/test_markdown_integration.py::TestMarkdownIntegration::test_generate_table_of_figures PASSED [ 17%]
tests/infrastructure/documentation/test_markdown_integration.py::TestMarkdownIntegration::test_generate_table_of_figures_with_section PASSED [ 17%]
tests/infrastructure/documentation/test_markdown_integration.py::TestMarkdownIntegration::test_generate_table_of_figures_custom_output PASSED [ 17%]
tests/infrastructure/documentation/test_markdown_integration.py::TestMarkdownIntegration::test_update_all_references PASSED [ 17%]
tests/infrastructure/documentation/test_markdown_integration.py::TestMarkdownIntegration::test_update_all_references_nonexistent_file PASSED [ 17%]
tests/infrastructure/documentation/test_markdown_integration.py::TestMarkdownIntegration::test_update_all_references_with_insertion PASSED [ 17%]
tests/infrastructure/documentation/test_markdown_integration.py::TestMarkdownIntegration::test_update_all_references_existing_ref PASSED [ 18%]
tests/infrastructure/documentation/test_markdown_integration.py::TestMarkdownIntegration::test_update_all_references_label_not_found PASSED [ 18%]
tests/infrastructure/documentation/test_markdown_integration.py::TestMarkdownIntegration::test_update_all_references_no_figure_end PASSED [ 18%]
tests/infrastructure/documentation/test_markdown_integration.py::TestMarkdownIntegration::test_validate_manuscript PASSED [ 18%]
tests/infrastructure/documentation/test_markdown_integration.py::TestMarkdownIntegration::test_validate_manuscript_with_errors PASSED [ 18%]
tests/infrastructure/documentation/test_markdown_integration.py::TestMarkdownIntegration::test_get_figure_statistics PASSED [ 18%]
tests/infrastructure/literature/test_analysis.py::TestDomainDetector::test_detect_domain_physics PASSED [ 18%]
tests/infrastructure/literature/test_analysis.py::TestDomainDetector::test_detect_domain_computer_science PASSED [ 18%]
tests/infrastructure/literature/test_analysis.py::TestDomainDetector::test_detect_domain_biology PASSED [ 18%]
tests/infrastructure/literature/test_analysis.py::TestDomainDetector::test_domain_keywords_available PASSED [ 18%]
tests/infrastructure/literature/test_analysis.py::TestPaperAnalyzer::test_analyze_paper PASSED [ 18%]
tests/infrastructure/literature/test_analysis.py::TestPaperAnalyzer::test_analyze_structure PASSED [ 18%]
tests/infrastructure/literature/test_analysis.py::TestContextBuilder::test_build_context SKIPPEDe 'title') [ 18%]
tests/infrastructure/literature/test_api.py::TestArxivSource::test_xml_parsing_logic PASSED [ 18%]
tests/infrastructure/literature/test_api.py::TestArxivSource::test_search_error_handling PASSED [ 18%]
tests/infrastructure/literature/test_api.py::TestArxivSource::test_search_network_call PASSED [ 18%]
tests/infrastructure/literature/test_api.py::TestSemanticScholarSource::test_json_parsing_logic PASSED [ 18%]
tests/infrastructure/literature/test_api.py::TestSemanticScholarSource::test_json_parsing_empty_response PASSED [ 18%]
tests/infrastructure/literature/test_chunker.py::TestPDFChunker::test_chunk_small_text PASSED [ 18%]
tests/infrastructure/literature/test_chunker.py::TestPDFChunker::test_chunk_preserves_sections PASSED [ 18%]
tests/infrastructure/literature/test_chunker.py::TestPDFChunker::test_identify_sections PASSED [ 18%]
tests/infrastructure/literature/test_chunker.py::TestPDFChunker::test_chunk_overlap PASSED [ 18%]
tests/infrastructure/literature/test_chunker.py::TestPDFChunker::test_estimate_chunk_summary_size PASSED [ 18%]
tests/infrastructure/literature/test_chunker.py::TestPDFChunker::test_combine_chunk_summaries PASSED [ 19%]
tests/infrastructure/literature/test_chunker.py::TestPDFChunker::test_chunk_with_empty_text PASSED [ 19%]
tests/infrastructure/literature/test_chunker.py::TestPDFChunker::test_chunk_min_size PASSED [ 19%]
tests/infrastructure/literature/test_clear_operations.py::TestClearPdfs::test_clear_pdfs_nonexistent_directory PASSED [ 19%]
tests/infrastructure/literature/test_clear_operations.py::TestClearPdfs::test_clear_pdfs_no_files PASSED [ 19%]
tests/infrastructure/literature/test_clear_operations.py::TestClearPdfs::test_clear_pdfs_with_files PASSED [ 19%]
tests/infrastructure/literature/test_clear_operations.py::TestClearPdfs::test_clear_pdfs_interactive_cancelled PASSED [ 19%]
tests/infrastructure/literature/test_clear_operations.py::TestClearPdfs::test_clear_pdfs_interactive_confirmed PASSED [ 19%]
tests/infrastructure/literature/test_clear_operations.py::TestClearSummaries::test_clear_summaries_nonexistent_directory PASSED [ 19%]
tests/infrastructure/literature/test_clear_operations.py::TestClearSummaries::test_clear_summaries_no_files PASSED [ 19%]
tests/infrastructure/literature/test_clear_operations.py::TestClearSummaries::test_clear_summaries_with_files PASSED [ 19%]
tests/infrastructure/literature/test_clear_operations.py::TestClearSummaries::test_clear_summaries_interactive_cancelled PASSED [ 19%]
tests/infrastructure/literature/test_clear_operations.py::TestClearLibrary::test_clear_library_already_empty PASSED [ 19%]
tests/infrastructure/literature/test_clear_operations.py::TestClearLibrary::test_clear_library_complete PASSED [ 19%]
tests/infrastructure/literature/test_clear_operations.py::TestClearLibrary::test_clear_library_interactive_cancelled PASSED [ 19%]
tests/infrastructure/literature/test_clear_operations.py::TestClearLibrary::test_clear_library_error_handling PASSED [ 19%]
tests/infrastructure/literature/test_config.py::TestLiteratureConfig::test_config_initialization PASSED [ 19%]
tests/infrastructure/literature/test_config.py::TestLiteratureConfig::test_config_defaults PASSED [ 19%]
tests/infrastructure/literature/test_config.py::TestLiteratureConfig::test_config_custom_values PASSED [ 19%]
tests/infrastructure/literature/test_config.py::TestLiteratureConfig::test_config_bibtex_file PASSED [ 19%]
tests/infrastructure/literature/test_config.py::TestLiteratureConfig::test_config_sources_list PASSED [ 19%]
tests/infrastructure/literature/test_config.py::TestLiteratureConfigFromEnv::test_from_env_default_values PASSED [ 19%]
tests/infrastructure/literature/test_config.py::TestLiteratureConfigFromEnv::test_from_env_custom_limit PASSED [ 19%]
tests/infrastructure/literature/test_config.py::TestLiteratureConfigFromEnv::test_from_env_max_results PASSED [ 20%]
tests/infrastructure/literature/test_config.py::TestLiteratureConfigFromEnv::test_from_env_arxiv_delay PASSED [ 20%]
tests/infrastructure/literature/test_config.py::TestLiteratureConfigFromEnv::test_from_env_semanticscholar_delay PASSED [ 20%]
tests/infrastructure/literature/test_config.py::TestLiteratureConfigFromEnv::test_from_env_retry_attempts PASSED [ 20%]
tests/infrastructure/literature/test_config.py::TestLiteratureConfigFromEnv::test_from_env_retry_delay PASSED [ 20%]
tests/infrastructure/literature/test_config.py::TestLiteratureConfigFromEnv::test_from_env_semanticscholar_api_key PASSED [ 20%]
tests/infrastructure/literature/test_config.py::TestLiteratureConfigFromEnv::test_from_env_download_dir PASSED [ 20%]
tests/infrastructure/literature/test_config.py::TestLiteratureConfigFromEnv::test_from_env_timeout PASSED [ 20%]
tests/infrastructure/literature/test_config.py::TestLiteratureConfigFromEnv::test_from_env_bibtex_file PASSED [ 20%]
tests/infrastructure/literature/test_config.py::TestLiteratureConfigFromEnv::test_from_env_sources_comma_separated PASSED [ 20%]
tests/infrastructure/literature/test_config.py::TestLiteratureConfigFromEnv::test_from_env_sources_with_whitespace PASSED [ 20%]
tests/infrastructure/literature/test_config.py::TestLiteratureConfigFromEnv::test_from_env_user_agent PASSED [ 20%]
tests/infrastructure/literature/test_config.py::TestLiteratureConfigFromEnv::test_from_env_all_values PASSED [ 20%]
tests/infrastructure/literature/test_config.py::TestLiteratureConfigUnpaywall::test_unpaywall_defaults PASSED [ 20%]
tests/infrastructure/literature/test_config.py::TestLiteratureConfigUnpaywall::test_unpaywall_custom_values PASSED [ 20%]
tests/infrastructure/literature/test_config.py::TestLiteratureConfigUnpaywall::test_from_env_unpaywall_enabled PASSED [ 20%]
tests/infrastructure/literature/test_config.py::TestLiteratureConfigUnpaywall::test_from_env_unpaywall_disabled PASSED [ 20%]
tests/infrastructure/literature/test_config.py::TestLiteratureConfigUnpaywall::test_from_env_unpaywall_yes PASSED [ 20%]
tests/infrastructure/literature/test_config.py::TestLiteratureConfigUnpaywall::test_from_env_unpaywall_1 PASSED [ 20%]
tests/infrastructure/literature/test_config.py::TestLiteratureConfigDownloadRetry::test_download_retry_defaults PASSED [ 20%]
tests/infrastructure/literature/test_config.py::TestLiteratureConfigDownloadRetry::test_download_retry_custom_values PASSED [ 20%]
tests/infrastructure/literature/test_config.py::TestLiteratureConfigDownloadRetry::test_from_env_download_retry_attempts PASSED [ 20%]
tests/infrastructure/literature/test_config.py::TestLiteratureConfigDownloadRetry::test_from_env_download_retry_delay PASSED [ 20%]
tests/infrastructure/literature/test_config.py::TestLiteratureConfigDownloadRetry::test_from_env_browser_user_agent_false PASSED [ 20%]
tests/infrastructure/literature/test_config.py::TestLiteratureConfigDownloadRetry::test_from_env_browser_user_agent_default_true PASSED [ 21%]
tests/infrastructure/literature/test_config.py::TestBrowserUserAgents::test_browser_user_agents_exist PASSED [ 21%]
tests/infrastructure/literature/test_config.py::TestBrowserUserAgents::test_browser_user_agents_are_strings PASSED [ 21%]
tests/infrastructure/literature/test_core.py::test_search_integration PASSED [ 21%]
tests/infrastructure/literature/test_core.py::test_download_paper SKIPPED [ 21%]
tests/infrastructure/literature/test_core.py::test_add_to_library PASSED [ 21%]
tests/infrastructure/literature/test_core.py::TestHealthStatus::test_get_source_health_status_with_unpaywall PASSED [ 21%]
tests/infrastructure/literature/test_core.py::TestHealthStatus::test_get_source_health_status_without_unpaywall PASSED [ 21%]
tests/infrastructure/literature/test_core.py::TestHealthStatus::test_ping_sources_handles_unpaywall PASSED [ 21%]
tests/infrastructure/literature/test_core.py::TestHealthStatus::test_check_all_sources_health_with_unpaywall PASSED [ 21%]
tests/infrastructure/literature/test_core.py::TestHealthStatus::test_health_status_graceful_degradation PASSED [ 21%]
tests/infrastructure/literature/test_html_parsing.py::TestExtractPDFUrlsFromHTML::test_extract_pdf_urls_basic_href PASSED [ 21%]
tests/infrastructure/literature/test_html_parsing.py::TestExtractPDFUrlsFromHTML::test_extract_pdf_urls_case_insensitive PASSED [ 21%]
tests/infrastructure/literature/test_html_parsing.py::TestExtractPDFUrlsFromHTML::test_extract_pdf_urls_meta_tags PASSED [ 21%]
tests/infrastructure/literature/test_html_parsing.py::TestExtractPDFUrlsFromHTML::test_extract_pdf_urls_javascript_variables PASSED [ 21%]
tests/infrastructure/literature/test_html_parsing.py::TestExtractPDFUrlsFromHTML::test_extract_pdf_urls_publisher_patterns PASSED [ 21%]
tests/infrastructure/literature/test_html_parsing.py::TestExtractPDFUrlsFromHTML::test_extract_pdf_urls_relative_urls PASSED [ 21%]
tests/infrastructure/literature/test_html_parsing.py::TestExtractPDFUrlsFromHTML::test_extract_pdf_urls_filter_invalid PASSED [ 21%]
tests/infrastructure/literature/test_html_parsing.py::TestExtractPDFUrlsFromHTML::test_extract_pdf_urls_empty_html PASSED [ 21%]
tests/infrastructure/literature/test_html_parsing.py::TestExtractPDFUrlsFromHTML::test_extract_pdf_urls_malformed_html PASSED [ 21%]
tests/infrastructure/literature/test_html_parsing.py::TestExtractPDFUrlsFromHTML::test_extract_pdf_urls_multiple_occurrences PASSED [ 21%]
tests/infrastructure/literature/test_html_parsing.py::TestExtractPDFUrlsFromHTML::test_extract_pdf_urls_complex_html PASSED [ 21%]
tests/infrastructure/literature/test_html_parsing.py::TestPDFHandlerHTMLIntegration::test_parse_html_for_pdf_method PASSED [ 21%]
tests/infrastructure/literature/test_html_parsing.py::TestPDFHandlerHTMLIntegration::test_html_parsing_with_real_world_examples PASSED [ 22%]
tests/infrastructure/literature/test_html_parsing.py::TestPDFHandlerHTMLIntegration::test_html_parsing_edge_cases PASSED [ 22%]
tests/infrastructure/literature/test_html_parsing.py::TestPDFHandlerHTMLIntegration::test_html_parsing_url_validation PASSED [ 22%]
tests/infrastructure/literature/test_html_parsing.py::TestHTMLParsingIntegration::test_html_parsing_does_not_break_existing_functionality PASSED [ 22%]
tests/infrastructure/literature/test_html_parsing.py::TestHTMLParsingIntegration::test_html_parsing_performance PASSED [ 22%]
tests/infrastructure/literature/test_integration.py::test_full_workflow SKIPPEDfter trying 2 URL(s) plus fallbacks: HTTP 404
(attempted_urls=['http://example.com/paper.pdf',
'http://example.com/paper.pdf (retry 1)', 'http://example.com/paper.pdf
(retry 2)', 'https://doi.org/10.1234/test.123',
'https://doi.org/10.1234/test.123 (retry 1)',
'https://doi.org/10.1234/test.123 (retry 2)'], output_path=/private/var/
folders/vc/rgmbpjpj0dbg61vr54xjskc80000gn/T/pytest-
of-4d/pytest-1015/test_full_workflow0/pdfs/one2023test.pdf,
failure_reason=not_found))                                               [ 22%]
tests/infrastructure/literature/test_integration.py::test_reference_manager_deduplication PASSED [ 22%]
tests/infrastructure/literature/test_library_index.py::TestLibraryEntry::test_entry_creation_basic PASSED [ 22%]
tests/infrastructure/literature/test_library_index.py::TestLibraryEntry::test_entry_defaults PASSED [ 22%]
tests/infrastructure/literature/test_library_index.py::TestLibraryEntry::test_entry_to_dict PASSED [ 22%]
tests/infrastructure/literature/test_library_index.py::TestLibraryEntry::test_entry_from_dict PASSED [ 22%]
tests/infrastructure/literature/test_library_index.py::TestLibraryIndex::test_init_creates_empty_index PASSED [ 22%]
tests/infrastructure/literature/test_library_index.py::TestLibraryIndex::test_init_loads_existing_index PASSED [ 22%]
tests/infrastructure/literature/test_library_index.py::TestLibraryIndex::test_generate_citation_key_basic PASSED [ 22%]
tests/infrastructure/literature/test_library_index.py::TestLibraryIndex::test_generate_citation_key_no_year PASSED [ 22%]
tests/infrastructure/literature/test_library_index.py::TestLibraryIndex::test_generate_citation_key_no_authors PASSED [ 22%]
tests/infrastructure/literature/test_library_index.py::TestLibraryIndex::test_generate_citation_key_skips_common_words PASSED [ 22%]
tests/infrastructure/literature/test_library_index.py::TestLibraryIndex::test_generate_citation_key_handles_special_chars PASSED [ 22%]
tests/infrastructure/literature/test_library_index.py::TestLibraryIndex::test_add_entry_basic PASSED [ 22%]
tests/infrastructure/literature/test_library_index.py::TestLibraryIndex::test_add_entry_saves_to_disk PASSED [ 22%]
tests/infrastructure/literature/test_library_index.py::TestLibraryIndex::test_add_entry_deduplicates_by_doi PASSED [ 22%]
tests/infrastructure/literature/test_library_index.py::TestLibraryIndex::test_add_entry_deduplicates_by_title PASSED [ 22%]
tests/infrastructure/literature/test_library_index.py::TestLibraryIndex::test_add_entry_stores_metadata PASSED [ 22%]
tests/infrastructure/literature/test_library_index.py::TestLibraryIndex::test_update_pdf_path PASSED [ 23%]
tests/infrastructure/literature/test_library_index.py::TestLibraryIndex::test_update_pdf_path_nonexistent PASSED [ 23%]
tests/infrastructure/literature/test_library_index.py::TestLibraryIndex::test_get_entry_existing PASSED [ 23%]
tests/infrastructure/literature/test_library_index.py::TestLibraryIndex::test_get_entry_nonexistent PASSED [ 23%]
tests/infrastructure/literature/test_library_index.py::TestLibraryIndex::test_list_entries_empty PASSED [ 23%]
tests/infrastructure/literature/test_library_index.py::TestLibraryIndex::test_list_entries_multiple PASSED [ 23%]
tests/infrastructure/literature/test_library_index.py::TestLibraryIndex::test_has_paper_by_doi PASSED [ 23%]
tests/infrastructure/literature/test_library_index.py::TestLibraryIndex::test_has_paper_by_title PASSED [ 23%]
tests/infrastructure/literature/test_library_index.py::TestLibraryIndex::test_export_json PASSED [ 23%]
tests/infrastructure/literature/test_library_index.py::TestLibraryIndex::test_export_json_default_path PASSED [ 23%]
tests/infrastructure/literature/test_library_index.py::TestLibraryIndex::test_get_stats_empty PASSED [ 23%]
tests/infrastructure/literature/test_library_index.py::TestLibraryIndex::test_get_stats_with_entries PASSED [ 23%]
tests/infrastructure/literature/test_library_index.py::TestLibraryIndex::test_handles_corrupt_json PASSED [ 23%]
tests/infrastructure/literature/test_library_index.py::TestLibraryIndex::test_duplicate_key_handling PASSED [ 23%]
tests/infrastructure/literature/test_library_index.py::TestLibraryIndexIntegration::test_roundtrip_save_load PASSED [ 23%]
tests/infrastructure/literature/test_library_index.py::TestLibraryIndexIntegration::test_concurrent_adds PASSED [ 23%]
tests/infrastructure/literature/test_literature_cli.py::TestCLIExecution::test_cli_help_output PASSED [ 23%]
tests/infrastructure/literature/test_literature_cli.py::TestCLIExecution::test_cli_importable PASSED [ 23%]
tests/infrastructure/literature/test_literature_cli.py::TestCLIExecution::test_cli_module_structure PASSED [ 23%]
tests/infrastructure/literature/test_literature_cli.py::TestCLIExecution::test_cli_no_command_shows_help PASSED [ 23%]
tests/infrastructure/literature/test_literature_cli.py::TestSearchCommand::test_search_command_no_results PASSED [ 23%]
tests/infrastructure/literature/test_literature_cli.py::TestSearchCommand::test_search_command_with_results PASSED [ 23%]
tests/infrastructure/literature/test_literature_cli.py::TestSearchCommand::test_search_command_with_download PASSED [ 23%]
tests/infrastructure/literature/test_literature_cli.py::TestSearchCommand::test_search_command_with_sources PASSED [ 24%]
tests/infrastructure/literature/test_literature_cli.py::TestLibraryListCommand::test_library_list_empty PASSED [ 24%]
tests/infrastructure/literature/test_literature_cli.py::TestLibraryListCommand::test_library_list_with_entries PASSED [ 24%]
tests/infrastructure/literature/test_literature_cli.py::TestLibraryListCommand::test_library_list_no_pdf PASSED [ 24%]
tests/infrastructure/literature/test_literature_cli.py::TestLibraryExportCommand::test_library_export_default PASSED [ 24%]
tests/infrastructure/literature/test_literature_cli.py::TestLibraryExportCommand::test_library_export_custom_output PASSED [ 24%]
tests/infrastructure/literature/test_literature_cli.py::TestLibraryExportCommand::test_library_export_error PASSED [ 24%]
tests/infrastructure/literature/test_literature_cli.py::TestLibraryStatsCommand::test_library_stats_basic PASSED [ 24%]
tests/infrastructure/literature/test_literature_cli.py::TestLibraryStatsCommand::test_library_stats_with_year_range PASSED [ 24%]
tests/infrastructure/literature/test_literature_cli.py::TestLibraryStatsCommand::test_library_stats_with_sources PASSED [ 24%]
tests/infrastructure/literature/test_literature_cli.py::TestLibraryStatsCommand::test_library_stats_with_years PASSED [ 24%]
tests/infrastructure/literature/test_literature_cli.py::TestMainFunction::test_main_search_command PASSED [ 24%]
tests/infrastructure/literature/test_literature_cli.py::TestMainFunction::test_main_library_list PASSED [ 24%]
tests/infrastructure/literature/test_literature_cli.py::TestMainFunction::test_main_library_export PASSED [ 24%]
tests/infrastructure/literature/test_literature_cli.py::TestMainFunction::test_main_library_stats PASSED [ 24%]
tests/infrastructure/literature/test_literature_cli.py::TestMainFunction::test_main_no_command PASSED [ 24%]
tests/infrastructure/literature/test_literature_cli.py::TestMainFunction::test_main_exception_handling PASSED [ 24%]
tests/infrastructure/literature/test_literature_cli.py::TestSearchCommandEdgeCases::test_search_command_search_failure PASSED [ 24%]
tests/infrastructure/literature/test_literature_cli.py::TestSearchCommandEdgeCases::test_search_command_empty_query PASSED [ 24%]
tests/infrastructure/literature/test_literature_cli.py::TestSearchCommandEdgeCases::test_search_command_invalid_limit PASSED [ 24%]
tests/infrastructure/literature/test_literature_cli.py::TestSearchCommandEdgeCases::test_search_command_download_failure PASSED [ 24%]
tests/infrastructure/literature/test_literature_cli.py::TestSearchCommandEdgeCases::test_search_command_add_to_library_failure PASSED [ 24%]
tests/infrastructure/literature/test_literature_cli.py::TestSearchCommandEdgeCases::test_search_command_sources_empty_string PASSED [ 24%]
tests/infrastructure/literature/test_literature_cli.py::TestLibraryListCommandEdgeCases::test_library_list_malformed_entry_missing_title PASSED [ 25%]
tests/infrastructure/literature/test_literature_cli.py::TestLibraryListCommandEdgeCases::test_library_list_entry_long_title PASSED [ 25%]
tests/infrastructure/literature/test_literature_cli.py::TestLibraryListCommandEdgeCases::test_library_list_entry_no_authors PASSED [ 25%]
tests/infrastructure/literature/test_literature_cli.py::TestLibraryListCommandEdgeCases::test_library_list_entry_no_year PASSED [ 25%]
tests/infrastructure/literature/test_literature_cli.py::TestLibraryExportCommandEdgeCases::test_library_export_invalid_format PASSED [ 25%]
tests/infrastructure/literature/test_literature_cli.py::TestLibraryExportCommandEdgeCases::test_library_export_file_io_error PASSED [ 25%]
tests/infrastructure/literature/test_literature_cli.py::TestLibraryExportCommandEdgeCases::test_library_export_path_conversion PASSED [ 25%]
tests/infrastructure/literature/test_literature_cli.py::TestLibraryStatsCommandEdgeCases::test_library_stats_empty_stats PASSED [ 25%]
tests/infrastructure/literature/test_literature_cli.py::TestLibraryStatsCommandEdgeCases::test_library_stats_only_oldest_year PASSED [ 25%]
tests/infrastructure/literature/test_literature_cli.py::TestLibraryStatsCommandEdgeCases::test_library_stats_only_newest_year PASSED [ 25%]
tests/infrastructure/literature/test_literature_cli.py::TestLibraryStatsCommandEdgeCases::test_library_stats_many_years PASSED [ 25%]
tests/infrastructure/literature/test_literature_cli.py::TestArgumentParsingEdgeCases::test_main_invalid_command PASSED [ 25%]
tests/infrastructure/literature/test_literature_cli.py::TestArgumentParsingEdgeCases::test_main_library_no_subcommand PASSED [ 25%]
tests/infrastructure/literature/test_literature_cli.py::TestArgumentParsingEdgeCases::test_main_search_no_query PASSED [ 25%]
tests/infrastructure/literature/test_literature_cli.py::TestArgumentParsingEdgeCases::test_search_command_multiple_papers PASSED [ 25%]
tests/infrastructure/literature/test_literature_cli.py::TestArgumentParsingEdgeCases::test_search_command_paper_without_doi_or_citations PASSED [ 25%]
tests/infrastructure/literature/test_literature_cli.py::TestArgumentParsingEdgeCases::test_library_list_entry_without_doi PASSED [ 25%]
tests/infrastructure/literature/test_literature_cli.py::TestArgumentParsingEdgeCases::test_library_list_single_author PASSED [ 25%]
tests/infrastructure/literature/test_literature_cli.py::TestArgumentParsingEdgeCases::test_library_stats_with_all_fields PASSED [ 25%]
tests/infrastructure/literature/test_literature_cli.py::TestArgumentParsingEdgeCases::test_library_list_uses_from_env_when_env_vars_set PASSED [ 25%]
tests/infrastructure/literature/test_literature_cli.py::TestArgumentParsingEdgeCases::test_library_stats_uses_from_env_when_env_vars_set PASSED [ 25%]
tests/infrastructure/literature/test_literature_cli_simple.py::TestCLIExecution::test_cli_help_output PASSED [ 25%]
tests/infrastructure/literature/test_literature_cli_simple.py::TestCLIExecution::test_cli_importable PASSED [ 25%]
tests/infrastructure/literature/test_literature_cli_simple.py::TestCLIExecution::test_cli_module_structure PASSED [ 26%]
tests/infrastructure/literature/test_literature_integration_real.py::TestRealLiteratureSearch::test_real_search_arxiv PASSED [ 26%]
tests/infrastructure/literature/test_literature_integration_real.py::TestRealLiteratureSearch::test_real_search_semanticscholar PASSED [ 26%]
tests/infrastructure/literature/test_literature_integration_real.py::TestRealLiteratureSearch::test_real_search_multiple_sources PASSED [ 26%]
tests/infrastructure/literature/test_literature_integration_real.py::TestRealLiteratureSearch::test_real_search_with_statistics PASSED [ 26%]
tests/infrastructure/literature/test_literature_integration_real.py::TestRealPDFDownload::test_real_pdf_download_arxiv PASSED [ 26%]
tests/infrastructure/literature/test_literature_integration_real.py::TestRealPDFDownload::test_real_pdf_download_with_fallbacks PASSED [ 26%]
tests/infrastructure/literature/test_literature_integration_real.py::TestRealLibraryManagement::test_real_add_to_library PASSED [ 26%]
tests/infrastructure/literature/test_literature_integration_real.py::TestRealLibraryManagement::test_real_library_deduplication PASSED [ 26%]
tests/infrastructure/literature/test_literature_integration_real.py::TestRealLibraryManagement::test_real_library_stats PASSED [ 26%]
tests/infrastructure/literature/test_literature_integration_real.py::TestRealWorkflowEndToEnd::test_real_complete_workflow PASSED [ 26%]
tests/infrastructure/literature/test_llm_operations.py::TestLLMOperationResult::test_result_creation PASSED [ 26%]
tests/infrastructure/literature/test_llm_operations.py::TestLLMOperationResult::test_result_defaults PASSED [ 26%]
tests/infrastructure/literature/test_llm_operations.py::TestLiteratureLLMOperations::test_initialization PASSED [ 26%]
tests/infrastructure/literature/test_llm_operations.py::TestLiteratureLLMOperations::test_generate_literature_review_no_summaries PASSED [ 26%]
tests/infrastructure/literature/test_llm_operations.py::TestLiteratureLLMOperations::test_generate_literature_review_with_summaries PASSED [ 26%]
tests/infrastructure/literature/test_llm_operations.py::TestLiteratureLLMOperations::test_generate_literature_review_max_papers PASSED [ 26%]
tests/infrastructure/literature/test_llm_operations.py::TestLiteratureLLMOperations::test_generate_science_communication PASSED [ 26%]
tests/infrastructure/literature/test_llm_operations.py::TestLiteratureLLMOperations::test_generate_comparative_analysis PASSED [ 26%]
tests/infrastructure/literature/test_llm_operations.py::TestLiteratureLLMOperations::test_identify_research_gaps PASSED [ 26%]
tests/infrastructure/literature/test_llm_operations.py::TestLiteratureLLMOperations::test_analyze_citation_network PASSED [ 26%]
tests/infrastructure/literature/test_llm_operations.py::TestLiteratureLLMOperations::test_save_result PASSED [ 26%]
tests/infrastructure/literature/test_llm_operations.py::TestLiteratureLLMOperations::test_generate_literature_review_empty_papers PASSED [ 26%]
tests/infrastructure/literature/test_llm_operations.py::TestLiteratureLLMOperations::test_generate_literature_review_summary_read_error PASSED [ 26%]
tests/infrastructure/literature/test_llm_operations.py::TestLiteratureLLMOperations::test_generate_science_communication_many_papers PASSED [ 27%]
tests/infrastructure/literature/test_llm_operations.py::TestLiteratureLLMOperations::test_generate_science_communication_no_abstract PASSED [ 27%]
tests/infrastructure/literature/test_llm_operations.py::TestLiteratureLLMOperations::test_generate_comparative_analysis_single_paper PASSED [ 27%]
tests/infrastructure/literature/test_llm_operations.py::TestLiteratureLLMOperations::test_generate_comparative_analysis_many_papers PASSED [ 27%]
tests/infrastructure/literature/test_llm_operations.py::TestLiteratureLLMOperations::test_identify_research_gaps_many_papers PASSED [ 27%]
tests/infrastructure/literature/test_llm_operations.py::TestLiteratureLLMOperations::test_identify_research_gaps_no_abstract PASSED [ 27%]
tests/infrastructure/literature/test_llm_operations.py::TestLiteratureLLMOperations::test_analyze_citation_network_many_papers PASSED [ 27%]
tests/infrastructure/literature/test_llm_operations.py::TestLiteratureLLMOperations::test_analyze_citation_network_no_year PASSED [ 27%]
tests/infrastructure/literature/test_llm_operations.py::TestLiteratureLLMOperations::test_save_result_nested_directory PASSED [ 27%]
tests/infrastructure/literature/test_llm_operations.py::TestLiteratureLLMOperations::test_save_result_with_metadata PASSED [ 27%]
tests/infrastructure/literature/test_llm_operations.py::TestLiteratureLLMOperations::test_save_result_existing_directory PASSED [ 27%]
tests/infrastructure/literature/test_llm_operations.py::TestLiteratureLLMOperations::test_llm_client_query_failure PASSED [ 27%]
tests/infrastructure/literature/test_llm_operations.py::TestLiteratureLLMOperations::test_token_estimation_accuracy PASSED [ 27%]
tests/infrastructure/literature/test_llm_operations.py::TestLiteratureLLMOperations::test_generation_time_tracking PASSED [ 27%]
tests/infrastructure/literature/test_llm_operations.py::TestLiteratureLLMOperations::test_save_result_file_path_format PASSED [ 27%]
tests/infrastructure/literature/test_llm_operations.py::TestLiteratureLLMOperations::test_save_result_content_structure PASSED [ 27%]
tests/infrastructure/literature/test_logging.py::TestWorkflowLogging::test_download_logging_structure PASSED [ 27%]
tests/infrastructure/literature/test_logging.py::TestWorkflowLogging::test_summarization_logging_structure PASSED [ 27%]
tests/infrastructure/literature/test_logging.py::TestWorkflowLogging::test_error_logging_structure PASSED [ 27%]
tests/infrastructure/literature/test_logging.py::TestWorkflowLogging::test_timing_and_performance_logging PASSED [ 27%]
tests/infrastructure/literature/test_logging.py::TestWorkflowLogging::test_file_size_logging PASSED [ 27%]
tests/infrastructure/literature/test_logging.py::TestLoggingOutputFormat::test_progress_indicators PASSED [ 27%]
tests/infrastructure/literature/test_logging.py::TestLoggingOutputFormat::test_summary_statistics_format PASSED [ 27%]
tests/infrastructure/literature/test_logging.py::TestLoggingOutputFormat::test_error_message_formatting PASSED [ 28%]
tests/infrastructure/literature/test_logging.py::TestLogLevelConsistency::test_info_level_for_progress PASSED [ 28%]
tests/infrastructure/literature/test_logging.py::TestLogLevelConsistency::test_warning_level_for_recoverable_errors PASSED [ 28%]
tests/infrastructure/literature/test_logging.py::TestLogLevelConsistency::test_error_level_for_failures PASSED [ 28%]
tests/infrastructure/literature/test_logging.py::TestLogLevelConsistency::test_debug_level_for_detailed_info PASSED [ 28%]
tests/infrastructure/literature/test_meta_analysis.py::TestDataAggregator::test_aggregate_library_data PASSED [ 28%]
tests/infrastructure/literature/test_meta_analysis.py::TestDataAggregator::test_prepare_temporal_data PASSED [ 28%]
tests/infrastructure/literature/test_meta_analysis.py::TestDataAggregator::test_prepare_keyword_data PASSED [ 28%]
tests/infrastructure/literature/test_meta_analysis.py::TestDataAggregator::test_prepare_metadata_data PASSED [ 28%]
tests/infrastructure/literature/test_meta_analysis.py::TestDataAggregator::test_prepare_text_corpus PASSED [ 28%]
tests/infrastructure/literature/test_meta_analysis.py::TestTemporalAnalysis::test_get_publication_trends PASSED [ 28%]
tests/infrastructure/literature/test_meta_analysis.py::TestTemporalAnalysis::test_get_publication_trends_no_aggregator PASSED [ 28%]
tests/infrastructure/literature/test_meta_analysis.py::TestTemporalAnalysis::test_filter_by_year_range PASSED [ 28%]
tests/infrastructure/literature/test_meta_analysis.py::TestTemporalAnalysis::test_filter_by_year_range_empty_list PASSED [ 28%]
tests/infrastructure/literature/test_meta_analysis.py::TestTemporalAnalysis::test_filter_by_year_range_no_bounds PASSED [ 28%]
tests/infrastructure/literature/test_meta_analysis.py::TestTemporalAnalysis::test_filter_by_year_range_only_start PASSED [ 28%]
tests/infrastructure/literature/test_meta_analysis.py::TestTemporalAnalysis::test_filter_by_year_range_only_end PASSED [ 28%]
tests/infrastructure/literature/test_meta_analysis.py::TestTemporalAnalysis::test_analyze_publication_rate PASSED [ 28%]
tests/infrastructure/literature/test_meta_analysis.py::TestTemporalAnalysis::test_create_publication_timeline_plot PASSED [ 28%]
tests/infrastructure/literature/test_meta_analysis.py::TestKeywordAnalysis::test_extract_keywords_over_time PASSED [ 28%]
tests/infrastructure/literature/test_meta_analysis.py::TestKeywordAnalysis::test_detect_emerging_keywords PASSED [ 28%]
tests/infrastructure/literature/test_meta_analysis.py::TestKeywordAnalysis::test_detect_emerging_keywords_empty_data PASSED [ 28%]
tests/infrastructure/literature/test_meta_analysis.py::TestKeywordAnalysis::test_detect_emerging_keywords_insufficient_years PASSED [ 28%]
tests/infrastructure/literature/test_meta_analysis.py::TestKeywordAnalysis::test_create_keyword_frequency_plot PASSED [ 29%]
tests/infrastructure/literature/test_meta_analysis.py::TestKeywordAnalysis::test_create_keyword_evolution_plot PASSED [ 29%]
tests/infrastructure/literature/test_meta_analysis.py::TestMetadataAnalysis::test_create_venue_distribution_plot PASSED [ 29%]
tests/infrastructure/literature/test_meta_analysis.py::TestMetadataAnalysis::test_create_author_contributions_plot PASSED [ 29%]
tests/infrastructure/literature/test_meta_analysis.py::TestMetadataAnalysis::test_create_citation_distribution_plot PASSED [ 29%]
tests/infrastructure/literature/test_meta_analysis.py::TestMetadataAnalysis::test_get_metadata_summary PASSED [ 29%]
tests/infrastructure/literature/test_meta_analysis.py::TestPCAAnalysis::test_extract_text_features PASSED [ 29%]
tests/infrastructure/literature/test_meta_analysis.py::TestPCAAnalysis::test_compute_pca SKIPPED [ 29%]
tests/infrastructure/literature/test_meta_analysis.py::TestPCAAnalysis::test_cluster_papers SKIPPED [ 29%]
tests/infrastructure/literature/test_meta_analysis.py::TestPCAAnalysis::test_create_pca_2d_plot SKIPPED [ 29%]
tests/infrastructure/literature/test_meta_analysis.py::TestMetadataCompleteness::test_calculate_completeness_stats PASSED [ 29%]
tests/infrastructure/literature/test_meta_analysis.py::TestMetadataCompleteness::test_create_metadata_completeness_plot PASSED [ 29%]
tests/infrastructure/literature/test_meta_analysis.py::TestPCALoadingsVisualizations::test_create_loadings_visualizations SKIPPED [ 29%]
tests/infrastructure/literature/test_meta_analysis.py::TestGraphicalAbstract::test_create_single_page_abstract PASSED [ 29%]
tests/infrastructure/literature/test_meta_analysis.py::TestGraphicalAbstract::test_create_multi_page_abstract PASSED [ 29%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelectionConfig::test_config_creation PASSED [ 29%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelectionConfig::test_config_defaults PASSED [ 29%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelectionConfig::test_config_from_dict PASSED [ 29%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelectionConfig::test_config_from_dict_partial PASSED [ 29%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_selector_initialization PASSED [ 29%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_from_config_file_exists PASSED [ 29%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_from_config_file_not_exists PASSED [ 29%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_from_config_invalid_yaml PASSED [ 29%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_select_by_citation_keys PASSED [ 30%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_select_by_year_range PASSED [ 30%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_select_by_year_min_only PASSED [ 30%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_select_by_year_max_only PASSED [ 30%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_select_by_sources PASSED [ 30%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_select_by_has_pdf PASSED [ 30%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_select_by_has_summary PASSED [ 30%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_select_by_keywords PASSED [ 30%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_select_with_limit PASSED [ 30%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_select_multiple_criteria PASSED [ 30%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_select_no_criteria PASSED [ 30%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_config_from_dict_empty_selection PASSED [ 30%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_config_from_dict_no_selection_key PASSED [ 30%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_config_from_dict_years_min_only PASSED [ 30%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_config_from_dict_years_max_only PASSED [ 30%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_from_config_file_encoding_error PASSED [ 30%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_from_config_file_empty_file PASSED [ 30%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_filter_by_citation_keys_empty_list PASSED [ 30%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_filter_by_citation_keys_nonexistent PASSED [ 30%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_filter_by_years_no_year_entries PASSED [ 30%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_filter_by_years_exact_boundaries PASSED [ 30%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_filter_by_sources_multiple_sources PASSED [ 30%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_filter_by_sources_no_source_field PASSED [ 30%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_filter_by_pdf_availability_false PASSED [ 31%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_filter_by_pdf_availability_relative_path PASSED [ 31%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_filter_by_summary_availability_false PASSED [ 31%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_filter_by_keywords_case_insensitive PASSED [ 31%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_filter_by_keywords_multiple_keywords_all_required PASSED [ 31%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_filter_by_keywords_in_abstract PASSED [ 31%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_filter_by_keywords_word_boundaries PASSED [ 31%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_get_selection_summary_with_filters PASSED [ 31%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_get_selection_summary_no_filters PASSED [ 31%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_get_selection_summary_zero_total PASSED [ 31%]
tests/infrastructure/literature/test_paper_selector.py::TestPaperSelector::test_select_papers_complex_multi_criteria PASSED [ 31%]
tests/infrastructure/literature/test_pdf_handler_comprehensive.py::TestPDFHandlerInit::test_init_creates_download_directory PASSED [ 31%]
tests/infrastructure/literature/test_pdf_handler_comprehensive.py::TestPDFHandlerInit::test_init_with_existing_directory PASSED [ 31%]
tests/infrastructure/literature/test_pdf_handler_comprehensive.py::TestPDFHandlerCore::test_download_with_mock_content PASSED [ 31%]
tests/infrastructure/literature/test_pdf_handler_comprehensive.py::TestPDFHandlerCore::test_file_operations PASSED [ 31%]
tests/infrastructure/literature/test_pdf_handler_comprehensive.py::TestPDFHandlerCore::test_path_handling PASSED [ 31%]
tests/infrastructure/literature/test_pdf_handler_comprehensive.py::TestPDFHandlerCore::test_error_handling PASSED [ 31%]
tests/infrastructure/literature/test_pdf_handler_comprehensive.py::TestPDFHandlerIntegration::test_with_search_result PASSED [ 31%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestTitleNormalization::test_normalize_basic PASSED [ 31%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestTitleNormalization::test_normalize_extra_whitespace PASSED [ 31%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestTitleNormalization::test_normalize_special_chars PASSED [ 31%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestTitleNormalization::test_normalize_empty_string PASSED [ 31%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestTitleSimilarity::test_identical_titles PASSED [ 31%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestTitleSimilarity::test_case_insensitive PASSED [ 32%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestTitleSimilarity::test_different_titles PASSED [ 32%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestTitleSimilarity::test_partial_overlap PASSED [ 32%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestTitleSimilarity::test_empty_title PASSED [ 32%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestTransformPdfUrl::test_pmc_ncbi_pattern PASSED [ 32%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestTransformPdfUrl::test_pmc_new_domain PASSED [ 32%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestTransformPdfUrl::test_europepmc_pattern PASSED [ 32%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestTransformPdfUrl::test_arxiv_abs_pattern PASSED [ 32%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestTransformPdfUrl::test_biorxiv_pattern PASSED [ 32%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestTransformPdfUrl::test_medrxiv_pattern PASSED [ 32%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestTransformPdfUrl::test_mdpi_pattern PASSED [ 32%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestTransformPdfUrl::test_no_transformation_needed PASSED [ 32%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestTransformPdfUrl::test_excludes_original_url PASSED [ 32%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestArxivSourceTitleSearch::test_arxiv_source_initialization PASSED [ 32%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestArxivSourceTitleSearch::test_search_by_title_returns_none_for_no_match PASSED [ 32%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestBiorxivSource::test_biorxiv_source_initialization PASSED [ 32%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestBiorxivSource::test_search_by_doi_nonexistent PASSED [ 32%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestBiorxivSource::test_get_pdf_url_nonexistent PASSED [ 32%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestBiorxivSource::test_doi_cleaning PASSED [ 32%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestPDFHandlerFallbackIntegration::test_handler_initialization PASSED [ 32%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestPDFHandlerFallbackIntegration::test_get_arxiv_fallback_no_title PASSED [ 32%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestPDFHandlerFallbackIntegration::test_get_biorxiv_fallback_no_doi PASSED [ 32%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestPDFHandlerFallbackIntegration::test_fallback_chain_with_existing_pdf PASSED [ 32%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestTransformPdfUrlMultiplePatterns::test_pmc_with_trailing_content PASSED [ 33%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestTransformPdfUrlMultiplePatterns::test_arxiv_old_format PASSED [ 33%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestTransformPdfUrlMultiplePatterns::test_frontiers_pattern PASSED [ 33%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestTransformPdfUrlMultiplePatterns::test_sciencedirect_pattern PASSED [ 33%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestArxivSourceAttributes::test_similarity_threshold PASSED [ 33%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestBiorxivSourceAttributes::test_similarity_threshold PASSED [ 33%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestPDFHandlerDocstring::test_docstring_mentions_fallbacks PASSED [ 33%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestTitleSimilarityEdgeCases::test_unicode_titles PASSED [ 33%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestTitleSimilarityEdgeCases::test_identical_unicode_titles PASSED [ 33%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestTitleSimilarityEdgeCases::test_hyphenated_words PASSED [ 33%]
tests/infrastructure/literature/test_pdf_handler_fallbacks.py::TestTitleSimilarityEdgeCases::test_numbers_in_titles PASSED [ 33%]
tests/infrastructure/literature/test_pdf_handler_simple.py::TestPDFHandlerInit::test_init_creates_download_directory PASSED [ 33%]
tests/infrastructure/literature/test_pdf_handler_simple.py::TestPDFHandlerInit::test_init_with_existing_directory PASSED [ 33%]
tests/infrastructure/literature/test_pdf_handler_simple.py::TestPDFHandlerCore::test_download_with_mock_content PASSED [ 33%]
tests/infrastructure/literature/test_pdf_handler_simple.py::TestPDFHandlerCore::test_file_operations PASSED [ 33%]
tests/infrastructure/literature/test_pdf_handler_simple.py::TestPDFHandlerCore::test_path_handling PASSED [ 33%]
tests/infrastructure/literature/test_pdf_handler_simple.py::TestPDFHandlerCore::test_error_handling PASSED [ 33%]
tests/infrastructure/literature/test_pdf_handler_simple.py::TestPDFHandlerIntegration::test_with_search_result PASSED [ 33%]
tests/infrastructure/literature/test_progress.py::TestProgressEntry::test_creation PASSED [ 33%]
tests/infrastructure/literature/test_progress.py::TestProgressEntry::test_is_completed PASSED [ 33%]
tests/infrastructure/literature/test_progress.py::TestProgressEntry::test_custom_values PASSED [ 33%]
tests/infrastructure/literature/test_progress.py::TestSummarizationProgress::test_creation PASSED [ 33%]
tests/infrastructure/literature/test_progress.py::TestSummarizationProgress::test_statistics_empty PASSED [ 33%]
tests/infrastructure/literature/test_progress.py::TestSummarizationProgress::test_statistics_with_entries PASSED [ 33%]
tests/infrastructure/literature/test_progress.py::TestSummarizationProgress::test_serialization PASSED [ 34%]
tests/infrastructure/literature/test_progress.py::TestSummarizationProgress::test_summary_stats PASSED [ 34%]
tests/infrastructure/literature/test_progress.py::TestProgressTracker::test_initialization PASSED [ 34%]
tests/infrastructure/literature/test_progress.py::TestProgressTracker::test_start_new_run PASSED [ 34%]
tests/infrastructure/literature/test_progress.py::TestProgressTracker::test_load_existing_run PASSED [ 34%]
tests/infrastructure/literature/test_progress.py::TestProgressTracker::test_load_nonexistent_file PASSED [ 34%]
tests/infrastructure/literature/test_progress.py::TestProgressTracker::test_update_entry_status PASSED [ 34%]
tests/infrastructure/literature/test_progress.py::TestProgressTracker::test_update_nonexistent_entry PASSED [ 34%]
tests/infrastructure/literature/test_progress.py::TestProgressTracker::test_add_paper PASSED [ 34%]
tests/infrastructure/literature/test_progress.py::TestProgressTracker::test_get_incomplete_papers PASSED [ 34%]
tests/infrastructure/literature/test_progress.py::TestProgressTracker::test_get_failed_papers PASSED [ 34%]
tests/infrastructure/literature/test_progress.py::TestProgressTracker::test_archive_progress PASSED [ 34%]
tests/infrastructure/literature/test_prompt_builder.py::TestPromptBuilder::test_draft_prompt_includes_quote_requirements PASSED [ 34%]
tests/infrastructure/literature/test_prompt_builder.py::TestPromptBuilder::test_draft_prompt_includes_length_requirement PASSED [ 34%]
tests/infrastructure/literature/test_prompt_builder.py::TestPromptBuilder::test_draft_prompt_includes_quote_formatting PASSED [ 34%]
tests/infrastructure/literature/test_prompt_builder.py::TestPromptBuilder::test_draft_prompt_includes_evidence_requirements PASSED [ 34%]
tests/infrastructure/literature/test_prompt_builder.py::TestPromptBuilder::test_draft_prompt_includes_comprehensive_coverage PASSED [ 34%]
tests/infrastructure/literature/test_prompt_builder.py::TestPromptBuilder::test_draft_prompt_includes_full_text_emphasis PASSED [ 34%]
tests/infrastructure/literature/test_prompt_builder.py::TestPromptBuilder::test_refinement_prompt_includes_enhanced_quote_requirements PASSED [ 34%]
tests/infrastructure/literature/test_prompt_builder.py::TestPromptBuilder::test_refinement_prompt_includes_length_requirement PASSED [ 34%]
tests/infrastructure/literature/test_prompt_builder.py::TestPromptBuilder::test_refinement_prompt_includes_quote_extraction_guidance PASSED [ 34%]
tests/infrastructure/literature/test_prompt_builder.py::TestPromptBuilder::test_refinement_prompt_includes_methodology_requirements PASSED [ 34%]
tests/infrastructure/literature/test_prompt_builder.py::TestPromptBuilder::test_refinement_prompt_includes_results_requirements PASSED [ 34%]
tests/infrastructure/literature/test_prompt_builder.py::TestPromptBuilder::test_instructions_section_quote_requirements PASSED [ 35%]
tests/infrastructure/literature/test_prompt_builder.py::TestPromptBuilder::test_instructions_section_length_requirement PASSED [ 35%]
tests/infrastructure/literature/test_prompt_builder.py::TestPromptBuilder::test_instructions_section_quote_formatting PASSED [ 35%]
tests/infrastructure/literature/test_prompt_builder.py::TestPromptBuilder::test_validation_checklist_quote_requirement PASSED [ 35%]
tests/infrastructure/literature/test_prompt_builder.py::TestPromptBuilder::test_validation_checklist_length_requirement PASSED [ 35%]
tests/infrastructure/literature/test_prompt_builder.py::TestPromptBuilder::test_prompt_includes_key_terms PASSED [ 35%]
tests/infrastructure/literature/test_prompt_builder.py::TestPromptBuilder::test_prompt_includes_title PASSED [ 35%]
tests/infrastructure/literature/test_prompt_builder.py::TestPromptBuilder::test_prompt_includes_full_text PASSED [ 35%]
tests/infrastructure/literature/test_pure_logic.py::TestSearchResultDataclass::test_search_result_creation PASSED [ 35%]
tests/infrastructure/literature/test_pure_logic.py::TestSearchResultDataclass::test_search_result_minimal PASSED [ 35%]
tests/infrastructure/literature/test_pure_logic.py::TestSearchResultDataclass::test_search_result_defaults PASSED [ 35%]
tests/infrastructure/literature/test_pure_logic.py::TestReferenceManagerKeyGeneration::test_generate_key_basic PASSED [ 35%]
tests/infrastructure/literature/test_pure_logic.py::TestReferenceManagerKeyGeneration::test_generate_key_multiple_authors PASSED [ 35%]
tests/infrastructure/literature/test_pure_logic.py::TestReferenceManagerKeyGeneration::test_generate_key_no_year PASSED [ 35%]
tests/infrastructure/literature/test_pure_logic.py::TestReferenceManagerKeyGeneration::test_generate_key_no_authors PASSED [ 35%]
tests/infrastructure/literature/test_pure_logic.py::TestReferenceManagerKeyGeneration::test_generate_key_special_characters PASSED [ 35%]
tests/infrastructure/literature/test_pure_logic.py::TestReferenceManagerKeyGeneration::test_generate_key_compound_name PASSED [ 35%]
tests/infrastructure/literature/test_pure_logic.py::TestReferenceManagerBibTeXFormatting::test_format_bibtex_complete PASSED [ 35%]
tests/infrastructure/literature/test_pure_logic.py::TestReferenceManagerBibTeXFormatting::test_format_bibtex_minimal PASSED [ 35%]
tests/infrastructure/literature/test_pure_logic.py::TestReferenceManagerBibTeXFormatting::test_format_bibtex_multiple_authors PASSED [ 35%]
tests/infrastructure/literature/test_pure_logic.py::TestReferenceManagerFileOperations::test_add_reference_creates_file PASSED [ 35%]
tests/infrastructure/literature/test_pure_logic.py::TestReferenceManagerFileOperations::test_add_reference_appends_to_file PASSED [ 35%]
tests/infrastructure/literature/test_pure_logic.py::TestReferenceManagerFileOperations::test_add_reference_deduplication PASSED [ 35%]
tests/infrastructure/literature/test_pure_logic.py::TestReferenceManagerFileOperations::test_add_reference_creates_parent_dirs PASSED [ 36%]
tests/infrastructure/literature/test_pure_logic.py::TestLiteratureSearchDeduplication::test_deduplicate_by_doi PASSED [ 36%]
tests/infrastructure/literature/test_pure_logic.py::TestLiteratureSearchDeduplication::test_deduplicate_by_title PASSED [ 36%]
tests/infrastructure/literature/test_pure_logic.py::TestLiteratureSearchDeduplication::test_deduplicate_preserves_order PASSED [ 36%]
tests/infrastructure/literature/test_pure_logic.py::TestLiteratureSearchDeduplication::test_deduplicate_empty_list PASSED [ 36%]
tests/infrastructure/literature/test_pure_logic.py::TestLiteratureSearchDeduplication::test_deduplicate_title_whitespace PASSED [ 36%]
tests/infrastructure/literature/test_pure_logic.py::TestLiteratureSearchDownloadPaper::test_download_paper_no_pdf_url PASSED [ 36%]
tests/infrastructure/literature/test_pure_logic.py::TestCliIntegration::test_search_command_imports PASSED [ 36%]
tests/infrastructure/literature/test_pure_logic.py::TestCliIntegration::test_cli_uses_correct_method PASSED [ 36%]
tests/infrastructure/literature/test_reporting.py::TestLiteratureReporter::test_init PASSED [ 36%]
tests/infrastructure/literature/test_reporting.py::TestLiteratureReporter::test_generate_workflow_report_json PASSED [ 36%]
tests/infrastructure/literature/test_reporting.py::TestLiteratureReporter::test_generate_workflow_report_csv SKIPPEDas no attribute 'error') [ 36%]
tests/infrastructure/literature/test_reporting.py::TestLiteratureReporter::test_generate_workflow_report_html SKIPPED [ 36%]
tests/infrastructure/literature/test_reporting.py::TestLiteratureReporter::test_generate_workflow_report_all SKIPPED'error') [ 36%]
tests/infrastructure/literature/test_reporting.py::TestLiteratureReporter::test_generate_workflow_report_with_entries PASSED [ 36%]
tests/infrastructure/literature/test_summarization_streaming.py::TestStreamingWrapper::test_stream_with_progress_basic PASSED [ 36%]
tests/infrastructure/literature/test_summarization_streaming.py::TestStreamingWrapper::test_stream_with_progress_periodic_updates PASSED [ 36%]
tests/infrastructure/literature/test_summarization_streaming.py::TestStreamingWrapper::test_stream_with_progress_metadata PASSED [ 36%]
tests/infrastructure/literature/test_summarization_streaming.py::TestStreamingWrapper::test_stream_with_progress_no_callback PASSED [ 36%]
tests/infrastructure/literature/test_summarization_streaming.py::TestStreamingWrapper::test_stream_with_progress_empty_chunks PASSED [ 36%]
tests/infrastructure/literature/test_summarization_streaming.py::TestStreamingWrapper::test_stream_with_progress_error_handling PASSED [ 36%]
tests/infrastructure/literature/test_summarization_streaming.py::TestStreamingWrapper::test_stream_with_progress_chunk_accumulation PASSED [ 36%]
tests/infrastructure/literature/test_summarization_streaming.py::TestStreamingWrapper::test_stream_with_progress_word_counting PASSED [ 36%]
tests/infrastructure/literature/test_summarization_streaming.py::TestStreamingWrapper::test_stream_with_progress_different_stages PASSED [ 37%]
tests/infrastructure/literature/test_summarizer.py::TestSummarizationResult::test_creation_success PASSED [ 37%]
tests/infrastructure/literature/test_summarizer.py::TestSummarizationResult::test_creation_failure PASSED [ 37%]
tests/infrastructure/literature/test_summarizer.py::TestSummarizationResult::test_compression_ratio_edge_cases PASSED [ 37%]
tests/infrastructure/literature/test_summarizer.py::TestSummarizationResult::test_words_per_second_edge_cases PASSED [ 37%]
tests/infrastructure/literature/test_summarizer.py::TestSummaryQualityValidator::test_creation PASSED [ 37%]
tests/infrastructure/literature/test_summarizer.py::TestSummaryQualityValidator::test_validate_perfect_summary PASSED [ 37%]
tests/infrastructure/literature/test_summarizer.py::TestSummaryQualityValidator::test_validate_poor_summary PASSED [ 37%]
tests/infrastructure/literature/test_summarizer.py::TestSummaryQualityValidator::test_detect_sentence_repetition PASSED [ 37%]
tests/infrastructure/literature/test_summarizer.py::TestSummaryQualityValidator::test_detect_section_repetition PASSED [ 37%]
tests/infrastructure/literature/test_summarizer.py::TestSummaryQualityValidator::test_detect_paragraph_repetition PASSED [ 37%]
tests/infrastructure/literature/test_summarizer.py::TestSummaryQualityValidator::test_detect_hallucination PASSED [ 37%]
tests/infrastructure/literature/test_summarizer.py::TestSummaryQualityValidator::test_detect_off_topic_content PASSED [ 37%]
tests/infrastructure/literature/test_summarizer.py::TestSummaryQualityValidator::test_domain_specific_validation PASSED [ 37%]
tests/infrastructure/literature/test_summarizer.py::TestSummaryQualityValidator::test_validate_with_section_repetition PASSED [ 37%]
tests/infrastructure/literature/test_summarizer.py::TestSummaryQualityValidator::test_validate_with_paragraph_repetition PASSED [ 37%]
tests/infrastructure/literature/test_summarizer.py::TestPaperSummarizer::test_creation PASSED [ 37%]
tests/infrastructure/literature/test_summarizer.py::TestPaperSummarizer::test_creation_with_validator PASSED [ 37%]
tests/infrastructure/literature/test_summarizer.py::TestPaperSummarizer::test_summarize_paper_extraction_failure PASSED [ 37%]
tests/infrastructure/literature/test_summarizer.py::TestPaperSummarizer::test_summarize_paper_insufficient_text PASSED [ 37%]
tests/infrastructure/literature/test_summarizer.py::TestPaperSummarizer::test_summarize_paper_llm_failure PASSED [ 37%]
tests/infrastructure/literature/test_summarizer.py::TestPaperSummarizer::test_clean_summary_content PASSED [ 37%]
tests/infrastructure/literature/test_summarizer.py::TestPaperSummarizer::test_save_summary PASSED [ 37%]
tests/infrastructure/literature/test_summarizer.py::TestPaperSummarizer::test_save_summary_with_path_field PASSED [ 38%]
tests/infrastructure/literature/test_summarizer.py::TestPaperSummarizer::test_summary_result_with_path_field PASSED [ 38%]
tests/infrastructure/literature/test_summarizer.py::TestPaperSummarizer::test_analyze_references PASSED [ 38%]
tests/infrastructure/literature/test_summarizer.py::TestPaperSummarizer::test_deduplicate_summary PASSED [ 38%]
tests/infrastructure/literature/test_summarizer.py::TestPaperSummarizer::test_validate_title_match PASSED [ 38%]
tests/infrastructure/literature/test_summarizer.py::TestPaperSummarizer::test_validate_content_topics PASSED [ 38%]
tests/infrastructure/literature/test_summarizer.py::TestPaperSummarizer::test_validate_quotes_present PASSED [ 38%]
tests/infrastructure/literature/test_summarizer.py::TestPaperSummarizer::test_validate_summary_with_title_matching PASSED [ 38%]
tests/infrastructure/literature/test_summarizer.py::TestPaperSummarizer::test_detect_severe_repetition PASSED [ 38%]
tests/infrastructure/literature/test_summarizer.py::TestPaperSummarizer::test_validate_summary_with_severe_repetition PASSED [ 38%]
tests/infrastructure/literature/test_summarizer.py::TestPDFProcessor::test_identify_sections PASSED [ 38%]
tests/infrastructure/literature/test_summarizer.py::TestPDFProcessor::test_smart_truncate PASSED [ 38%]
tests/infrastructure/literature/test_summarizer.py::TestPDFProcessor::test_extract_prioritized_text_no_truncation PASSED [ 38%]
tests/infrastructure/literature/test_summarizer.py::TestPDFProcessor::test_extract_prioritized_text_with_truncation PASSED [ 38%]
tests/infrastructure/literature/test_summarizer.py::TestAlwaysSaveBehavior::test_summary_text_always_present_on_validation_failure PASSED [ 38%]
tests/infrastructure/literature/test_summarizer.py::TestAlwaysSaveBehavior::test_save_summary_with_validation_metadata PASSED [ 38%]
tests/infrastructure/literature/test_summarizer.py::TestModelAwareConfiguration::test_model_size_detection_small PASSED [ 38%]
tests/infrastructure/literature/test_summarizer.py::TestModelAwareConfiguration::test_model_size_detection_medium PASSED [ 38%]
tests/infrastructure/literature/test_summarizer.py::TestModelAwareConfiguration::test_model_size_detection_large PASSED [ 38%]
tests/infrastructure/literature/test_summarizer.py::TestModelAwareConfiguration::test_model_size_detection_refinement PASSED [ 38%]
tests/infrastructure/literature/test_summarizer.py::TestNoTermBasedValidation::test_validator_no_term_based_errors PASSED [ 38%]
tests/infrastructure/literature/test_summarizer.py::TestNoTermBasedValidation::test_validator_still_detects_repetition PASSED [ 38%]
tests/infrastructure/literature/test_summarizer.py::TestPostProcessingDeduplication::test_deduplication_removes_repeated_sentences PASSED [ 38%]
tests/infrastructure/literature/test_summarizer.py::TestPostProcessingDeduplication::test_deduplication_preserves_unique_content PASSED [ 39%]
tests/infrastructure/literature/test_unpaywall.py::TestUnpaywallResult::test_result_creation PASSED [ 39%]
tests/infrastructure/literature/test_unpaywall.py::TestUnpaywallResult::test_result_with_all_fields PASSED [ 39%]
tests/infrastructure/literature/test_unpaywall.py::TestUnpaywallResult::test_result_closed_access PASSED [ 39%]
tests/infrastructure/literature/test_unpaywall.py::TestUnpaywallSource::test_init_with_email PASSED [ 39%]
tests/infrastructure/literature/test_unpaywall.py::TestUnpaywallSource::test_init_without_email_warns PASSED [ 39%]
tests/infrastructure/literature/test_unpaywall.py::TestUnpaywallSource::test_lookup_without_email_returns_none PASSED [ 39%]
tests/infrastructure/literature/test_unpaywall.py::TestUnpaywallSource::test_get_pdf_url_without_email_returns_none PASSED [ 39%]
tests/infrastructure/literature/test_unpaywall.py::TestUnpaywallSource::test_doi_cleaning_url_prefix PASSED [ 39%]
tests/infrastructure/literature/test_unpaywall.py::TestUnpaywallSource::test_doi_cleaning_http_prefix PASSED [ 39%]
tests/infrastructure/literature/test_unpaywall.py::TestUnpaywallSource::test_doi_cleaning_doi_prefix PASSED [ 39%]
tests/infrastructure/literature/test_unpaywall.py::TestUnpaywallSource::test_parse_response_open_access PASSED [ 39%]
tests/infrastructure/literature/test_unpaywall.py::TestUnpaywallSource::test_parse_response_closed_access PASSED [ 39%]
tests/infrastructure/literature/test_unpaywall.py::TestUnpaywallSource::test_parse_response_fallback_to_oa_locations PASSED [ 39%]
tests/infrastructure/literature/test_unpaywall.py::TestUnpaywallSource::test_lookup_handles_404 PASSED [ 39%]
tests/infrastructure/literature/test_unpaywall.py::TestUnpaywallSource::test_lookup_handles_request_exception PASSED [ 39%]
tests/infrastructure/literature/test_unpaywall.py::TestUnpaywallIntegration::test_config_enables_unpaywall PASSED [ 39%]
tests/infrastructure/literature/test_unpaywall.py::TestUnpaywallIntegration::test_pdf_handler_creates_unpaywall_source_when_enabled PASSED [ 39%]
tests/infrastructure/literature/test_unpaywall.py::TestUnpaywallIntegration::test_pdf_handler_no_unpaywall_when_disabled PASSED [ 39%]
tests/infrastructure/literature/test_unpaywall.py::TestUnpaywallIntegration::test_pdf_handler_no_unpaywall_without_email PASSED [ 39%]
tests/infrastructure/literature/test_unpaywall.py::TestUnpaywallHealthMethods::test_get_health_status_returns_proper_format PASSED [ 39%]
tests/infrastructure/literature/test_unpaywall.py::TestUnpaywallHealthMethods::test_get_health_status_initial_state PASSED [ 39%]
tests/infrastructure/literature/test_unpaywall.py::TestUnpaywallHealthMethods::test_is_healthy_property_initial PASSED [ 39%]
tests/infrastructure/literature/test_unpaywall.py::TestUnpaywallHealthMethods::test_is_healthy_after_failures PASSED [ 40%]
tests/infrastructure/literature/test_unpaywall.py::TestUnpaywallHealthMethods::test_check_health_success PASSED [ 40%]
tests/infrastructure/literature/test_unpaywall.py::TestUnpaywallHealthMethods::test_check_health_with_result PASSED [ 40%]
tests/infrastructure/literature/test_unpaywall.py::TestUnpaywallHealthMethods::test_check_health_failure PASSED [ 40%]
tests/infrastructure/literature/test_unpaywall.py::TestUnpaywallHealthMethods::test_consecutive_failures_tracking PASSED [ 40%]
tests/infrastructure/literature/test_unpaywall.py::TestUnpaywallHealthMethods::test_consecutive_failures_reset_on_success PASSED [ 40%]
tests/infrastructure/literature/test_unpaywall.py::TestUnpaywallHealthMethods::test_health_status_integration_with_literature_search PASSED [ 40%]
tests/infrastructure/literature/test_unpaywall.py::TestUnpaywallHealthMethods::test_health_status_without_email PASSED [ 40%]
tests/infrastructure/literature/test_workflow.py::TestWorkflowResult::test_creation PASSED [ 40%]
tests/infrastructure/literature/test_workflow.py::TestWorkflowResult::test_success_rate_no_data PASSED [ 40%]
tests/infrastructure/literature/test_workflow.py::TestWorkflowResult::test_success_rate_with_data PASSED [ 40%]
tests/infrastructure/literature/test_workflow.py::TestWorkflowResult::test_completion_rate_no_papers PASSED [ 40%]
tests/infrastructure/literature/test_workflow.py::TestWorkflowResult::test_completion_rate_with_data PASSED [ 40%]
tests/infrastructure/literature/test_workflow.py::TestLiteratureWorkflow::test_creation PASSED [ 40%]
tests/infrastructure/literature/test_workflow.py::TestLiteratureWorkflow::test_set_summarizer PASSED [ 40%]
tests/infrastructure/literature/test_workflow.py::TestLiteratureWorkflow::test_set_progress_tracker PASSED [ 40%]
tests/infrastructure/literature/test_workflow.py::TestLiteratureWorkflow::test_execute_search_and_summarize PASSED [ 40%]
tests/infrastructure/literature/test_workflow.py::TestLiteratureWorkflow::test_search_papers PASSED [ 40%]
tests/infrastructure/literature/test_workflow.py::TestLiteratureWorkflow::test_download_papers PASSED [ 40%]
tests/infrastructure/literature/test_workflow.py::TestLiteratureWorkflow::test_summarize_papers_parallel_single_worker PASSED [ 40%]
tests/infrastructure/literature/test_workflow.py::TestLiteratureWorkflow::test_summarize_papers_parallel_multiple_workers PASSED [ 40%]
tests/infrastructure/literature/test_workflow.py::TestLiteratureWorkflow::test_summarize_single_paper PASSED [ 40%]
tests/infrastructure/literature/test_workflow.py::TestLiteratureWorkflow::test_save_summaries PASSED [ 40%]
tests/infrastructure/literature/test_workflow.py::TestLiteratureWorkflow::test_get_workflow_stats PASSED [ 40%]
tests/infrastructure/literature/test_workflow.py::TestLiteratureWorkflow::test_workflow_without_summarizer PASSED [ 41%]
tests/infrastructure/literature/test_workflow.py::TestLiteratureWorkflow::test_summarize_single_paper_saves_summary PASSED [ 41%]
tests/infrastructure/literature/test_workflow.py::TestLiteratureWorkflow::test_summarize_single_paper_save_failure_handling PASSED [ 41%]
tests/infrastructure/literature/test_workflow.py::TestLiteratureWorkflow::test_summarize_single_paper_no_save_for_failed_summary PASSED [ 41%]
tests/infrastructure/literature/test_workflow_skip_existing.py::TestSkipExistingSummaries::test_get_summary_path PASSED [ 41%]
tests/infrastructure/literature/test_workflow_skip_existing.py::TestSkipExistingSummaries::test_summarize_single_paper_skips_existing_file PASSED [ 41%]
tests/infrastructure/literature/test_workflow_skip_existing.py::TestSkipExistingSummaries::test_summarize_papers_parallel_filters_existing_files PASSED [ 41%]
tests/infrastructure/literature/test_workflow_skip_existing.py::TestSkipExistingSummaries::test_summarize_papers_parallel_checks_file_before_progress_tracker PASSED [ 41%]
tests/infrastructure/literature/test_workflow_skip_existing.py::TestSkipExistingSummaries::test_summarize_papers_parallel_all_existing_returns_skipped_results PASSED [ 41%]
tests/infrastructure/literature/test_workflow_skip_existing.py::TestSkipExistingSummaries::test_workflow_result_tracks_skipped_summaries PASSED [ 41%]
tests/infrastructure/literature/test_workflow_skip_existing.py::TestSkipExistingSummaries::test_workflow_stats_includes_skipped_summaries PASSED [ 41%]
tests/infrastructure/literature/test_workflow_skip_existing.py::TestSkipExistingSummaries::test_skip_existing_without_progress_tracker PASSED [ 41%]
tests/infrastructure/literature/test_workflow_skip_existing.py::TestSkipExistingSummaries::test_mixed_existing_and_new_summaries PASSED [ 41%]
tests/infrastructure/llm/test_cli.py::TestCLIArgumentParsing::test_main_no_args_exits PASSED [ 41%]
tests/infrastructure/llm/test_cli.py::TestCLIArgumentParsing::test_query_command_parsing PASSED [ 41%]
tests/infrastructure/llm/test_cli.py::TestCLIArgumentParsing::test_check_command_parsing PASSED [ 41%]
tests/infrastructure/llm/test_cli.py::TestCLIArgumentParsing::test_models_command_parsing PASSED [ 41%]
tests/infrastructure/llm/test_cli.py::TestCLIArgumentParsing::test_template_command_parsing PASSED [ 41%]
tests/infrastructure/llm/test_cli.py::TestCLICheckCommand::test_check_command_no_connection PASSED [ 41%]
tests/infrastructure/llm/test_cli.py::TestCLITemplateCommand::test_template_list PASSED [ 41%]
tests/infrastructure/llm/test_cli.py::TestCLITemplateCommand::test_template_no_name_no_list PASSED [ 41%]
tests/infrastructure/llm/test_cli.py::TestCLIModelsCommand::test_models_command_no_connection PASSED [ 41%]
tests/infrastructure/llm/test_cli.py::TestCLIQueryCommand::test_query_command_no_connection PASSED [ 41%]
tests/infrastructure/llm/test_config.py::TestLLMConfig::test_config_initialization PASSED [ 42%]
tests/infrastructure/llm/test_config.py::TestLLMConfig::test_config_defaults PASSED [ 42%]
tests/infrastructure/llm/test_config.py::TestLLMConfig::test_config_custom_values PASSED [ 42%]
tests/infrastructure/llm/test_config.py::TestLLMConfig::test_config_fallback_models PASSED [ 42%]
tests/infrastructure/llm/test_config.py::TestLLMConfig::test_config_system_prompt PASSED [ 42%]
tests/infrastructure/llm/test_config.py::TestLLMConfig::test_config_temperature_range PASSED [ 42%]
tests/infrastructure/llm/test_config.py::TestLLMConfig::test_config_context_window PASSED [ 42%]
tests/infrastructure/llm/test_config.py::TestLLMConfig::test_config_timeout PASSED [ 42%]
tests/infrastructure/llm/test_config.py::TestLLMConfig::test_config_from_env PASSED [ 42%]
tests/infrastructure/llm/test_context.py::test_add_message PASSED        [ 42%]
tests/infrastructure/llm/test_context.py::test_prune_context PASSED      [ 42%]
tests/infrastructure/llm/test_context.py::test_system_prompt_preservation PASSED [ 42%]
tests/infrastructure/llm/test_context.py::test_context_limit_error PASSED [ 42%]
tests/infrastructure/llm/test_context_engineering.py::TestContextStateManagement::test_save_state PASSED [ 42%]
tests/infrastructure/llm/test_context_engineering.py::TestContextStateManagement::test_restore_state PASSED [ 42%]
tests/infrastructure/llm/test_context_engineering.py::TestContextStateManagement::test_save_restore_preserves_all_data PASSED [ 42%]
tests/infrastructure/llm/test_context_engineering.py::TestContextStateManagement::test_restore_state_clears_existing PASSED [ 42%]
tests/infrastructure/llm/test_context_engineering.py::TestContextExportImport::test_export_context PASSED [ 42%]
tests/infrastructure/llm/test_context_engineering.py::TestContextExportImport::test_import_context PASSED [ 42%]
tests/infrastructure/llm/test_context_engineering.py::TestContextExportImport::test_export_import_roundtrip PASSED [ 42%]
tests/infrastructure/llm/test_context_engineering.py::TestContextUsageTracking::test_get_usage_stats PASSED [ 42%]
tests/infrastructure/llm/test_context_engineering.py::TestContextUsageTracking::test_usage_stats_tracks_totals PASSED [ 42%]
tests/infrastructure/llm/test_context_engineering.py::TestContextUsageTracking::test_usage_stats_tracks_pruning PASSED [ 42%]
tests/infrastructure/llm/test_context_engineering.py::TestContextUsageTracking::test_usage_percent_calculation PASSED [ 43%]
tests/infrastructure/llm/test_context_engineering.py::TestContextHealthChecks::test_check_health_healthy PASSED [ 43%]
tests/infrastructure/llm/test_context_engineering.py::TestContextHealthChecks::test_check_health_warning PASSED [ 43%]
tests/infrastructure/llm/test_context_engineering.py::TestContextHealthChecks::test_check_health_critical PASSED [ 43%]
tests/infrastructure/llm/test_context_engineering.py::TestContextHealthChecks::test_health_status_in_usage_stats PASSED [ 43%]
tests/infrastructure/llm/test_context_engineering.py::TestContextPruningLogging::test_prune_logs_details FAILED [ 43%]
tests/infrastructure/llm/test_context_engineering.py::TestContextPruningLogging::test_prune_preserves_system_prompt PASSED [ 43%]
tests/infrastructure/llm/test_context_engineering.py::TestContextOperationsLogging::test_add_message_logs PASSED [ 43%]
tests/infrastructure/llm/test_context_engineering.py::TestContextOperationsLogging::test_clear_logs PASSED [ 43%]
tests/infrastructure/llm/test_context_engineering.py::TestContextOperationsLogging::test_save_state_logs PASSED [ 43%]
tests/infrastructure/llm/test_context_engineering.py::TestContextOperationsLogging::test_export_logs PASSED [ 43%]
tests/infrastructure/llm/test_core.py::TestLLMClientInitialization::test_client_with_default_config PASSED [ 43%]
tests/infrastructure/llm/test_core.py::TestLLMClientInitialization::test_client_with_custom_config PASSED [ 43%]
tests/infrastructure/llm/test_core.py::TestLLMClientInitialization::test_client_context_initialized PASSED [ 43%]
tests/infrastructure/llm/test_core.py::TestSystemPromptInjection::test_system_prompt_injected_by_default PASSED [ 43%]
tests/infrastructure/llm/test_core.py::TestSystemPromptInjection::test_system_prompt_not_injected_when_disabled PASSED [ 43%]
tests/infrastructure/llm/test_core.py::TestSystemPromptInjection::test_reset_reinjects_system_prompt PASSED [ 43%]
tests/infrastructure/llm/test_core.py::TestSystemPromptInjection::test_set_system_prompt PASSED [ 43%]
tests/infrastructure/llm/test_core.py::TestSystemPromptInjection::test_set_system_prompt_clears_context PASSED [ 43%]
tests/infrastructure/llm/test_core.py::TestResponseMode::test_response_mode_values PASSED [ 43%]
tests/infrastructure/llm/test_core.py::TestResponseMode::test_response_mode_string_comparison PASSED [ 43%]
tests/infrastructure/llm/test_core.py::TestContextManagement::test_reset_clears_context PASSED [ 43%]
tests/infrastructure/llm/test_core.py::TestContextManagement::test_reset_with_auto_inject PASSED [ 43%]
tests/infrastructure/llm/test_core.py::TestGenerationOptionsIntegration::test_options_to_ollama_format PASSED [ 44%]
tests/infrastructure/llm/test_core.py::TestGenerationOptionsIntegration::test_default_options_use_config PASSED [ 44%]
tests/infrastructure/llm/test_core.py::TestClientHelperMethods::test_check_connection_returns_bool PASSED [ 44%]
tests/infrastructure/llm/test_core.py::TestClientHelperMethods::test_check_connection_detailed_returns_tuple PASSED [ 44%]
tests/infrastructure/llm/test_llm_core_additional.py::TestInjectSystemPrompt::test_inject_system_prompt_empty_string PASSED [ 44%]
tests/infrastructure/llm/test_llm_core_additional.py::TestInjectSystemPrompt::test_inject_system_prompt_none PASSED [ 44%]
tests/infrastructure/llm/test_llm_core_additional.py::TestInjectSystemPrompt::test_inject_already_injected PASSED [ 44%]
tests/infrastructure/llm/test_llm_core_additional.py::TestQueryFallback::test_query_fallback_on_connection_error PASSED [ 44%]
tests/infrastructure/llm/test_llm_core_additional.py::TestQueryFallback::test_query_all_fallbacks_fail PASSED [ 44%]
tests/infrastructure/llm/test_llm_core_additional.py::TestQueryRaw::test_query_raw_add_to_context_true PASSED [ 44%]
tests/infrastructure/llm/test_llm_core_additional.py::TestQueryRaw::test_query_raw_add_to_context_false PASSED [ 44%]
tests/infrastructure/llm/test_llm_core_additional.py::TestQueryStructuredJsonParsing::test_query_structured_valid_json PASSED [ 44%]
tests/infrastructure/llm/test_llm_core_additional.py::TestQueryStructuredJsonParsing::test_query_structured_wrapped_json PASSED [ 44%]
tests/infrastructure/llm/test_llm_core_additional.py::TestQueryStructuredJsonParsing::test_query_structured_invalid_wrapped_json PASSED [ 44%]
tests/infrastructure/llm/test_llm_core_additional.py::TestQueryStructuredJsonParsing::test_query_structured_no_json PASSED [ 44%]
tests/infrastructure/llm/test_llm_core_additional.py::TestQueryStructuredJsonParsing::test_query_structured_with_schema PASSED [ 44%]
tests/infrastructure/llm/test_llm_core_additional.py::TestStreamQuery::test_stream_query_basic PASSED [ 44%]
tests/infrastructure/llm/test_llm_core_additional.py::TestStreamQuery::test_stream_query_adds_to_context PASSED [ 44%]
tests/infrastructure/llm/test_llm_core_additional.py::TestStreamQuery::test_stream_query_connection_error PASSED [ 44%]
tests/infrastructure/llm/test_llm_core_additional.py::TestStreamQuery::test_stream_query_empty_lines PASSED [ 44%]
tests/infrastructure/llm/test_llm_core_additional.py::TestStreamShort::test_stream_short PASSED [ 44%]
tests/infrastructure/llm/test_llm_core_additional.py::TestStreamShort::test_stream_short_with_options PASSED [ 44%]
tests/infrastructure/llm/test_llm_core_additional.py::TestStreamLong::test_stream_long PASSED [ 44%]
tests/infrastructure/llm/test_llm_core_additional.py::TestStreamLong::test_stream_long_with_options PASSED [ 45%]
tests/infrastructure/llm/test_llm_core_additional.py::TestGetAvailableModels::test_get_available_models_success PASSED [ 45%]
tests/infrastructure/llm/test_llm_core_additional.py::TestGetAvailableModels::test_get_available_models_empty PASSED [ 45%]
tests/infrastructure/llm/test_llm_core_additional.py::TestGetAvailableModels::test_get_available_models_connection_error PASSED [ 45%]
tests/infrastructure/llm/test_llm_core_additional.py::TestCheckConnection::test_check_connection_success PASSED [ 45%]
tests/infrastructure/llm/test_llm_core_additional.py::TestCheckConnection::test_check_connection_non_200 PASSED [ 45%]
tests/infrastructure/llm/test_llm_core_additional.py::TestCheckConnection::test_check_connection_exception PASSED [ 45%]
tests/infrastructure/llm/test_llm_core_additional.py::TestGenerateResponseDirect::test_generate_response_direct_with_format_json PASSED [ 45%]
tests/infrastructure/llm/test_llm_core_additional.py::TestGenerateResponseDirect::test_generate_response_direct_connection_error PASSED [ 45%]
tests/infrastructure/llm/test_llm_core_additional.py::TestQueryShortLongOptions::test_query_short_with_options PASSED [ 45%]
tests/infrastructure/llm/test_llm_core_additional.py::TestQueryShortLongOptions::test_query_long_with_options PASSED [ 45%]
tests/infrastructure/llm/test_llm_core_additional.py::TestQueryShortLongOptions::test_query_short_no_options PASSED [ 45%]
tests/infrastructure/llm/test_llm_core_additional.py::TestQueryShortLongOptions::test_query_long_no_options PASSED [ 45%]
tests/infrastructure/llm/test_llm_core_additional.py::TestQueryResetWithAutoInject::test_query_reset_context_reinjects_system_prompt PASSED [ 45%]
tests/infrastructure/llm/test_llm_core_coverage.py::TestResponseMode::test_response_modes PASSED [ 45%]
tests/infrastructure/llm/test_llm_core_coverage.py::TestResponseMode::test_response_mode_is_string_enum PASSED [ 45%]
tests/infrastructure/llm/test_llm_core_coverage.py::TestResponseMode::test_all_response_modes PASSED [ 45%]
tests/infrastructure/llm/test_llm_core_coverage.py::TestLLMClientInit::test_init_default PASSED [ 45%]
tests/infrastructure/llm/test_llm_core_coverage.py::TestLLMClientInit::test_init_with_config PASSED [ 45%]
tests/infrastructure/llm/test_llm_core_coverage.py::TestLLMClientInit::test_init_creates_context PASSED [ 45%]
tests/infrastructure/llm/test_llm_core_coverage.py::TestLLMClientInit::test_init_context_max_tokens PASSED [ 45%]
tests/infrastructure/llm/test_llm_core_coverage.py::TestLLMClientInit::test_init_with_fallback_models PASSED [ 45%]
tests/infrastructure/llm/test_llm_core_coverage.py::TestLLMClientSystemPrompt::test_system_prompt_injection PASSED [ 45%]
tests/infrastructure/llm/test_llm_core_coverage.py::TestLLMClientSystemPrompt::test_no_auto_inject PASSED [ 46%]
tests/infrastructure/llm/test_llm_core_coverage.py::TestLLMClientSystemPrompt::test_system_prompt_content PASSED [ 46%]
tests/infrastructure/llm/test_llm_core_coverage.py::TestLLMClientSystemPrompt::test_inject_system_prompt_idempotent PASSED [ 46%]
tests/infrastructure/llm/test_llm_core_coverage.py::TestLLMClientContextManagement::test_context_add_message PASSED [ 46%]
tests/infrastructure/llm/test_llm_core_coverage.py::TestLLMClientContextManagement::test_context_multiple_messages PASSED [ 46%]
tests/infrastructure/llm/test_llm_core_coverage.py::TestLLMClientContextManagement::test_reset_clears_user_messages PASSED [ 46%]
tests/infrastructure/llm/test_llm_core_coverage.py::TestLLMClientContextManagement::test_reset_reinjects_system_prompt PASSED [ 46%]
tests/infrastructure/llm/test_llm_core_coverage.py::TestLLMClientContextManagement::test_set_system_prompt_resets_context PASSED [ 46%]
tests/infrastructure/llm/test_llm_core_coverage.py::TestLLMClientGenerationOptions::test_options_to_ollama_format PASSED [ 46%]
tests/infrastructure/llm/test_llm_core_coverage.py::TestLLMClientGenerationOptions::test_default_options_use_config PASSED [ 46%]
tests/infrastructure/llm/test_llm_core_coverage.py::TestLLMClientGenerationOptions::test_options_with_stop_sequences PASSED [ 46%]
tests/infrastructure/llm/test_llm_core_coverage.py::TestLLMClientGenerationOptions::test_options_format_json_flag PASSED [ 46%]
tests/infrastructure/llm/test_llm_core_coverage.py::TestLLMClientHelpers::test_check_connection_returns_bool PASSED [ 46%]
tests/infrastructure/llm/test_llm_core_coverage.py::TestLLMClientHelpers::test_client_has_required_methods PASSED [ 46%]
tests/infrastructure/llm/test_llm_core_coverage.py::TestLLMCoreIntegration::test_full_workflow_setup PASSED [ 46%]
tests/infrastructure/llm/test_llm_core_coverage.py::TestLLMCoreIntegration::test_config_chain PASSED [ 46%]
tests/infrastructure/llm/test_llm_core_coverage.py::TestLLMCoreIntegration::test_options_from_config PASSED [ 46%]
tests/infrastructure/llm/test_llm_core_full.py::TestResponseModeDetails::test_response_mode_comparison PASSED [ 46%]
tests/infrastructure/llm/test_llm_core_full.py::TestResponseModeDetails::test_response_mode_str PASSED [ 46%]
tests/infrastructure/llm/test_llm_core_full.py::TestGenerationOptionsDetails::test_options_with_seed PASSED [ 46%]
tests/infrastructure/llm/test_llm_core_full.py::TestGenerationOptionsDetails::test_options_with_max_tokens PASSED [ 46%]
tests/infrastructure/llm/test_llm_core_full.py::TestGenerationOptionsDetails::test_options_with_all_params PASSED [ 46%]
tests/infrastructure/llm/test_llm_core_full.py::TestGenerationOptionsDetails::test_options_defaults PASSED [ 46%]
tests/infrastructure/llm/test_llm_core_full.py::TestContextManagementPure::test_context_accumulates PASSED [ 46%]
tests/infrastructure/llm/test_llm_core_full.py::TestContextManagementPure::test_context_preserves_order PASSED [ 47%]
tests/infrastructure/llm/test_llm_core_full.py::TestContextManagementPure::test_context_reset PASSED [ 47%]
tests/infrastructure/llm/test_llm_core_full.py::TestContextManagementPure::test_context_token_estimation PASSED [ 47%]
tests/infrastructure/llm/test_llm_core_full.py::TestLLMClientPropertiesPure::test_config_property PASSED [ 47%]
tests/infrastructure/llm/test_llm_core_full.py::TestLLMClientPropertiesPure::test_context_property PASSED [ 47%]
tests/infrastructure/llm/test_llm_core_full.py::TestLLMClientPropertiesPure::test_config_immutability PASSED [ 47%]
tests/infrastructure/llm/test_llm_core_full.py::TestSystemPromptManagementPure::test_set_system_prompt PASSED [ 47%]
tests/infrastructure/llm/test_llm_core_full.py::TestSystemPromptManagementPure::test_inject_system_prompt_manual PASSED [ 47%]
tests/infrastructure/llm/test_llm_core_full.py::TestSystemPromptManagementPure::test_system_prompt_preserved_on_reset PASSED [ 47%]
tests/infrastructure/llm/test_llm_core_full.py::TestLLMCoreEdgeCasesPure::test_empty_system_prompt PASSED [ 47%]
tests/infrastructure/llm/test_llm_core_full.py::TestLLMCoreEdgeCasesPure::test_long_system_prompt PASSED [ 47%]
tests/infrastructure/llm/test_llm_core_full.py::TestLLMCoreEdgeCasesPure::test_multiple_resets PASSED [ 47%]
tests/infrastructure/llm/test_llm_core_full.py::TestLLMCoreEdgeCasesPure::test_config_response_mode_limits PASSED [ 47%]
tests/infrastructure/llm/test_llm_core_full.py::TestOptionsConversion::test_options_num_ctx PASSED [ 47%]
tests/infrastructure/llm/test_llm_core_full.py::TestOptionsConversion::test_options_override_num_ctx PASSED [ 47%]
tests/infrastructure/llm/test_llm_core_full.py::TestOptionsConversion::test_options_repeat_penalty PASSED [ 47%]
tests/infrastructure/llm/test_llm_core_full.py::TestOptionsConversion::test_options_top_k PASSED [ 47%]
tests/infrastructure/llm/test_llm_review.py::TestEstimateTokens::test_empty_string PASSED [ 47%]
tests/infrastructure/llm/test_llm_review.py::TestEstimateTokens::test_short_text PASSED [ 47%]
tests/infrastructure/llm/test_llm_review.py::TestEstimateTokens::test_longer_text PASSED [ 47%]
tests/infrastructure/llm/test_llm_review.py::TestEstimateTokens::test_realistic_text PASSED [ 47%]
tests/infrastructure/llm/test_llm_review.py::TestGetMaxInputLength::test_default_value PASSED [ 47%]
tests/infrastructure/llm/test_llm_review.py::TestGetMaxInputLength::test_custom_value PASSED [ 47%]
tests/infrastructure/llm/test_llm_review.py::TestGetMaxInputLength::test_unlimited_value PASSED [ 48%]
tests/infrastructure/llm/test_llm_review.py::TestGetMaxInputLength::test_invalid_value_uses_default PASSED [ 48%]
tests/infrastructure/llm/test_llm_review.py::TestReviewMetrics::test_default_values PASSED [ 48%]
tests/infrastructure/llm/test_llm_review.py::TestReviewMetrics::test_custom_values PASSED [ 48%]
tests/infrastructure/llm/test_llm_review.py::TestManuscriptMetrics::test_default_values PASSED [ 48%]
tests/infrastructure/llm/test_llm_review.py::TestManuscriptMetrics::test_truncated_manuscript PASSED [ 48%]
tests/infrastructure/llm/test_llm_review.py::TestSessionMetrics::test_default_values PASSED [ 48%]
tests/infrastructure/llm/test_llm_review.py::TestSessionMetrics::test_with_reviews PASSED [ 48%]
tests/infrastructure/llm/test_llm_review.py::TestSaveReviewOutputs::test_creates_all_files PASSED [ 48%]
tests/infrastructure/llm/test_llm_review.py::TestSaveReviewOutputs::test_metadata_json_structure PASSED [ 48%]
tests/infrastructure/llm/test_llm_review.py::TestSaveReviewOutputs::test_combined_review_includes_metrics PASSED [ 48%]
tests/infrastructure/llm/test_llm_review.py::TestGenerateReviewSummary::test_summary_runs_without_error PASSED [ 48%]
tests/infrastructure/llm/test_llm_review.py::TestGenerateReviewSummary::test_summary_handles_truncated_manuscript PASSED [ 48%]
tests/infrastructure/llm/test_llm_review.py::TestGenerateReviewSummary::test_summary_handles_multiple_reviews PASSED [ 48%]
tests/infrastructure/llm/test_llm_review.py::TestNoTruncationByDefault::test_default_limit_is_large PASSED [ 48%]
tests/infrastructure/llm/test_llm_review.py::TestNoTruncationByDefault::test_large_text_not_truncated_at_default PASSED [ 48%]
tests/infrastructure/llm/test_llm_review.py::TestModuleImports::test_all_required_imports_available PASSED [ 48%]
tests/infrastructure/llm/test_llm_review.py::TestIsOffTopic::test_normal_response_not_off_topic PASSED [ 48%]
tests/infrastructure/llm/test_llm_review.py::TestIsOffTopic::test_email_reply_format_detected PASSED [ 48%]
tests/infrastructure/llm/test_llm_review.py::TestIsOffTopic::test_dear_letter_format_detected PASSED [ 48%]
tests/infrastructure/llm/test_llm_review.py::TestIsOffTopic::test_happy_to_help_detected PASSED [ 48%]
tests/infrastructure/llm/test_llm_review.py::TestIsOffTopic::test_code_response_detected PASSED [ 48%]
tests/infrastructure/llm/test_llm_review.py::TestIsOffTopic::test_as_an_ai_detected PASSED [ 48%]
tests/infrastructure/llm/test_llm_review.py::TestIsOffTopic::test_email_subject_detected PASSED [ 49%]
tests/infrastructure/llm/test_llm_review.py::TestIsOffTopic::test_email_from_detected PASSED [ 49%]
tests/infrastructure/llm/test_llm_review.py::TestIsOffTopic::test_casual_greeting_hi_detected PASSED [ 49%]
tests/infrastructure/llm/test_llm_review.py::TestIsOffTopic::test_casual_greeting_hello_detected PASSED [ 49%]
tests/infrastructure/llm/test_llm_review.py::TestIsOffTopic::test_code_block_detected PASSED [ 49%]
tests/infrastructure/llm/test_llm_review.py::TestIsOffTopic::test_function_definition_detected PASSED [ 49%]
tests/infrastructure/llm/test_llm_review.py::TestIsOffTopic::test_feel_free_not_off_topic PASSED [ 49%]
tests/infrastructure/llm/test_llm_review.py::TestIsOffTopic::test_id_be_happy_detected PASSED [ 49%]
tests/infrastructure/llm/test_llm_review.py::TestValidateReviewQuality::test_valid_executive_summary PASSED [ 49%]
tests/infrastructure/llm/test_llm_review.py::TestValidateReviewQuality::test_executive_summary_accepts_alternatives PASSED [ 49%]
tests/infrastructure/llm/test_llm_review.py::TestValidateReviewQuality::test_executive_summary_too_short PASSED [ 49%]
tests/infrastructure/llm/test_llm_review.py::TestValidateReviewQuality::test_executive_summary_missing_structure PASSED [ 49%]
tests/infrastructure/llm/test_llm_review.py::TestValidateReviewQuality::test_quality_review_with_score PASSED [ 49%]
tests/infrastructure/llm/test_llm_review.py::TestValidateReviewQuality::test_quality_review_alternative_score_formats PASSED [ 49%]
tests/infrastructure/llm/test_llm_review.py::TestValidateReviewQuality::test_quality_review_missing_score PASSED [ 49%]
tests/infrastructure/llm/test_llm_review.py::TestValidateReviewQuality::test_improvement_suggestions_valid PASSED [ 49%]
tests/infrastructure/llm/test_llm_review.py::TestValidateReviewQuality::test_improvement_suggestions_alternative_terms PASSED [ 49%]
tests/infrastructure/llm/test_llm_review.py::TestValidateReviewQuality::test_off_topic_response_rejected PASSED [ 49%]
tests/infrastructure/llm/test_llm_review.py::TestValidateReviewQuality::test_methodology_review_default_validation PASSED [ 49%]
tests/infrastructure/llm/test_llm_review.py::TestValidateReviewQuality::test_methodology_review_with_strengths_and_weaknesses PASSED [ 49%]
tests/infrastructure/llm/test_llm_review.py::TestValidateReviewQuality::test_methodology_review_alternative_terms PASSED [ 49%]
tests/infrastructure/llm/test_llm_review.py::TestValidateReviewQuality::test_improvement_suggestions_with_immediate PASSED [ 49%]
tests/infrastructure/llm/test_llm_review.py::TestValidateReviewQuality::test_word_count_tracking PASSED [ 49%]
tests/infrastructure/llm/test_llm_review.py::TestDetectConversationalPhrases::test_no_conversational_phrases PASSED [ 50%]
tests/infrastructure/llm/test_llm_review.py::TestDetectConversationalPhrases::test_based_on_document_detected PASSED [ 50%]
tests/infrastructure/llm/test_llm_review.py::TestDetectConversationalPhrases::test_ill_help_you_detected PASSED [ 50%]
tests/infrastructure/llm/test_llm_review.py::TestDetectConversationalPhrases::test_let_me_know_detected PASSED [ 50%]
tests/infrastructure/llm/test_llm_review.py::TestDetectConversationalPhrases::test_multiple_phrases_detected PASSED [ 50%]
tests/infrastructure/llm/test_llm_review.py::TestCheckFormatCompliance::test_compliant_response PASSED [ 50%]
tests/infrastructure/llm/test_llm_review.py::TestCheckFormatCompliance::test_emojis_allowed PASSED [ 50%]
tests/infrastructure/llm/test_llm_review.py::TestCheckFormatCompliance::test_tables_allowed PASSED [ 50%]
tests/infrastructure/llm/test_llm_review.py::TestCheckFormatCompliance::test_conversational_violation PASSED [ 50%]
tests/infrastructure/llm/test_llm_review.py::TestCheckFormatCompliance::test_emojis_tables_with_conversational_still_fails PASSED [ 50%]
tests/infrastructure/llm/test_llm_review.py::TestWordCountBoundary::test_exactly_minimum_words_executive_summary PASSED [ 50%]
tests/infrastructure/llm/test_llm_review.py::TestWordCountBoundary::test_one_below_minimum_executive_summary PASSED [ 50%]
tests/infrastructure/llm/test_llm_review.py::TestWordCountBoundary::test_improvement_suggestions_new_minimum PASSED [ 50%]
tests/infrastructure/llm/test_llm_review.py::TestWordCountBoundary::test_improvement_suggestions_below_new_minimum PASSED [ 50%]
tests/infrastructure/llm/test_llm_review.py::TestValidateReviewQualityWithFormatCompliance::test_emojis_pass_validation PASSED [ 50%]
tests/infrastructure/llm/test_llm_review.py::TestValidateReviewQualityWithFormatCompliance::test_conversational_phrases_still_flagged PASSED [ 50%]
tests/infrastructure/llm/test_llm_review.py::TestValidateReviewQualityRepetition::test_validate_repetitive_content_fails PASSED [ 50%]
tests/infrastructure/llm/test_llm_review.py::TestValidateReviewQualityRepetition::test_validate_unique_content_passes PASSED [ 50%]
tests/infrastructure/llm/test_llm_review.py::TestValidateReviewQualityRepetition::test_validate_moderate_repetition_warning PASSED [ 50%]
tests/infrastructure/llm/test_logging.py::TestQueryLogging::test_query_logs_start FAILED [ 50%]
tests/infrastructure/llm/test_logging.py::TestQueryLogging::test_query_logs_completion FAILED [ 50%]
tests/infrastructure/llm/test_logging.py::TestQueryLogging::test_query_logs_context_reset PASSED [ 50%]
tests/infrastructure/llm/test_logging.py::TestQueryRawLogging::test_query_raw_logs_start PASSED [ 50%]
tests/infrastructure/llm/test_logging.py::TestQueryRawLogging::test_query_raw_logs_completion PASSED [ 51%]
tests/infrastructure/llm/test_logging.py::TestQueryShortLogging::test_query_short_logs_start PASSED [ 51%]
tests/infrastructure/llm/test_logging.py::TestQueryShortLogging::test_query_short_logs_completion PASSED [ 51%]
tests/infrastructure/llm/test_logging.py::TestQueryLongLogging::test_query_long_logs_start PASSED [ 51%]
tests/infrastructure/llm/test_logging.py::TestQueryLongLogging::test_query_long_logs_completion PASSED [ 51%]
tests/infrastructure/llm/test_logging.py::TestQueryStructuredLogging::test_query_structured_logs_start PASSED [ 51%]
tests/infrastructure/llm/test_logging.py::TestQueryStructuredLogging::test_query_structured_logs_completion PASSED [ 51%]
tests/infrastructure/llm/test_logging.py::TestContextLogging::test_context_add_logs PASSED [ 51%]
tests/infrastructure/llm/test_logging.py::TestContextLogging::test_context_clear_logs PASSED [ 51%]
tests/infrastructure/llm/test_logging.py::TestContextLogging::test_context_prune_logs PASSED [ 51%]
tests/infrastructure/llm/test_logging.py::TestErrorLogging::test_connection_error_logs PASSED [ 51%]
tests/infrastructure/llm/test_logging.py::TestErrorLogging::test_timeout_error_logs PASSED [ 51%]
tests/infrastructure/llm/test_logging.py::TestLoggingLevels::test_debug_logging PASSED [ 51%]
tests/infrastructure/llm/test_logging.py::TestLoggingLevels::test_info_logging PASSED [ 51%]
tests/infrastructure/llm/test_ollama_utils.py::TestIsOllamaRunning::test_is_ollama_running_returns_bool PASSED [ 51%]
tests/infrastructure/llm/test_ollama_utils.py::TestIsOllamaRunning::test_is_ollama_running_with_bad_url PASSED [ 51%]
tests/infrastructure/llm/test_ollama_utils.py::TestIsOllamaRunning::test_is_ollama_running_with_default_url PASSED [ 51%]
tests/infrastructure/llm/test_ollama_utils.py::TestDefaultPreferences::test_default_preferences_is_list PASSED [ 51%]
tests/infrastructure/llm/test_ollama_utils.py::TestDefaultPreferences::test_default_preferences_not_empty PASSED [ 51%]
tests/infrastructure/llm/test_ollama_utils.py::TestDefaultPreferences::test_default_preferences_are_strings PASSED [ 51%]
tests/infrastructure/llm/test_ollama_utils.py::TestOllamaUtilsWithoutServer::test_get_available_models_no_server PASSED [ 51%]
tests/infrastructure/llm/test_ollama_utils.py::TestOllamaUtilsWithoutServer::test_get_available_models_retries PASSED [ 51%]
tests/infrastructure/llm/test_ollama_utils.py::TestOllamaUtilsWithoutServer::test_get_model_names_no_server PASSED [ 51%]
tests/infrastructure/llm/test_ollama_utils.py::TestOllamaUtilsWithoutServer::test_select_best_model_no_server PASSED [ 52%]
tests/infrastructure/llm/test_ollama_utils.py::TestOllamaUtilsWithoutServer::test_ensure_ollama_ready_no_server_no_auto_start PASSED [ 52%]
tests/infrastructure/llm/test_ollama_utils.py::TestCheckModelLoaded::test_check_model_loaded_no_server PASSED [ 52%]
tests/infrastructure/llm/test_ollama_utils.py::TestCheckModelLoaded::test_check_model_loaded_returns_tuple PASSED [ 52%]
tests/infrastructure/llm/test_ollama_utils.py::TestCheckModelLoaded::test_check_model_loaded_timeout PASSED [ 52%]
tests/infrastructure/llm/test_ollama_utils.py::TestPreloadModel::test_preload_model_no_server PASSED [ 52%]
tests/infrastructure/llm/test_ollama_utils.py::TestPreloadModel::test_preload_model_returns_tuple PASSED [ 52%]
tests/infrastructure/llm/test_ollama_utils.py::TestPreloadModel::test_preload_model_check_loaded_first PASSED [ 52%]
tests/infrastructure/llm/test_prompts_composer.py::TestPromptComposer::test_compose_template_basic PASSED [ 52%]
tests/infrastructure/llm/test_prompts_composer.py::TestPromptComposer::test_compose_template_with_max_tokens PASSED [ 52%]
tests/infrastructure/llm/test_prompts_composer.py::TestPromptComposer::test_compose_template_missing_required_var PASSED [ 52%]
tests/infrastructure/llm/test_prompts_composer.py::TestPromptComposer::test_add_retry_prompt_off_topic PASSED [ 52%]
tests/infrastructure/llm/test_prompts_composer.py::TestPromptComposer::test_add_retry_prompt_format_enforcement PASSED [ 52%]
tests/infrastructure/llm/test_prompts_composer.py::TestPromptComposer::test_build_format_requirements PASSED [ 52%]
tests/infrastructure/llm/test_prompts_composer.py::TestPromptComposer::test_build_content_requirements PASSED [ 52%]
tests/infrastructure/llm/test_prompts_composer.py::TestPromptComposer::test_build_section_structure PASSED [ 52%]
tests/infrastructure/llm/test_prompts_composer.py::TestPromptComposer::test_build_section_structure_not_found PASSED [ 52%]
tests/infrastructure/llm/test_prompts_composer.py::TestPromptComposer::test_build_token_budget_awareness PASSED [ 52%]
tests/infrastructure/llm/test_prompts_composer.py::TestPromptComposer::test_build_validation_hints PASSED [ 52%]
tests/infrastructure/llm/test_prompts_loader.py::TestPromptFragmentLoader::test_load_fragment_simple PASSED [ 52%]
tests/infrastructure/llm/test_prompts_loader.py::TestPromptFragmentLoader::test_load_fragment_with_key PASSED [ 52%]
tests/infrastructure/llm/test_prompts_loader.py::TestPromptFragmentLoader::test_load_fragment_nested_key PASSED [ 52%]
tests/infrastructure/llm/test_prompts_loader.py::TestPromptFragmentLoader::test_load_fragment_not_found PASSED [ 52%]
tests/infrastructure/llm/test_prompts_loader.py::TestPromptFragmentLoader::test_load_fragment_invalid_key PASSED [ 53%]
tests/infrastructure/llm/test_prompts_loader.py::TestPromptFragmentLoader::test_load_template PASSED [ 53%]
tests/infrastructure/llm/test_prompts_loader.py::TestPromptFragmentLoader::test_get_system_prompt PASSED [ 53%]
tests/infrastructure/llm/test_prompts_loader.py::TestPromptFragmentLoader::test_get_system_prompt_dict_content PASSED [ 53%]
tests/infrastructure/llm/test_prompts_loader.py::TestPromptFragmentLoader::test_cache_loading PASSED [ 53%]
tests/infrastructure/llm/test_prompts_loader.py::TestPromptFragmentLoader::test_clear_cache PASSED [ 53%]
tests/infrastructure/llm/test_prompts_loader.py::TestPromptFragmentLoader::test_load_composition PASSED [ 53%]
tests/infrastructure/llm/test_response_saving.py::TestResponseMetadata::test_metadata_creation PASSED [ 53%]
tests/infrastructure/llm/test_response_saving.py::TestResponseMetadata::test_metadata_to_dict PASSED [ 53%]
tests/infrastructure/llm/test_response_saving.py::TestResponseMetadata::test_metadata_with_streaming PASSED [ 53%]
tests/infrastructure/llm/test_response_saving.py::TestSaveResponse::test_save_response_markdown PASSED [ 53%]
tests/infrastructure/llm/test_response_saving.py::TestSaveResponse::test_save_response_json PASSED [ 53%]
tests/infrastructure/llm/test_response_saving.py::TestSaveResponse::test_save_response_txt PASSED [ 53%]
tests/infrastructure/llm/test_response_saving.py::TestSaveResponse::test_save_response_auto_extension PASSED [ 53%]
tests/infrastructure/llm/test_response_saving.py::TestSaveResponse::test_save_response_creates_directory PASSED [ 53%]
tests/infrastructure/llm/test_response_saving.py::TestSaveStreamingResponse::test_save_streaming_response PASSED [ 53%]
tests/infrastructure/llm/test_response_saving.py::TestSaveStreamingResponse::test_save_streaming_partial PASSED [ 53%]
tests/infrastructure/llm/test_response_saving.py::TestResponseSavingIntegration::test_save_with_metadata_options PASSED [ 53%]
tests/infrastructure/llm/test_response_saving.py::TestResponseSavingIntegration::test_save_with_error_flag PASSED [ 53%]
tests/infrastructure/llm/test_review_generators.py::TestExtractManuscriptText::test_file_not_found PASSED [ 53%]
tests/infrastructure/llm/test_review_generators.py::TestExtractManuscriptText::test_no_pdf_library_raises_error PASSED [ 53%]
tests/infrastructure/llm/test_review_generators.py::TestExtractManuscriptText::test_with_pdfplumber PASSED [ 53%]
tests/infrastructure/llm/test_review_generators.py::TestExtractManuscriptText::test_with_pypdf PASSED [ 53%]
tests/infrastructure/llm/test_review_generators.py::TestGenerateReviewWithMetrics::test_generates_executive_summary PASSED [ 53%]
tests/infrastructure/llm/test_review_generators.py::TestGenerateReviewWithMetrics::test_generates_quality_review PASSED [ 54%]
tests/infrastructure/llm/test_review_generators.py::TestGenerateReviewWithMetrics::test_generates_methodology_review PASSED [ 54%]
tests/infrastructure/llm/test_review_generators.py::TestGenerateReviewWithMetrics::test_generates_improvement_suggestions PASSED [ 54%]
tests/infrastructure/llm/test_review_generators.py::TestGenerateReviewWithMetrics::test_metrics_include_all_fields PASSED [ 54%]
tests/infrastructure/llm/test_review_generators.py::TestGenerateReviewWithMetrics::test_truncates_long_manuscript PASSED [ 54%]
tests/infrastructure/llm/test_review_generators.py::TestTemplateBasedGenerators::test_generate_executive_summary_calls_llm PASSED [ 54%]
tests/infrastructure/llm/test_review_generators.py::TestTemplateBasedGenerators::test_generate_quality_review_calls_llm PASSED [ 54%]
tests/infrastructure/llm/test_review_generators.py::TestTemplateBasedGenerators::test_generate_methodology_review_calls_llm PASSED [ 54%]
tests/infrastructure/llm/test_review_generators.py::TestTemplateBasedGenerators::test_generate_improvement_suggestions_calls_llm PASSED [ 54%]
tests/infrastructure/llm/test_review_generators.py::TestTemplateBasedGenerators::test_generate_translation_calls_llm PASSED [ 54%]
tests/infrastructure/llm/test_review_generators.py::TestTemplateBasedGenerators::test_generate_translation_with_model PASSED [ 54%]
tests/infrastructure/llm/test_streaming.py::TestStreamingBasic::test_stream_query_basic PASSED [ 54%]
tests/infrastructure/llm/test_streaming.py::TestStreamingBasic::test_stream_query_adds_to_context PASSED [ 54%]
tests/infrastructure/llm/test_streaming.py::TestStreamingBasic::test_stream_query_empty_lines PASSED [ 54%]
tests/infrastructure/llm/test_streaming.py::TestStreamingLogging::test_stream_query_logs_start PASSED [ 54%]
tests/infrastructure/llm/test_streaming.py::TestStreamingLogging::test_stream_query_logs_chunks_debug FAILED [ 54%]
tests/infrastructure/llm/test_streaming.py::TestStreamingLogging::test_stream_query_logs_completion PASSED [ 54%]
tests/infrastructure/llm/test_streaming.py::TestStreamingErrorRecovery::test_stream_query_retries_on_timeout PASSED [ 54%]
tests/infrastructure/llm/test_streaming.py::TestStreamingErrorRecovery::test_stream_query_saves_partial_on_error PASSED [ 54%]
tests/infrastructure/llm/test_streaming.py::TestStreamingErrorRecovery::test_stream_query_handles_connection_error PASSED [ 54%]
tests/infrastructure/llm/test_streaming.py::TestStreamingResponseSaving::test_stream_query_saves_response PASSED [ 54%]
tests/infrastructure/llm/test_streaming.py::TestStreamingResponseSaving::test_stream_short_saves_response PASSED [ 54%]
tests/infrastructure/llm/test_streaming.py::TestStreamingResponseSaving::test_stream_long_saves_response PASSED [ 54%]
tests/infrastructure/llm/test_streaming.py::TestStreamingWithOptions::test_stream_query_with_temperature PASSED [ 55%]
tests/infrastructure/llm/test_streaming.py::TestStreamingWithOptions::test_stream_query_with_max_tokens PASSED [ 55%]
tests/infrastructure/llm/test_streaming.py::TestStreamingContextManagement::test_stream_query_maintains_context PASSED [ 55%]
tests/infrastructure/llm/test_templates.py::TestGetTemplate::test_get_template PASSED [ 55%]
tests/infrastructure/llm/test_templates.py::TestGetTemplate::test_get_template_invalid PASSED [ 55%]
tests/infrastructure/llm/test_templates.py::TestGetTemplate::test_get_translation_template PASSED [ 55%]
tests/infrastructure/llm/test_templates.py::TestSummarizeAbstract::test_render_success PASSED [ 55%]
tests/infrastructure/llm/test_templates.py::TestSummarizeAbstract::test_render_missing_var PASSED [ 55%]
tests/infrastructure/llm/test_templates.py::TestManuscriptTranslationAbstract::test_render_with_language PASSED [ 55%]
tests/infrastructure/llm/test_templates.py::TestManuscriptTranslationAbstract::test_render_with_different_languages PASSED [ 55%]
tests/infrastructure/llm/test_templates.py::TestManuscriptTranslationAbstract::test_render_missing_text PASSED [ 55%]
tests/infrastructure/llm/test_templates.py::TestManuscriptTranslationAbstract::test_render_missing_language PASSED [ 55%]
tests/infrastructure/llm/test_templates.py::TestManuscriptTranslationAbstract::test_template_structure PASSED [ 55%]
tests/infrastructure/llm/test_templates.py::TestTranslationLanguages::test_contains_required_languages PASSED [ 55%]
tests/infrastructure/llm/test_templates.py::TestTranslationLanguages::test_language_names PASSED [ 55%]
tests/infrastructure/llm/test_templates.py::TestTranslationLanguages::test_all_languages_have_names PASSED [ 55%]
tests/infrastructure/llm/test_templates.py::TestReviewMinWords::test_translation_threshold_exists PASSED [ 55%]
tests/infrastructure/llm/test_templates.py::TestReviewMinWords::test_translation_threshold_reasonable PASSED [ 55%]
tests/infrastructure/llm/test_templates.py::test_get_template PASSED     [ 55%]
tests/infrastructure/llm/test_templates.py::test_get_template_invalid PASSED [ 55%]
tests/infrastructure/llm/test_templates.py::test_render_success PASSED   [ 55%]
tests/infrastructure/llm/test_templates.py::test_render_missing_var PASSED [ 55%]
tests/infrastructure/llm/test_validation.py::TestJSONValidation::test_validate_valid_json PASSED [ 55%]
tests/infrastructure/llm/test_validation.py::TestJSONValidation::test_validate_markdown_wrapped_json PASSED [ 56%]
tests/infrastructure/llm/test_validation.py::TestJSONValidation::test_validate_invalid_json PASSED [ 56%]
tests/infrastructure/llm/test_validation.py::TestJSONValidation::test_validate_empty_json_object PASSED [ 56%]
tests/infrastructure/llm/test_validation.py::TestLengthValidation::test_validate_length_within_bounds PASSED [ 56%]
tests/infrastructure/llm/test_validation.py::TestLengthValidation::test_validate_length_too_short PASSED [ 56%]
tests/infrastructure/llm/test_validation.py::TestLengthValidation::test_validate_length_too_long PASSED [ 56%]
tests/infrastructure/llm/test_validation.py::TestLengthValidation::test_validate_length_minimum_only PASSED [ 56%]
tests/infrastructure/llm/test_validation.py::TestTokenEstimation::test_estimate_tokens_basic PASSED [ 56%]
tests/infrastructure/llm/test_validation.py::TestTokenEstimation::test_estimate_tokens_large_content PASSED [ 56%]
tests/infrastructure/llm/test_validation.py::TestResponseModeValidation::test_validate_short_response_valid PASSED [ 56%]
tests/infrastructure/llm/test_validation.py::TestResponseModeValidation::test_validate_short_response_too_long PASSED [ 56%]
tests/infrastructure/llm/test_validation.py::TestResponseModeValidation::test_validate_long_response_valid PASSED [ 56%]
tests/infrastructure/llm/test_validation.py::TestResponseModeValidation::test_validate_long_response_too_short PASSED [ 56%]
tests/infrastructure/llm/test_validation.py::TestStructureValidation::test_validate_structure_required_fields PASSED [ 56%]
tests/infrastructure/llm/test_validation.py::TestStructureValidation::test_validate_structure_type_checking PASSED [ 56%]
tests/infrastructure/llm/test_validation.py::TestStructureValidation::test_validate_structure_no_schema PASSED [ 56%]
tests/infrastructure/llm/test_validation.py::TestCitationValidation::test_extract_author_year_citations PASSED [ 56%]
tests/infrastructure/llm/test_validation.py::TestCitationValidation::test_extract_numeric_citations PASSED [ 56%]
tests/infrastructure/llm/test_validation.py::TestCitationValidation::test_extract_bibtex_citations PASSED [ 56%]
tests/infrastructure/llm/test_validation.py::TestFormattingValidation::test_validate_formatting_good PASSED [ 56%]
tests/infrastructure/llm/test_validation.py::TestFormattingValidation::test_validate_formatting_excessive_punctuation PASSED [ 56%]
tests/infrastructure/llm/test_validation.py::TestFormattingValidation::test_validate_formatting_double_spaces PASSED [ 56%]
tests/infrastructure/llm/test_validation.py::TestFormattingValidation::test_validate_formatting_question_marks PASSED [ 56%]
tests/infrastructure/llm/test_validation.py::TestCompleteValidation::test_validate_complete_standard_mode PASSED [ 57%]
tests/infrastructure/llm/test_validation.py::TestCompleteValidation::test_validate_complete_short_mode PASSED [ 57%]
tests/infrastructure/llm/test_validation.py::TestCompleteValidation::test_validate_complete_long_mode PASSED [ 57%]
tests/infrastructure/llm/test_validation.py::TestCompleteValidation::test_validate_complete_structured_mode PASSED [ 57%]
tests/infrastructure/llm/test_validation.py::TestCompleteValidation::test_validate_complete_empty_content PASSED [ 57%]
tests/infrastructure/llm/test_validation.py::TestCompleteValidation::test_validate_complete_invalid_structured PASSED [ 57%]
tests/infrastructure/llm/test_validation.py::TestJSONValidationEdgeCases::test_validate_generic_code_block PASSED [ 57%]
tests/infrastructure/llm/test_validation.py::TestJSONValidationEdgeCases::test_validate_code_block_with_text_before PASSED [ 57%]
tests/infrastructure/llm/test_validation.py::TestJSONValidationEdgeCases::test_validate_nested_json PASSED [ 57%]
tests/infrastructure/llm/test_validation.py::TestJSONValidationEdgeCases::test_validate_json_array PASSED [ 57%]
tests/infrastructure/llm/test_validation.py::TestTypeCheckingEdgeCases::test_check_unknown_type PASSED [ 57%]
tests/infrastructure/llm/test_validation.py::TestTypeCheckingEdgeCases::test_check_null_type PASSED [ 57%]
tests/infrastructure/llm/test_validation.py::TestTypeCheckingEdgeCases::test_check_type_boolean PASSED [ 57%]
tests/infrastructure/llm/test_validation.py::TestTypeCheckingEdgeCases::test_check_type_number PASSED [ 57%]
tests/infrastructure/llm/test_validation.py::TestTypeCheckingEdgeCases::test_check_type_array PASSED [ 57%]
tests/infrastructure/llm/test_validation.py::TestTypeCheckingEdgeCases::test_check_type_object PASSED [ 57%]
tests/infrastructure/llm/test_validation.py::TestCompleteValidationEdgeCases::test_validate_complete_with_formatting_issues PASSED [ 57%]
tests/infrastructure/llm/test_validation.py::TestCompleteValidationEdgeCases::test_validate_complete_whitespace_only PASSED [ 57%]
tests/infrastructure/llm/test_validation.py::TestCompleteValidationEdgeCases::test_validate_complete_newline_only PASSED [ 57%]
tests/infrastructure/llm/test_validation.py::TestCompleteValidationEdgeCases::test_validate_complete_structured_without_schema PASSED [ 57%]
tests/infrastructure/llm/test_validation.py::TestCompleteValidationEdgeCases::test_validate_complete_unknown_mode PASSED [ 57%]
tests/infrastructure/llm/test_validation.py::TestCitationValidationEdgeCases::test_extract_multiple_citation_types PASSED [ 57%]
tests/infrastructure/llm/test_validation.py::TestCitationValidationEdgeCases::test_extract_no_citations PASSED [ 57%]
tests/infrastructure/llm/test_validation.py::TestCitationValidationEdgeCases::test_extract_multi_author_citation PASSED [ 58%]
tests/infrastructure/llm/test_validation.py::TestFormattingValidationEdgeCases::test_formatting_both_issues PASSED [ 58%]
tests/infrastructure/llm/test_validation.py::TestFormattingValidationEdgeCases::test_formatting_empty_string PASSED [ 58%]
tests/infrastructure/llm/test_validation.py::TestFormattingValidationEdgeCases::test_formatting_unicode PASSED [ 58%]
tests/infrastructure/llm/test_validation.py::TestRepetitionDetection::test_detect_repetition_no_repetition PASSED [ 58%]
tests/infrastructure/llm/test_validation.py::TestRepetitionDetection::test_detect_repetition_with_repetition PASSED [ 58%]
tests/infrastructure/llm/test_validation.py::TestRepetitionDetection::test_detect_repetition_short_text PASSED [ 58%]
tests/infrastructure/llm/test_validation.py::TestRepetitionDetection::test_detect_repetition_empty_text PASSED [ 58%]
tests/infrastructure/llm/test_validation.py::TestRepetitionDetection::test_detect_repetition_semantic_similarity PASSED [ 58%]
tests/infrastructure/llm/test_validation.py::TestRepetitionDetection::test_detect_repetition_different_similarity_methods PASSED [ 58%]
tests/infrastructure/llm/test_validation.py::TestUniqueContentRatio::test_calculate_unique_content_ratio_unique PASSED [ 58%]
tests/infrastructure/llm/test_validation.py::TestUniqueContentRatio::test_calculate_unique_content_ratio_repeated PASSED [ 58%]
tests/infrastructure/llm/test_validation.py::TestUniqueContentRatio::test_calculate_unique_content_ratio_short PASSED [ 58%]
tests/infrastructure/llm/test_validation.py::TestDeduplicateSections::test_deduplicate_removes_repeated_sections PASSED [ 58%]
tests/infrastructure/llm/test_validation.py::TestDeduplicateSections::test_deduplicate_keeps_unique_sections PASSED [ 58%]
tests/infrastructure/llm/test_validation.py::TestDeduplicateSections::test_deduplicate_empty_text PASSED [ 58%]
tests/infrastructure/llm/test_validation.py::TestDeduplicateSections::test_deduplicate_paragraphs PASSED [ 58%]
tests/infrastructure/llm/test_validation.py::TestDeduplicateSections::test_deduplicate_conservative_mode PASSED [ 58%]
tests/infrastructure/llm/test_validation.py::TestDeduplicateSections::test_deduplicate_aggressive_mode PASSED [ 58%]
tests/infrastructure/llm/test_validation.py::TestDeduplicateSections::test_deduplicate_content_preservation PASSED [ 58%]
tests/infrastructure/llm/test_validation.py::TestDeduplicateSections::test_deduplicate_semantic_similarity PASSED [ 58%]
tests/infrastructure/llm/test_validation.py::TestSimilarityCalculations::test_calculate_similarity_jaccard PASSED [ 58%]
tests/infrastructure/llm/test_validation.py::TestSimilarityCalculations::test_calculate_similarity_tfidf PASSED [ 58%]
tests/infrastructure/llm/test_validation.py::TestSimilarityCalculations::test_calculate_similarity_hybrid PASSED [ 59%]
tests/infrastructure/llm/test_validation.py::TestSimilarityCalculations::test_calculate_similarity_identical PASSED [ 59%]
tests/infrastructure/llm/test_validation.py::TestSimilarityCalculations::test_calculate_similarity_empty PASSED [ 59%]
tests/infrastructure/llm/test_validation.py::TestOutputValidatorRepetition::test_validate_no_repetition_valid PASSED [ 59%]
tests/infrastructure/llm/test_validation.py::TestOutputValidatorRepetition::test_validate_no_repetition_invalid PASSED [ 59%]
tests/infrastructure/llm/test_validation.py::TestOutputValidatorRepetition::test_clean_repetitive_output PASSED [ 59%]
tests/infrastructure/llm/test_validation.py::TestOffTopicDetection::test_is_off_topic_email_format PASSED [ 59%]
tests/infrastructure/llm/test_validation.py::TestOffTopicDetection::test_is_off_topic_ai_refusal PASSED [ 59%]
tests/infrastructure/llm/test_validation.py::TestOffTopicDetection::test_is_off_topic_self_identification PASSED [ 59%]
tests/infrastructure/llm/test_validation.py::TestOffTopicDetection::test_is_off_topic_valid_review PASSED [ 59%]
tests/infrastructure/llm/test_validation.py::TestOffTopicDetection::test_is_off_topic_with_on_topic_signals PASSED [ 59%]
tests/infrastructure/llm/test_validation.py::TestOnTopicSignals::test_has_on_topic_signals_with_headers PASSED [ 59%]
tests/infrastructure/llm/test_validation.py::TestOnTopicSignals::test_has_on_topic_signals_with_keywords PASSED [ 59%]
tests/infrastructure/llm/test_validation.py::TestOnTopicSignals::test_has_on_topic_signals_none PASSED [ 59%]
tests/infrastructure/llm/test_validation.py::TestConversationalPhrases::test_detect_conversational_phrases_found PASSED [ 59%]
tests/infrastructure/llm/test_validation.py::TestConversationalPhrases::test_detect_conversational_phrases_none PASSED [ 59%]
tests/infrastructure/llm/test_validation.py::TestConversationalPhrases::test_detect_conversational_document_sharing PASSED [ 59%]
tests/infrastructure/llm/test_validation.py::TestFormatCompliance::test_check_format_compliance_valid PASSED [ 59%]
tests/infrastructure/llm/test_validation.py::TestFormatCompliance::test_check_format_compliance_conversational PASSED [ 59%]
tests/infrastructure/llm/test_validation.py::TestFormatCompliance::test_check_format_compliance_empty PASSED [ 59%]
tests/infrastructure/publishing/test_api.py::TestPublishingAPI::test_api_module_exists PASSED [ 59%]
tests/infrastructure/publishing/test_api.py::TestPublishingAPI::test_zenodo_client_available PASSED [ 59%]
tests/infrastructure/publishing/test_api.py::TestPublishingAPI::test_arxiv_client_available PASSED [ 59%]
tests/infrastructure/publishing/test_api.py::TestPublishingAPI::test_github_client_available PASSED [ 60%]
tests/infrastructure/publishing/test_api.py::TestPublishingAPI::test_api_authentication PASSED [ 60%]
tests/infrastructure/publishing/test_api.py::TestPublishingAPI::test_api_error_handling PASSED [ 60%]
tests/infrastructure/publishing/test_api.py::TestPublishingAPI::test_api_retry_logic PASSED [ 60%]
tests/infrastructure/publishing/test_cli.py::TestPublishingCLI::test_cli_module_exists PASSED [ 60%]
tests/infrastructure/publishing/test_cli.py::TestPublishingCLI::test_publish_command_available PASSED [ 60%]
tests/infrastructure/publishing/test_cli.py::TestPublishingCLI::test_zenodo_publish_available PASSED [ 60%]
tests/infrastructure/publishing/test_cli.py::TestPublishingCLI::test_arxiv_submit_available PASSED [ 60%]
tests/infrastructure/publishing/test_cli.py::TestPublishingCLI::test_github_release_available PASSED [ 60%]
tests/infrastructure/publishing/test_cli.py::TestPublishingCLI::test_cli_help_output PASSED [ 60%]
tests/infrastructure/publishing/test_cli.py::TestPublishingCLI::test_cli_error_messages PASSED [ 60%]
tests/infrastructure/publishing/test_publish_cli.py::TestPublishCliMain::test_main_basic_publish PASSED [ 60%]
tests/infrastructure/publishing/test_publish_cli.py::TestPublishCliMain::test_main_missing_required_args PASSED [ 60%]
tests/infrastructure/publishing/test_publish_cli.py::TestPublishCliModule::test_has_main_function PASSED [ 60%]
tests/infrastructure/publishing/test_publish_cli.py::TestPublishCliModule::test_imports_publishing PASSED [ 60%]
tests/infrastructure/publishing/test_publishing.py::TestPublicationMetadata::test_extract_publication_metadata_complete_document PASSED [ 60%]
tests/infrastructure/publishing/test_publishing.py::TestPublicationMetadata::test_extract_publication_metadata_minimal_document PASSED [ 60%]
tests/infrastructure/publishing/test_publishing.py::TestDOIValidation::test_validate_doi_valid_format PASSED [ 60%]
tests/infrastructure/publishing/test_publishing.py::TestDOIValidation::test_validate_doi_invalid_format PASSED [ 60%]
tests/infrastructure/publishing/test_publishing.py::TestCitationGeneration::test_generate_citation_bibtex PASSED [ 60%]
tests/infrastructure/publishing/test_publishing.py::TestCitationGeneration::test_generate_citation_apa PASSED [ 60%]
tests/infrastructure/publishing/test_publishing.py::TestCitationGeneration::test_generate_citation_mla PASSED [ 60%]
tests/infrastructure/publishing/test_publishing.py::TestCitationMarkdown::test_generate_citations_markdown PASSED [ 60%]
tests/infrastructure/publishing/test_publishing.py::TestPublicationPackage::test_create_publication_package PASSED [ 60%]
tests/infrastructure/publishing/test_publishing.py::TestSubmissionChecklist::test_create_submission_checklist PASSED [ 61%]
tests/infrastructure/publishing/test_publishing.py::TestCitationExtraction::test_extract_citations_from_markdown PASSED [ 61%]
tests/infrastructure/publishing/test_publishing.py::TestPublicationSummary::test_generate_publication_summary PASSED [ 61%]
tests/infrastructure/publishing/test_publishing.py::TestAcademicProfile::test_create_academic_profile_data PASSED [ 61%]
tests/infrastructure/publishing/test_publishing.py::TestPublicationReadiness::test_validate_publication_readiness_complete PASSED [ 61%]
tests/infrastructure/publishing/test_publishing.py::TestPublicationReadiness::test_validate_publication_readiness_incomplete PASSED [ 61%]
tests/infrastructure/publishing/test_publishing.py::TestPublicationMetrics::test_generate_publication_metrics PASSED [ 61%]
tests/infrastructure/publishing/test_publishing.py::TestComplexityScoring::test_calculate_complexity_score_simple PASSED [ 61%]
tests/infrastructure/publishing/test_publishing.py::TestComplexityScoring::test_calculate_complexity_score_complex PASSED [ 61%]
tests/infrastructure/publishing/test_publishing.py::TestRepositoryMetadata::test_create_repository_metadata PASSED [ 61%]
tests/infrastructure/publishing/test_publishing.py::TestEdgeCases::test_extract_publication_metadata_empty_files PASSED [ 61%]
tests/infrastructure/publishing/test_publishing.py::TestEdgeCases::test_validate_doi_empty_string PASSED [ 61%]
tests/infrastructure/publishing/test_publishing.py::TestEdgeCases::test_generate_citations_markdown_no_doi PASSED [ 61%]
tests/infrastructure/publishing/test_publishing.py::TestEdgeCases::test_calculate_file_hash_exception PASSED [ 61%]
tests/infrastructure/publishing/test_publishing.py::TestEdgeCases::test_extract_publication_metadata_exception PASSED [ 61%]
tests/infrastructure/publishing/test_publishing.py::TestEdgeCases::test_extract_publication_metadata_template_content PASSED [ 61%]
tests/infrastructure/publishing/test_publishing.py::TestEdgeCases::test_extract_publication_metadata_author_with_title PASSED [ 61%]
tests/infrastructure/publishing/test_publishing.py::TestEdgeCases::test_extract_publication_metadata_conference PASSED [ 61%]
tests/infrastructure/publishing/test_publishing.py::TestEdgeCases::test_extract_publication_metadata_proceedings PASSED [ 61%]
tests/infrastructure/publishing/test_publishing.py::TestEdgeCases::test_create_publication_package_no_pdf_dir PASSED [ 61%]
tests/infrastructure/publishing/test_publishing.py::TestEdgeCases::test_create_publication_package_with_pdfs PASSED [ 61%]
tests/infrastructure/publishing/test_publishing.py::TestEdgeCases::test_create_publication_package_hash_exception PASSED [ 61%]
tests/infrastructure/publishing/test_publishing.py::TestEdgeCases::test_generate_doi_badge_zenodo PASSED [ 61%]
tests/infrastructure/publishing/test_publishing.py::TestEdgeCases::test_generate_doi_badge_github PASSED [ 62%]
tests/infrastructure/publishing/test_publishing.py::TestEdgeCases::test_generate_doi_badge_shields PASSED [ 62%]
tests/infrastructure/publishing/test_publishing.py::TestEdgeCases::test_generate_doi_badge_default PASSED [ 62%]
tests/infrastructure/publishing/test_publishing.py::TestEdgeCases::test_create_publication_announcement_with_doi PASSED [ 62%]
tests/infrastructure/publishing/test_publishing.py::TestEdgeCases::test_create_publication_announcement_with_repository PASSED [ 62%]
tests/infrastructure/publishing/test_publishing.py::TestEdgeCases::test_create_publication_announcement_without_doi PASSED [ 62%]
tests/infrastructure/publishing/test_publishing.py::TestEdgeCases::test_validate_publication_readiness_missing_sections PASSED [ 62%]
tests/infrastructure/publishing/test_publishing.py::TestEdgeCases::test_validate_publication_readiness_no_pdfs PASSED [ 62%]
tests/infrastructure/publishing/test_publishing.py::TestEdgeCases::test_generate_publication_metrics_complex PASSED [ 62%]
tests/infrastructure/publishing/test_publishing.py::TestEdgeCases::test_create_academic_profile_data_with_doi PASSED [ 62%]
tests/infrastructure/publishing/test_publishing.py::TestEdgeCases::test_create_academic_profile_data_software_type PASSED [ 62%]
tests/infrastructure/publishing/test_publishing.py::TestEdgeCases::test_create_academic_profile_data_article_type PASSED [ 62%]
tests/infrastructure/publishing/test_publishing.py::TestDissemination::test_publish_to_zenodo SKIPPED.env file.) [ 62%]
tests/infrastructure/publishing/test_publishing.py::TestDissemination::test_prepare_arxiv_submission PASSED [ 62%]
tests/infrastructure/publishing/test_publishing.py::TestDissemination::test_create_github_release_alt SKIPPED.env file.) [ 62%]
tests/infrastructure/publishing/test_publishing_api_coverage.py::TestPublishingApiCore::test_module_imports PASSED [ 62%]
tests/infrastructure/publishing/test_publishing_api_coverage.py::TestPublishingApiCore::test_has_api_functions PASSED [ 62%]
tests/infrastructure/publishing/test_publishing_api_coverage.py::TestZenodoApi::test_zenodo_client_exists PASSED [ 62%]
tests/infrastructure/publishing/test_publishing_api_coverage.py::TestZenodoApi::test_zenodo_upload PASSED [ 62%]
tests/infrastructure/publishing/test_publishing_api_coverage.py::TestZenodoApi::test_create_zenodo_deposition PASSED [ 62%]
tests/infrastructure/publishing/test_publishing_api_coverage.py::TestArxivApi::test_prepare_arxiv_submission PASSED [ 62%]
tests/infrastructure/publishing/test_publishing_api_coverage.py::TestArxivApi::test_create_arxiv_package PASSED [ 62%]
tests/infrastructure/publishing/test_publishing_api_coverage.py::TestGitHubApi::test_create_github_release PASSED [ 62%]
tests/infrastructure/publishing/test_publishing_api_coverage.py::TestGitHubApi::test_upload_release_asset PASSED [ 63%]
tests/infrastructure/publishing/test_publishing_api_coverage.py::TestMetadataExtraction::test_extract_metadata PASSED [ 63%]
tests/infrastructure/publishing/test_publishing_api_coverage.py::TestMetadataExtraction::test_generate_bibtex PASSED [ 63%]
tests/infrastructure/publishing/test_publishing_api_coverage.py::TestPublishingApiIntegration::test_full_publishing_workflow PASSED [ 63%]
tests/infrastructure/publishing/test_publishing_api_full.py::TestPublishingApiImport::test_module_imports PASSED [ 63%]
tests/infrastructure/publishing/test_publishing_api_full.py::TestPublishingApiImport::test_module_attributes PASSED [ 63%]
tests/infrastructure/publishing/test_publishing_api_full.py::TestZenodoConfig::test_sandbox_url PASSED [ 63%]
tests/infrastructure/publishing/test_publishing_api_full.py::TestZenodoConfig::test_production_url PASSED [ 63%]
tests/infrastructure/publishing/test_publishing_api_full.py::TestZenodoConfig::test_access_token PASSED [ 63%]
tests/infrastructure/publishing/test_publishing_api_full.py::TestZenodoClient::test_init PASSED [ 63%]
tests/infrastructure/publishing/test_publishing_api_full.py::TestZenodoClient::test_create_deposition_success PASSED [ 63%]
tests/infrastructure/publishing/test_publishing_api_full.py::TestZenodoClient::test_create_deposition_failure PASSED [ 63%]
tests/infrastructure/publishing/test_publishing_api_full.py::TestZenodoClient::test_upload_file_success PASSED [ 63%]
tests/infrastructure/publishing/test_publishing_api_full.py::TestZenodoClient::test_upload_file_not_found PASSED [ 63%]
tests/infrastructure/publishing/test_publishing_api_full.py::TestZenodoClient::test_publish_success PASSED [ 63%]
tests/infrastructure/publishing/test_publishing_api_full.py::TestZenodoClient::test_publish_failure PASSED [ 63%]
tests/infrastructure/publishing/test_publishing_api_full.py::TestPublishingApiIntegration::test_module_structure PASSED [ 63%]
tests/infrastructure/publishing/test_publishing_api_full.py::TestPublishingApiIntegration::test_full_workflow PASSED [ 63%]
tests/infrastructure/publishing/test_publishing_cli.py::TestExtractMetadataCommand::test_extract_metadata_basic PASSED [ 63%]
tests/infrastructure/publishing/test_publishing_cli.py::TestExtractMetadataCommand::test_extract_metadata_nonexistent_dir PASSED [ 63%]
tests/infrastructure/publishing/test_publishing_cli.py::TestExtractMetadataCommand::test_extract_metadata_no_md_files PASSED [ 63%]
tests/infrastructure/publishing/test_publishing_cli.py::TestGenerateCitationCommand::test_generate_citation_bibtex PASSED [ 63%]
tests/infrastructure/publishing/test_publishing_cli.py::TestGenerateCitationCommand::test_generate_citation_unsupported_format PASSED [ 63%]
tests/infrastructure/publishing/test_publishing_cli.py::TestGenerateCitationCommand::test_generate_citation_nonexistent_dir PASSED [ 64%]
tests/infrastructure/publishing/test_publishing_cli.py::TestGenerateCitationCommand::test_generate_citation_no_md_files PASSED [ 64%]
tests/infrastructure/publishing/test_publishing_cli.py::TestPublishZenodoCommand::test_publish_zenodo_basic PASSED [ 64%]
tests/infrastructure/publishing/test_publishing_cli.py::TestPublishZenodoCommand::test_publish_zenodo_env_token PASSED [ 64%]
tests/infrastructure/publishing/test_publishing_cli.py::TestPublishZenodoCommand::test_publish_zenodo_no_token PASSED [ 64%]
tests/infrastructure/publishing/test_publishing_cli.py::TestPublishZenodoCommand::test_publish_zenodo_nonexistent_dir PASSED [ 64%]
tests/infrastructure/publishing/test_publishing_cli.py::TestPublishZenodoCommand::test_publish_zenodo_no_pdfs PASSED [ 64%]
tests/infrastructure/publishing/test_publishing_cli.py::TestPublishZenodoCommand::test_publish_zenodo_upload_error PASSED [ 64%]
tests/infrastructure/publishing/test_publishing_cli.py::TestMainCli::test_main_with_extract_metadata PASSED [ 64%]
tests/infrastructure/publishing/test_publishing_cli.py::TestMainCli::test_main_with_generate_citation PASSED [ 64%]
tests/infrastructure/publishing/test_publishing_cli.py::TestMainCli::test_main_without_command PASSED [ 64%]
tests/infrastructure/publishing/test_publishing_cli.py::TestMainCli::test_main_with_exception PASSED [ 64%]
tests/infrastructure/publishing/test_publishing_cli.py::TestCliModuleStructure::test_module_has_main_function PASSED [ 64%]
tests/infrastructure/publishing/test_publishing_cli.py::TestCliModuleStructure::test_module_has_command_functions PASSED [ 64%]
tests/infrastructure/publishing/test_publishing_cli_full.py::TestPublishCliCore::test_module_imports PASSED [ 64%]
tests/infrastructure/publishing/test_publishing_cli_full.py::TestPublishCliCore::test_has_main_function PASSED [ 64%]
tests/infrastructure/publishing/test_publishing_cli_full.py::TestZenodoCommands::test_zenodo_upload_command PASSED [ 64%]
tests/infrastructure/publishing/test_publishing_cli_full.py::TestZenodoCommands::test_zenodo_create_command PASSED [ 64%]
tests/infrastructure/publishing/test_publishing_cli_full.py::TestArxivCommands::test_arxiv_prepare_command PASSED [ 64%]
tests/infrastructure/publishing/test_publishing_cli_full.py::TestGitHubCommands::test_github_release_command PASSED [ 64%]
tests/infrastructure/publishing/test_publishing_cli_full.py::TestPublishCliParsing::test_parse_args_basic PASSED [ 64%]
tests/infrastructure/publishing/test_publishing_cli_full.py::TestPublishCliMain::test_main_without_args PASSED [ 64%]
tests/infrastructure/publishing/test_publishing_cli_full.py::TestPublishCliMain::test_main_with_help PASSED [ 64%]
tests/infrastructure/publishing/test_publishing_cli_full.py::TestPublishCliIntegration::test_full_publish_workflow PASSED [ 65%]
tests/infrastructure/publishing/test_publishing_edge_cases.py::TestPublishingEdgeCases::test_validate_doi_edge_cases PASSED [ 65%]
tests/infrastructure/publishing/test_publishing_edge_cases.py::TestPublishingEdgeCases::test_generate_citation_with_minimal_metadata PASSED [ 65%]
tests/infrastructure/publishing/test_publishing_edge_cases.py::TestPublishingEdgeCases::test_validate_publication_readiness_edge_cases PASSED [ 65%]
tests/infrastructure/publishing/test_publishing_edge_cases.py::TestPublishingEdgeCases::test_extract_citations_from_markdown_various_formats PASSED [ 65%]
tests/infrastructure/rendering/test_cli.py::TestRenderingCLI::test_cli_module_exists PASSED [ 65%]
tests/infrastructure/rendering/test_cli.py::TestRenderingCLI::test_render_command_available PASSED [ 65%]
tests/infrastructure/rendering/test_cli.py::TestRenderingCLI::test_pdf_render_option PASSED [ 65%]
tests/infrastructure/rendering/test_cli.py::TestRenderingCLI::test_html_render_option PASSED [ 65%]
tests/infrastructure/rendering/test_cli.py::TestRenderingCLI::test_slides_render_option PASSED [ 65%]
tests/infrastructure/rendering/test_cli.py::TestRenderingCLI::test_poster_render_option PASSED [ 65%]
tests/infrastructure/rendering/test_cli.py::TestRenderingCLI::test_cli_help_output PASSED [ 65%]
tests/infrastructure/rendering/test_cli.py::TestRenderingCLI::test_cli_format_selection PASSED [ 65%]
tests/infrastructure/rendering/test_cli.py::TestRenderingCLI::test_render_execution PASSED [ 65%]
tests/infrastructure/rendering/test_config.py::TestRenderingConfig::test_config_initialization PASSED [ 65%]
tests/infrastructure/rendering/test_config.py::TestRenderingConfig::test_config_defaults PASSED [ 65%]
tests/infrastructure/rendering/test_config.py::TestRenderingConfig::test_config_custom_output_dir PASSED [ 65%]
tests/infrastructure/rendering/test_config.py::TestRenderingConfig::test_config_pdf_options PASSED [ 65%]
tests/infrastructure/rendering/test_config.py::TestRenderingConfig::test_config_web_options PASSED [ 65%]
tests/infrastructure/rendering/test_config.py::TestRenderingConfig::test_config_slides_options PASSED [ 65%]
tests/infrastructure/rendering/test_config.py::TestRenderingConfig::test_config_format_selection PASSED [ 65%]
tests/infrastructure/rendering/test_core.py::test_render_all_tex PASSED  [ 65%]
tests/infrastructure/rendering/test_core.py::test_render_all_md PASSED   [ 65%]
tests/infrastructure/rendering/test_latex_package_validator.py::TestFindKpsewhich::test_find_kpsewhich_in_common_path PASSED [ 66%]
tests/infrastructure/rendering/test_latex_package_validator.py::TestFindKpsewhich::test_find_kpsewhich_via_which_command PASSED [ 66%]
tests/infrastructure/rendering/test_latex_package_validator.py::TestFindKpsewhich::test_find_kpsewhich_not_found PASSED [ 66%]
tests/infrastructure/rendering/test_latex_package_validator.py::TestFindKpsewhich::test_find_kpsewhich_which_exception PASSED [ 66%]
tests/infrastructure/rendering/test_latex_package_validator.py::TestCheckLatexPackage::test_check_package_installed PASSED [ 66%]
tests/infrastructure/rendering/test_latex_package_validator.py::TestCheckLatexPackage::test_check_package_not_installed PASSED [ 66%]
tests/infrastructure/rendering/test_latex_package_validator.py::TestCheckLatexPackage::test_check_package_no_kpsewhich PASSED [ 66%]
tests/infrastructure/rendering/test_latex_package_validator.py::TestCheckLatexPackage::test_check_package_timeout PASSED [ 66%]
tests/infrastructure/rendering/test_latex_package_validator.py::TestCheckLatexPackage::test_check_package_exception PASSED [ 66%]
tests/infrastructure/rendering/test_latex_package_validator.py::TestCheckLatexPackage::test_check_package_empty_output PASSED [ 66%]
tests/infrastructure/rendering/test_latex_package_validator.py::TestValidatePackages::test_validate_all_installed PASSED [ 66%]
tests/infrastructure/rendering/test_latex_package_validator.py::TestValidatePackages::test_validate_missing_required PASSED [ 66%]
tests/infrastructure/rendering/test_latex_package_validator.py::TestValidatePackages::test_validate_missing_optional PASSED [ 66%]
tests/infrastructure/rendering/test_latex_package_validator.py::TestValidatePackages::test_validate_no_kpsewhich PASSED [ 66%]
tests/infrastructure/rendering/test_latex_package_validator.py::TestValidatePreamblePackages::test_validate_preamble_non_strict PASSED [ 66%]
tests/infrastructure/rendering/test_latex_package_validator.py::TestValidatePreamblePackages::test_validate_preamble_strict_mode PASSED [ 66%]
tests/infrastructure/rendering/test_latex_package_validator.py::TestValidatePreamblePackages::test_validate_preamble_strict_all_available PASSED [ 66%]
tests/infrastructure/rendering/test_latex_package_validator.py::TestGetMissingPackagesCommand::test_get_command_with_packages PASSED [ 66%]
tests/infrastructure/rendering/test_latex_package_validator.py::TestGetMissingPackagesCommand::test_get_command_empty_list PASSED [ 66%]
tests/infrastructure/rendering/test_latex_package_validator.py::TestValidationReport::test_report_str_all_available PASSED [ 66%]
tests/infrastructure/rendering/test_latex_package_validator.py::TestValidationReport::test_report_str_missing_required PASSED [ 66%]
tests/infrastructure/rendering/test_latex_package_validator.py::TestValidationReport::test_report_str_missing_optional PASSED [ 66%]
tests/infrastructure/rendering/test_latex_package_validator.py::TestValidationReport::test_report_str_installation_command PASSED [ 66%]
tests/infrastructure/rendering/test_latex_package_validator.py::TestMain::test_main_kpsewhich_found PASSED [ 66%]
tests/infrastructure/rendering/test_latex_package_validator.py::TestMain::test_main_kpsewhich_not_found PASSED [ 67%]
tests/infrastructure/rendering/test_latex_package_validator.py::TestMain::test_main_missing_packages PASSED [ 67%]
tests/infrastructure/rendering/test_latex_utils.py::test_compile_latex_success PASSED [ 67%]
tests/infrastructure/rendering/test_latex_utils.py::test_compile_latex_missing_file PASSED [ 67%]
tests/infrastructure/rendering/test_latex_utils.py::test_compile_latex_failure PASSED [ 67%]
tests/infrastructure/rendering/test_pdf_renderer_additional.py::TestPdfRendererHelpers::test_check_xelatex PASSED [ 67%]
tests/infrastructure/rendering/test_pdf_renderer_additional.py::TestPdfRendererHelpers::test_check_pdflatex PASSED [ 67%]
tests/infrastructure/rendering/test_pdf_renderer_additional.py::TestPdfRendererHelpers::test_get_latex_engine PASSED [ 67%]
tests/infrastructure/rendering/test_pdf_renderer_additional.py::TestPdfRendererConfig::test_default_config PASSED [ 67%]
tests/infrastructure/rendering/test_pdf_renderer_additional.py::TestPdfRendererConfig::test_custom_config PASSED [ 67%]
tests/infrastructure/rendering/test_pdf_renderer_additional.py::TestPdfRendererOutput::test_output_path_generation PASSED [ 67%]
tests/infrastructure/rendering/test_pdf_renderer_additional.py::TestPdfRendererOutput::test_cleanup_temp_files PASSED [ 67%]
tests/infrastructure/rendering/test_pdf_renderer_additional.py::TestPdfRendererErrors::test_handle_latex_error PASSED [ 67%]
tests/infrastructure/rendering/test_pdf_renderer_additional.py::TestPdfRendererErrors::test_handle_missing_file PASSED [ 67%]
tests/infrastructure/rendering/test_pdf_renderer_combined.py::TestTitlePageGeneration::test_title_page_preamble_single_author PASSED [ 67%]
tests/infrastructure/rendering/test_pdf_renderer_combined.py::TestTitlePageGeneration::test_title_page_preamble_multiple_authors PASSED [ 67%]
tests/infrastructure/rendering/test_pdf_renderer_combined.py::TestTitlePageGeneration::test_title_page_preamble_with_subtitle PASSED [ 67%]
tests/infrastructure/rendering/test_pdf_renderer_combined.py::TestTitlePageGeneration::test_title_page_preamble_with_custom_date PASSED [ 67%]
tests/infrastructure/rendering/test_pdf_renderer_combined.py::TestTitlePageGeneration::test_title_page_body_generates_maketitle PASSED [ 67%]
tests/infrastructure/rendering/test_pdf_renderer_combined.py::TestTitlePageGeneration::test_title_page_preamble_missing_config PASSED [ 67%]
tests/infrastructure/rendering/test_pdf_renderer_combined.py::TestTitlePageGeneration::test_title_page_body_missing_config PASSED [ 67%]
tests/infrastructure/rendering/test_pdf_renderer_combined.py::TestFigurePathResolution::test_fix_figure_paths_basic PASSED [ 67%]
tests/infrastructure/rendering/test_pdf_renderer_combined.py::TestFigurePathResolution::test_fix_figure_paths_with_options PASSED [ 67%]
tests/infrastructure/rendering/test_pdf_renderer_combined.py::TestFigurePathResolution::test_fix_figure_paths_missing_figure PASSED [ 68%]
tests/infrastructure/rendering/test_pdf_renderer_combined.py::TestFigurePathResolution::test_fix_figure_paths_multiple_figures PASSED [ 68%]
tests/infrastructure/rendering/test_pdf_renderer_combined.py::TestFigurePathResolution::test_fix_figure_paths_already_correct PASSED [ 68%]
tests/infrastructure/rendering/test_pdf_renderer_combined.py::TestCombinedPDFRendering::test_combined_pdf_includes_preamble_commands PASSED [ 68%]
tests/infrastructure/rendering/test_pdf_renderer_combined.py::TestCombinedPDFRendering::test_combined_pdf_title_page_commands_order PASSED [ 68%]
tests/infrastructure/rendering/test_pdf_renderer_combined.py::TestFigureVerification::test_figure_reference_extraction PASSED [ 68%]
tests/infrastructure/rendering/test_pdf_renderer_combined.py::TestFigureVerification::test_missing_figure_detection PASSED [ 68%]
tests/infrastructure/rendering/test_pdf_renderer_coverage.py::TestPDFRendererClass::test_pdf_renderer_initialization PASSED [ 68%]
tests/infrastructure/rendering/test_pdf_renderer_coverage.py::TestPDFRendererClass::test_render_tex_file PASSED [ 68%]
tests/infrastructure/rendering/test_pdf_renderer_coverage.py::TestPDFRendererClass::test_render_md_file PASSED [ 68%]
tests/infrastructure/rendering/test_pdf_renderer_coverage.py::TestPDFRendererClass::test_render_unsupported_format PASSED [ 68%]
tests/infrastructure/rendering/test_pdf_renderer_coverage.py::TestRenderMarkdown::test_render_markdown_success PASSED [ 68%]
tests/infrastructure/rendering/test_pdf_renderer_coverage.py::TestRenderMarkdown::test_render_markdown_failure PASSED [ 68%]
tests/infrastructure/rendering/test_pdf_renderer_coverage.py::TestRenderMarkdown::test_render_markdown_custom_output_name PASSED [ 68%]
tests/infrastructure/rendering/test_pdf_renderer_coverage.py::TestBibliographyProcessing::test_process_bibliography_exception PASSED [ 68%]
tests/infrastructure/rendering/test_pdf_renderer_coverage.py::TestTitlePageInsertion::test_title_page_body_insertion PASSED [ 68%]
tests/infrastructure/rendering/test_pdf_renderer_coverage.py::TestPdfRendererCore::test_module_imports PASSED [ 68%]
tests/infrastructure/rendering/test_pdf_renderer_coverage.py::TestPdfRendererCore::test_has_render_functions PASSED [ 68%]
tests/infrastructure/rendering/test_pdf_renderer_coverage.py::TestPdfRendering::test_render_pdf_from_tex PASSED [ 68%]
tests/infrastructure/rendering/test_pdf_renderer_coverage.py::TestPdfRendering::test_render_pdf_from_markdown PASSED [ 68%]
tests/infrastructure/rendering/test_pdf_renderer_coverage.py::TestLatexCompilation::test_compile_latex PASSED [ 68%]
tests/infrastructure/rendering/test_pdf_renderer_coverage.py::TestLatexCompilation::test_compile_latex_multiple_passes PASSED [ 68%]
tests/infrastructure/rendering/test_pdf_renderer_coverage.py::TestPandocIntegration::test_pandoc_available PASSED [ 68%]
tests/infrastructure/rendering/test_pdf_renderer_coverage.py::TestPandocIntegration::test_pandoc_convert PASSED [ 69%]
tests/infrastructure/rendering/test_pdf_renderer_coverage.py::TestPdfValidation::test_validate_pdf_output PASSED [ 69%]
tests/infrastructure/rendering/test_pdf_renderer_coverage.py::TestPdfValidation::test_check_pdf_structure PASSED [ 69%]
tests/infrastructure/rendering/test_pdf_renderer_coverage.py::TestRenderOptions::test_render_with_options PASSED [ 69%]
tests/infrastructure/rendering/test_pdf_renderer_coverage.py::TestPdfRendererIntegration::test_full_render_workflow PASSED [ 69%]
tests/infrastructure/rendering/test_pdf_renderer_fixes.py::TestBibliographyProcessing::test_process_bibliography_success PASSED [ 69%]
tests/infrastructure/rendering/test_pdf_renderer_fixes.py::TestBibliographyProcessing::test_process_bibliography_missing_bib_file PASSED [ 69%]
tests/infrastructure/rendering/test_pdf_renderer_fixes.py::TestBibliographyProcessing::test_process_bibliography_missing_aux_file PASSED [ 69%]
tests/infrastructure/rendering/test_pdf_renderer_fixes.py::TestBibliographyProcessing::test_process_bibliography_bibtex_warning PASSED [ 69%]
tests/infrastructure/rendering/test_pdf_renderer_fixes.py::TestFigurePathResolution::test_fix_figure_paths_basic PASSED [ 69%]
tests/infrastructure/rendering/test_pdf_renderer_fixes.py::TestFigurePathResolution::test_fix_figure_paths_with_options PASSED [ 69%]
tests/infrastructure/rendering/test_pdf_renderer_fixes.py::TestFigurePathResolution::test_fix_figure_paths_unicode_filename PASSED [ 69%]
tests/infrastructure/rendering/test_pdf_renderer_fixes.py::TestFigurePathResolution::test_fix_figure_paths_missing_figure PASSED [ 69%]
tests/infrastructure/rendering/test_pdf_renderer_fixes.py::TestFigurePathResolution::test_fix_figure_paths_already_correct PASSED [ 69%]
tests/infrastructure/rendering/test_pdf_renderer_fixes.py::TestFigurePathResolution::test_fix_multiple_figure_paths PASSED [ 69%]
tests/infrastructure/rendering/test_pdf_renderer_fixes.py::TestCitationProcessing::test_render_combined_includes_bibliography PASSED [ 69%]
tests/infrastructure/rendering/test_pdf_renderer_fixes.py::TestIntegration::test_latex_content_with_citations_and_figures PASSED [ 69%]
tests/infrastructure/rendering/test_pdf_renderer_full.py::TestPdfRendererImport::test_module_imports PASSED [ 69%]
tests/infrastructure/rendering/test_pdf_renderer_full.py::TestPdfRendererImport::test_module_attributes PASSED [ 69%]
tests/infrastructure/rendering/test_pdf_renderer_full.py::TestPdfRendererClass::test_renderer_class_exists PASSED [ 69%]
tests/infrastructure/rendering/test_pdf_renderer_full.py::TestPdfRendererClass::test_renderer_init PASSED [ 69%]
tests/infrastructure/rendering/test_pdf_renderer_full.py::TestRenderFunctions::test_render_pdf_function_exists PASSED [ 69%]
tests/infrastructure/rendering/test_pdf_renderer_full.py::TestRenderFunctions::test_render_pdf_with_tex PASSED [ 69%]
tests/infrastructure/rendering/test_pdf_renderer_full.py::TestLatexCompilation::test_compile_tex PASSED [ 70%]
tests/infrastructure/rendering/test_pdf_renderer_full.py::TestPandocIntegration::test_pandoc_check PASSED [ 70%]
tests/infrastructure/rendering/test_pdf_renderer_full.py::TestPandocIntegration::test_markdown_to_pdf PASSED [ 70%]
tests/infrastructure/rendering/test_pdf_renderer_full.py::TestOutputValidation::test_validate_pdf_output PASSED [ 70%]
tests/infrastructure/rendering/test_pdf_renderer_full.py::TestRenderOptions::test_render_with_engine PASSED [ 70%]
tests/infrastructure/rendering/test_pdf_renderer_full.py::TestPdfRendererIntegration::test_module_structure PASSED [ 70%]
tests/infrastructure/rendering/test_poster_renderer.py::TestPosterRenderer::test_poster_renderer_initialization PASSED [ 70%]
tests/infrastructure/rendering/test_poster_renderer.py::TestPosterRenderer::test_poster_renderer_from_markdown PASSED [ 70%]
tests/infrastructure/rendering/test_poster_renderer.py::TestPosterRenderer::test_poster_dimensions PASSED [ 70%]
tests/infrastructure/rendering/test_poster_renderer.py::TestPosterRenderer::test_poster_layout_options PASSED [ 70%]
tests/infrastructure/rendering/test_poster_renderer.py::TestPosterRenderer::test_poster_color_scheme PASSED [ 70%]
tests/infrastructure/rendering/test_poster_renderer.py::TestPosterRenderer::test_poster_export_formats PASSED [ 70%]
tests/infrastructure/rendering/test_poster_renderer.py::TestPosterRenderer::test_poster_render_call PASSED [ 70%]
tests/infrastructure/rendering/test_render_all_cli.py::TestRenderAllCliMain::test_main_no_manuscript_directory PASSED [ 70%]
tests/infrastructure/rendering/test_render_all_cli.py::TestRenderAllCliMain::test_main_with_manuscript PASSED [ 70%]
tests/infrastructure/rendering/test_render_all_cli.py::TestRenderAllCliMain::test_main_empty_manuscript_dir PASSED [ 70%]
tests/infrastructure/rendering/test_render_all_cli.py::TestRenderAllCliModule::test_has_main_function PASSED [ 70%]
tests/infrastructure/rendering/test_render_all_cli.py::TestRenderAllCliModule::test_imports_render_manager PASSED [ 70%]
tests/infrastructure/rendering/test_renderers.py::test_pdf_renderer PASSED [ 70%]
tests/infrastructure/rendering/test_renderers.py::test_slides_renderer_beamer PASSED [ 70%]
tests/infrastructure/rendering/test_renderers.py::test_web_renderer PASSED [ 70%]
tests/infrastructure/rendering/test_renderers.py::test_renderer_failure PASSED [ 70%]
tests/infrastructure/rendering/test_rendering_cli.py::TestRenderPdfCommand::test_render_pdf_basic PASSED [ 70%]
tests/infrastructure/rendering/test_rendering_cli.py::TestRenderPdfCommand::test_render_pdf_nonexistent_source PASSED [ 71%]
tests/infrastructure/rendering/test_rendering_cli.py::TestRenderAllCommand::test_render_all_basic PASSED [ 71%]
tests/infrastructure/rendering/test_rendering_cli.py::TestRenderAllCommand::test_render_all_nonexistent_source PASSED [ 71%]
tests/infrastructure/rendering/test_rendering_cli.py::TestRenderSlidesCommand::test_render_slides_beamer PASSED [ 71%]
tests/infrastructure/rendering/test_rendering_cli.py::TestRenderSlidesCommand::test_render_slides_revealjs PASSED [ 71%]
tests/infrastructure/rendering/test_rendering_cli.py::TestRenderSlidesCommand::test_render_slides_default_format PASSED [ 71%]
tests/infrastructure/rendering/test_rendering_cli.py::TestRenderSlidesCommand::test_render_slides_nonexistent_source PASSED [ 71%]
tests/infrastructure/rendering/test_rendering_cli.py::TestRenderWebCommand::test_render_web_basic PASSED [ 71%]
tests/infrastructure/rendering/test_rendering_cli.py::TestRenderWebCommand::test_render_web_nonexistent_source PASSED [ 71%]
tests/infrastructure/rendering/test_rendering_cli.py::TestMainCli::test_main_with_pdf_command PASSED [ 71%]
tests/infrastructure/rendering/test_rendering_cli.py::TestMainCli::test_main_with_all_command PASSED [ 71%]
tests/infrastructure/rendering/test_rendering_cli.py::TestMainCli::test_main_with_slides_command PASSED [ 71%]
tests/infrastructure/rendering/test_rendering_cli.py::TestMainCli::test_main_with_web_command PASSED [ 71%]
tests/infrastructure/rendering/test_rendering_cli.py::TestMainCli::test_main_without_command PASSED [ 71%]
tests/infrastructure/rendering/test_rendering_cli.py::TestMainCli::test_main_with_exception PASSED [ 71%]
tests/infrastructure/rendering/test_rendering_cli.py::TestMainCli::test_main_slides_with_format_option PASSED [ 71%]
tests/infrastructure/rendering/test_rendering_cli.py::TestCliModuleStructure::test_module_has_main_function PASSED [ 71%]
tests/infrastructure/rendering/test_rendering_cli.py::TestCliModuleStructure::test_module_has_command_functions PASSED [ 71%]
tests/infrastructure/rendering/test_rendering_cli.py::TestCliModuleStructure::test_imports_render_manager PASSED [ 71%]
tests/infrastructure/rendering/test_rendering_cli_full.py::TestRenderAllCliCore::test_module_imports PASSED [ 71%]
tests/infrastructure/rendering/test_rendering_cli_full.py::TestRenderAllCliCore::test_has_main_function PASSED [ 71%]
tests/infrastructure/rendering/test_rendering_cli_full.py::TestRenderCommands::test_render_pdf_command_exists PASSED [ 71%]
tests/infrastructure/rendering/test_rendering_cli_full.py::TestRenderCommands::test_render_html_command_exists PASSED [ 71%]
tests/infrastructure/rendering/test_rendering_cli_full.py::TestRenderCommands::test_render_all_command_exists PASSED [ 72%]
tests/infrastructure/rendering/test_rendering_cli_full.py::TestRenderCliParsing::test_parse_args_basic PASSED [ 72%]
tests/infrastructure/rendering/test_rendering_cli_full.py::TestRenderCliParsing::test_parse_args_with_output PASSED [ 72%]
tests/infrastructure/rendering/test_rendering_cli_full.py::TestSlidesRendering::test_slides_beamer_command PASSED [ 72%]
tests/infrastructure/rendering/test_rendering_cli_full.py::TestSlidesRendering::test_slides_revealjs_command PASSED [ 72%]
tests/infrastructure/rendering/test_rendering_cli_full.py::TestRenderCliMain::test_main_without_args PASSED [ 72%]
tests/infrastructure/rendering/test_rendering_cli_full.py::TestRenderCliMain::test_main_with_help PASSED [ 72%]
tests/infrastructure/rendering/test_rendering_cli_full.py::TestRenderCliIntegration::test_full_render_workflow PASSED [ 72%]
tests/infrastructure/rendering/test_slides_renderer_comprehensive.py::TestSlidesRendererModule::test_module_imports PASSED [ 72%]
tests/infrastructure/rendering/test_slides_renderer_comprehensive.py::TestSlidesRendererModule::test_module_has_functions PASSED [ 72%]
tests/infrastructure/rendering/test_slides_renderer_comprehensive.py::TestSlidesRendererClass::test_class_exists PASSED [ 72%]
tests/infrastructure/rendering/test_slides_renderer_comprehensive.py::TestSlidesRendererClass::test_renderer_init PASSED [ 72%]
tests/infrastructure/rendering/test_slides_renderer_comprehensive.py::TestBeamerSlides::test_render_beamer_exists PASSED [ 72%]
tests/infrastructure/rendering/test_slides_renderer_comprehensive.py::TestBeamerSlides::test_render_beamer PASSED [ 72%]
tests/infrastructure/rendering/test_slides_renderer_comprehensive.py::TestRevealJsSlides::test_render_revealjs_exists PASSED [ 72%]
tests/infrastructure/rendering/test_slides_renderer_comprehensive.py::TestRevealJsSlides::test_render_revealjs PASSED [ 72%]
tests/infrastructure/rendering/test_slides_renderer_comprehensive.py::TestSlidesParsing::test_parse_slide_content PASSED [ 72%]
tests/infrastructure/rendering/test_slides_renderer_comprehensive.py::TestSlidesParsing::test_extract_slide_metadata PASSED [ 72%]
tests/infrastructure/rendering/test_slides_renderer_comprehensive.py::TestSlidesRendererIntegration::test_module_structure PASSED [ 72%]
tests/infrastructure/rendering/test_slides_renderer_comprehensive.py::TestSlidesRendererIntegration::test_full_render_workflow PASSED [ 72%]
tests/infrastructure/rendering/test_slides_renderer_coverage.py::TestSlidesRendererClass::test_slides_renderer_initialization PASSED [ 72%]
tests/infrastructure/rendering/test_slides_renderer_coverage.py::TestSlidesRendererClass::test_render_with_revealjs PASSED [ 72%]
tests/infrastructure/rendering/test_slides_renderer_coverage.py::TestSlidesRendererClass::test_render_with_beamer PASSED [ 72%]
tests/infrastructure/rendering/test_slides_renderer_coverage.py::TestRevealJsRendering::test_render_revealjs PASSED [ 73%]
tests/infrastructure/rendering/test_slides_renderer_coverage.py::TestRevealJsRendering::test_render_revealjs_with_options PASSED [ 73%]
tests/infrastructure/rendering/test_slides_renderer_coverage.py::TestBeamerRendering::test_render_beamer PASSED [ 73%]
tests/infrastructure/rendering/test_slides_renderer_coverage.py::TestBeamerRendering::test_render_beamer_with_theme PASSED [ 73%]
tests/infrastructure/rendering/test_slides_renderer_coverage.py::TestFigurePathFixing::test_fix_figure_paths_basic PASSED [ 73%]
tests/infrastructure/rendering/test_slides_renderer_coverage.py::TestFigurePathFixing::test_fix_figure_paths_already_correct PASSED [ 73%]
tests/infrastructure/rendering/test_slides_renderer_coverage.py::TestFigurePathFixing::test_fix_figure_paths_multiple PASSED [ 73%]
tests/infrastructure/rendering/test_slides_renderer_coverage.py::TestSlidesRendererCore::test_module_imports PASSED [ 73%]
tests/infrastructure/rendering/test_slides_renderer_coverage.py::TestSlidesRendererCore::test_has_render_functions PASSED [ 73%]
tests/infrastructure/rendering/test_slides_renderer_coverage.py::TestSlidesParsing::test_parse_slides PASSED [ 73%]
tests/infrastructure/rendering/test_slides_renderer_coverage.py::TestSlidesParsing::test_extract_slide_metadata PASSED [ 73%]
tests/infrastructure/rendering/test_slides_renderer_coverage.py::TestSlideTemplates::test_apply_template PASSED [ 73%]
tests/infrastructure/rendering/test_slides_renderer_coverage.py::TestSlideTemplates::test_list_templates PASSED [ 73%]
tests/infrastructure/rendering/test_slides_renderer_coverage.py::TestSlidesRendererIntegration::test_full_render_workflow PASSED [ 73%]
tests/infrastructure/rendering/test_web_renderer_coverage.py::TestWebRendererCore::test_module_imports PASSED [ 73%]
tests/infrastructure/rendering/test_web_renderer_coverage.py::TestWebRendererCore::test_has_render_functions PASSED [ 73%]
tests/infrastructure/rendering/test_web_renderer_coverage.py::TestHtmlRendering::test_render_html PASSED [ 73%]
tests/infrastructure/rendering/test_web_renderer_coverage.py::TestHtmlRendering::test_render_html_with_template PASSED [ 73%]
tests/infrastructure/rendering/test_web_renderer_coverage.py::TestMathJaxIntegration::test_render_with_mathjax PASSED [ 73%]
tests/infrastructure/rendering/test_web_renderer_coverage.py::TestMathJaxIntegration::test_mathjax_config PASSED [ 73%]
tests/infrastructure/rendering/test_web_renderer_coverage.py::TestCssIntegration::test_add_stylesheet PASSED [ 73%]
tests/infrastructure/rendering/test_web_renderer_coverage.py::TestCssIntegration::test_inline_css PASSED [ 73%]
tests/infrastructure/rendering/test_web_renderer_coverage.py::TestAssetHandling::test_copy_assets PASSED [ 73%]
tests/infrastructure/rendering/test_web_renderer_coverage.py::TestAssetHandling::test_resolve_asset_paths PASSED [ 73%]
tests/infrastructure/rendering/test_web_renderer_coverage.py::TestWebRendererIntegration::test_full_render_workflow PASSED [ 74%]
tests/infrastructure/reporting/test_error_aggregator.py::test_error_aggregator_summary_and_actionable_fixes PASSED [ 74%]
tests/infrastructure/reporting/test_error_aggregator.py::test_error_aggregator_save_report_creates_json_and_markdown PASSED [ 74%]
tests/infrastructure/reporting/test_error_aggregator.py::test_error_entry_to_dict PASSED [ 74%]
tests/infrastructure/reporting/test_error_aggregator.py::test_error_aggregator_empty PASSED [ 74%]
tests/infrastructure/reporting/test_error_aggregator.py::test_error_aggregator_warning_severity PASSED [ 74%]
tests/infrastructure/reporting/test_error_aggregator.py::test_error_aggregator_get_actionable_fixes_generic PASSED [ 74%]
tests/infrastructure/reporting/test_error_aggregator.py::test_error_aggregator_get_actionable_fixes_no_suggestions PASSED [ 74%]
tests/infrastructure/reporting/test_error_aggregator.py::test_error_aggregator_multiple_same_type PASSED [ 74%]
tests/infrastructure/reporting/test_error_aggregator.py::test_get_error_aggregator_singleton PASSED [ 74%]
tests/infrastructure/reporting/test_error_aggregator.py::test_reset_error_aggregator PASSED [ 74%]
tests/infrastructure/reporting/test_error_aggregator.py::test_error_aggregator_markdown_truncation PASSED [ 74%]
tests/infrastructure/reporting/test_html_templates.py::test_get_base_html_template_has_placeholders PASSED [ 74%]
tests/infrastructure/reporting/test_html_templates.py::test_render_summary_cards_and_table PASSED [ 74%]
tests/infrastructure/reporting/test_html_templates.py::test_render_summary_cards_empty PASSED [ 74%]
tests/infrastructure/reporting/test_html_templates.py::test_render_summary_cards_single_card PASSED [ 74%]
tests/infrastructure/reporting/test_html_templates.py::test_render_table_empty_rows PASSED [ 74%]
tests/infrastructure/reporting/test_html_templates.py::test_render_table_multiple_rows PASSED [ 74%]
tests/infrastructure/reporting/test_html_templates.py::test_get_base_html_template_structure PASSED [ 74%]
tests/infrastructure/reporting/test_output_reporter.py::test_collect_output_statistics_counts_files PASSED [ 74%]
tests/infrastructure/reporting/test_output_reporter.py::test_generate_output_summary_runs_without_errors PASSED [ 74%]
tests/infrastructure/reporting/test_output_reporter.py::test_generate_output_summary_no_validation PASSED [ 74%]
tests/infrastructure/reporting/test_output_reporter.py::test_generate_output_summary_with_errors PASSED [ 74%]
tests/infrastructure/reporting/test_output_reporter.py::test_collect_output_statistics_no_output_dir PASSED [ 75%]
tests/infrastructure/reporting/test_output_reporter.py::test_collect_output_statistics_empty_directories PASSED [ 75%]
tests/infrastructure/reporting/test_output_reporter.py::test_collect_output_statistics_size_calculation PASSED [ 75%]
tests/infrastructure/reporting/test_pipeline_reporter.py::test_generate_pipeline_report_status_and_fields PASSED [ 75%]
tests/infrastructure/reporting/test_pipeline_reporter.py::test_save_pipeline_report_creates_all_formats PASSED [ 75%]
tests/infrastructure/reporting/test_pipeline_reporter.py::test_generate_reports_format_duration_and_success_rate PASSED [ 75%]
tests/infrastructure/reporting/test_pipeline_reporter.py::test_generate_markdown_report_includes_sections PASSED [ 75%]
tests/infrastructure/reporting/test_pipeline_reporter.py::test_generate_html_report_includes_test_coverage PASSED [ 75%]
tests/infrastructure/reporting/test_pipeline_reporter.py::test_generate_validation_report_and_markdown PASSED [ 75%]
tests/infrastructure/reporting/test_pipeline_reporter.py::test_generate_performance_and_test_reports PASSED [ 75%]
tests/infrastructure/reporting/test_pipeline_reporter.py::test_generate_error_summary_and_markdown_truncation PASSED [ 75%]
tests/infrastructure/reporting/test_pipeline_reporter.py::test_save_pipeline_report_respects_formats PASSED [ 75%]
tests/infrastructure/reporting/test_pipeline_reporter.py::test_generate_pipeline_report_empty_stages PASSED [ 75%]
tests/infrastructure/reporting/test_pipeline_reporter.py::test_generate_pipeline_report_missing_fields PASSED [ 75%]
tests/infrastructure/reporting/test_pipeline_reporter.py::test_generate_pipeline_report_default_formats PASSED [ 75%]
tests/infrastructure/reporting/test_pipeline_reporter.py::test_generate_markdown_report_empty_sections PASSED [ 75%]
tests/infrastructure/reporting/test_pipeline_reporter.py::test_generate_html_report_all_stages_passed PASSED [ 75%]
tests/infrastructure/reporting/test_pipeline_reporter.py::test_generate_validation_markdown_empty_checks PASSED [ 75%]
tests/infrastructure/reporting/test_pipeline_reporter.py::test_generate_error_summary_empty_errors PASSED [ 75%]
tests/infrastructure/reporting/test_pipeline_reporter.py::test_generate_error_markdown_no_errors PASSED [ 75%]
tests/infrastructure/reporting/test_pipeline_reporter.py::test_generate_error_markdown_with_suggestions PASSED [ 75%]
tests/infrastructure/reporting/test_pipeline_reporter.py::test_stage_result_dataclass_fields PASSED [ 75%]
tests/infrastructure/reporting/test_pipeline_reporter.py::test_pipeline_report_dataclass_fields PASSED [ 75%]
tests/infrastructure/reporting/test_test_reporter.py::test_parse_pytest_output_extracts_counts_and_coverage PASSED [ 76%]
tests/infrastructure/reporting/test_test_reporter.py::test_generate_test_report_combines_infra_and_project PASSED [ 76%]
tests/infrastructure/reporting/test_test_reporter.py::test_save_test_report_writes_json_and_markdown PASSED [ 76%]
tests/infrastructure/reporting/test_test_reporter.py::test_parse_pytest_output_no_coverage PASSED [ 76%]
tests/infrastructure/reporting/test_test_reporter.py::test_parse_pytest_output_warnings PASSED [ 76%]
tests/infrastructure/reporting/test_test_reporter.py::test_parse_pytest_output_deselected PASSED [ 76%]
tests/infrastructure/reporting/test_test_reporter.py::test_generate_test_report_no_coverage PASSED [ 76%]
tests/infrastructure/reporting/test_test_reporter.py::test_generate_test_report_all_passed PASSED [ 76%]
tests/infrastructure/reporting/test_test_reporter.py::test_save_test_report_no_coverage PASSED [ 76%]
tests/infrastructure/scientific/test_scientific_dev.py::TestNumericalStability::test_check_numerical_stability_stable_function PASSED [ 76%]
tests/infrastructure/scientific/test_scientific_dev.py::TestNumericalStability::test_check_numerical_stability_unstable_function PASSED [ 76%]
tests/infrastructure/scientific/test_scientific_dev.py::TestBenchmarking::test_benchmark_function_simple PASSED [ 76%]
tests/infrastructure/scientific/test_scientific_dev.py::TestBenchmarking::test_benchmark_function_with_memory PASSED [ 76%]
tests/infrastructure/scientific/test_scientific_dev.py::TestScientificDocumentation::test_generate_scientific_documentation PASSED [ 76%]
tests/infrastructure/scientific/test_scientific_dev.py::TestScientificDocumentation::test_generate_scientific_documentation_no_docstring PASSED [ 76%]
tests/infrastructure/scientific/test_scientific_dev.py::TestScientificValidation::test_validate_scientific_implementation_correct PASSED [ 76%]
tests/infrastructure/scientific/test_scientific_dev.py::TestScientificValidation::test_validate_scientific_implementation_incorrect PASSED [ 76%]
tests/infrastructure/scientific/test_scientific_dev.py::TestScientificBestPractices::test_validate_scientific_best_practices_good_module PASSED [ 76%]
tests/infrastructure/scientific/test_scientific_dev.py::TestScientificBestPractices::test_validate_scientific_best_practices_poor_module PASSED [ 76%]
tests/infrastructure/scientific/test_scientific_dev.py::TestScientificModuleTemplate::test_create_scientific_module_template PASSED [ 76%]
tests/infrastructure/scientific/test_scientific_dev.py::TestScientificWorkflowTemplate::test_create_scientific_workflow_template PASSED [ 76%]
tests/infrastructure/scientific/test_scientific_dev.py::TestAPIDocumentation::test_generate_api_documentation PASSED [ 76%]
tests/infrastructure/scientific/test_scientific_dev.py::TestResearchCompliance::test_check_research_compliance_good_function PASSED [ 76%]
tests/infrastructure/scientific/test_scientific_dev.py::TestResearchCompliance::test_check_research_compliance_poor_function PASSED [ 77%]
tests/infrastructure/scientific/test_scientific_dev.py::TestPerformanceReporting::test_generate_performance_report PASSED [ 77%]
tests/infrastructure/scientific/test_scientific_dev.py::TestEdgeCases::test_check_numerical_stability_empty_inputs PASSED [ 77%]
tests/infrastructure/scientific/test_scientific_dev.py::TestEdgeCases::test_benchmark_function_exception_handling PASSED [ 77%]
tests/infrastructure/scientific/test_scientific_dev.py::TestValidationNonNumeric::test_validate_with_string_output PASSED [ 77%]
tests/infrastructure/scientific/test_scientific_dev.py::TestValidationNonNumeric::test_validate_with_string_output_failure PASSED [ 77%]
tests/infrastructure/scientific/test_scientific_dev.py::TestValidationNonNumeric::test_validate_with_exception PASSED [ 77%]
tests/infrastructure/scientific/test_scientific_dev.py::TestPerformanceRecommendations::test_generate_performance_report_slow_functions PASSED [ 77%]
tests/infrastructure/scientific/test_scientific_dev.py::TestPerformanceRecommendations::test_generate_performance_report_memory_intensive PASSED [ 77%]
tests/infrastructure/scientific/test_scientific_dev.py::TestPerformanceRecommendations::test_generate_performance_report_both_issues PASSED [ 77%]
tests/infrastructure/scientific/test_scientific_dev.py::TestComplianceExceptionHandling::test_check_research_compliance_with_exception PASSED [ 77%]
tests/infrastructure/scientific/test_scientific_dev.py::TestComplianceExceptionHandling::test_check_research_compliance_builtin PASSED [ 77%]
tests/infrastructure/scientific/test_scientific_dev_edge_cases.py::TestScientificDevEdgeCases::test_check_numerical_stability_with_nan PASSED [ 77%]
tests/infrastructure/scientific/test_scientific_dev_edge_cases.py::TestScientificDevEdgeCases::test_benchmark_function_exception_handling PASSED [ 77%]
tests/infrastructure/scientific/test_scientific_dev_edge_cases.py::TestScientificDevEdgeCases::test_validate_scientific_implementation_with_tolerance PASSED [ 77%]
tests/infrastructure/scientific/test_scientific_dev_edge_cases.py::TestScientificDevEdgeCases::test_generate_scientific_documentation_complex_signature PASSED [ 77%]
tests/infrastructure/validation/test_check_links.py::TestFindAllMarkdownFiles::test_find_markdown_files_basic PASSED [ 77%]
tests/infrastructure/validation/test_check_links.py::TestFindAllMarkdownFiles::test_find_markdown_files_excludes_output PASSED [ 77%]
tests/infrastructure/validation/test_check_links.py::TestFindAllMarkdownFiles::test_find_markdown_files_excludes_htmlcov PASSED [ 77%]
tests/infrastructure/validation/test_check_links.py::TestFindAllMarkdownFiles::test_find_markdown_files_empty_dir PASSED [ 77%]
tests/infrastructure/validation/test_check_links.py::TestFindAllMarkdownFiles::test_find_markdown_files_nested PASSED [ 77%]
tests/infrastructure/validation/test_check_links.py::TestExtractLinks::test_extract_internal_anchor_links PASSED [ 77%]
tests/infrastructure/validation/test_check_links.py::TestExtractLinks::test_extract_external_links PASSED [ 77%]
tests/infrastructure/validation/test_check_links.py::TestExtractLinks::test_extract_file_references PASSED [ 78%]
tests/infrastructure/validation/test_check_links.py::TestExtractLinks::test_extract_links_with_line_numbers PASSED [ 78%]
tests/infrastructure/validation/test_check_links.py::TestExtractLinks::test_extract_mailto_links PASSED [ 78%]
tests/infrastructure/validation/test_check_links.py::TestExtractLinks::test_extract_no_links PASSED [ 78%]
tests/infrastructure/validation/test_check_links.py::TestCheckFileReference::test_check_existing_file PASSED [ 78%]
tests/infrastructure/validation/test_check_links.py::TestCheckFileReference::test_check_missing_file PASSED [ 78%]
tests/infrastructure/validation/test_check_links.py::TestCheckFileReference::test_check_parent_directory_reference PASSED [ 78%]
tests/infrastructure/validation/test_check_links.py::TestLinkValidation::test_validate_all_links_in_file PASSED [ 78%]
tests/infrastructure/validation/test_check_links.py::TestLinkValidation::test_validate_anchor_link PASSED [ 78%]
tests/infrastructure/validation/test_check_links.py::TestCheckLinksIntegration::test_full_link_checking_workflow PASSED [ 78%]
tests/infrastructure/validation/test_check_links.py::TestCheckLinksIntegration::test_module_has_main_function PASSED [ 78%]
tests/infrastructure/validation/test_check_links.py::TestBrokenAnchorLinks::test_detect_broken_anchor_link PASSED [ 78%]
tests/infrastructure/validation/test_check_links.py::TestBrokenAnchorLinks::test_anchor_link_found_in_headings PASSED [ 78%]
tests/infrastructure/validation/test_check_links.py::TestBrokenFileReferences::test_detect_broken_file_reference PASSED [ 78%]
tests/infrastructure/validation/test_check_links.py::TestBrokenFileReferences::test_file_reference_with_anchor PASSED [ 78%]
tests/infrastructure/validation/test_check_links.py::TestExceptionHandling::test_extract_links_handles_encoding_errors PASSED [ 78%]
tests/infrastructure/validation/test_check_links.py::TestReportingBrokenLinks::test_report_many_broken_links PASSED [ 78%]
tests/infrastructure/validation/test_check_links.py::TestReportingBrokenLinks::test_report_many_broken_file_refs PASSED [ 78%]
tests/infrastructure/validation/test_check_links.py::TestReportingBrokenLinks::test_no_broken_links_success PASSED [ 78%]
tests/infrastructure/validation/test_check_links_comprehensive.py::TestCheckLinksCore::test_module_imports PASSED [ 78%]
tests/infrastructure/validation/test_check_links_comprehensive.py::TestCheckLinksCore::test_has_link_checking_functions PASSED [ 78%]
tests/infrastructure/validation/test_check_links_comprehensive.py::TestLinkValidation::test_check_internal_link_valid PASSED [ 78%]
tests/infrastructure/validation/test_check_links_comprehensive.py::TestLinkValidation::test_check_internal_link_invalid PASSED [ 78%]
tests/infrastructure/validation/test_check_links_comprehensive.py::TestLinkValidation::test_check_external_link PASSED [ 79%]
tests/infrastructure/validation/test_check_links_comprehensive.py::TestFileReferenceValidation::test_check_file_reference_exists PASSED [ 79%]
tests/infrastructure/validation/test_check_links_comprehensive.py::TestFileReferenceValidation::test_check_file_reference_missing PASSED [ 79%]
tests/infrastructure/validation/test_check_links_comprehensive.py::TestFileReferenceValidation::test_check_image_reference PASSED [ 79%]
tests/infrastructure/validation/test_check_links_comprehensive.py::TestMarkdownLinkExtraction::test_extract_links PASSED [ 79%]
tests/infrastructure/validation/test_check_links_comprehensive.py::TestMarkdownLinkExtraction::test_extract_links_external PASSED [ 79%]
tests/infrastructure/validation/test_check_links_comprehensive.py::TestMarkdownLinkExtraction::test_extract_links_internal PASSED [ 79%]
tests/infrastructure/validation/test_check_links_comprehensive.py::TestMarkdownLinkExtraction::test_extract_links_file_ref PASSED [ 79%]
tests/infrastructure/validation/test_check_links_comprehensive.py::TestBulkLinkChecking::test_check_all_links PASSED [ 79%]
tests/infrastructure/validation/test_check_links_comprehensive.py::TestBulkLinkChecking::test_check_directory_links PASSED [ 79%]
tests/infrastructure/validation/test_check_links_comprehensive.py::TestRelativePathResolution::test_resolve_relative_path PASSED [ 79%]
tests/infrastructure/validation/test_check_links_comprehensive.py::TestRelativePathResolution::test_normalize_path PASSED [ 79%]
tests/infrastructure/validation/test_check_links_comprehensive.py::TestCheckLinksIntegration::test_full_link_check_workflow PASSED [ 79%]
tests/infrastructure/validation/test_check_links_edge_cases.py::TestCheckFileReferenceEdgeCases::test_path_outside_repository PASSED [ 79%]
tests/infrastructure/validation/test_check_links_edge_cases.py::TestCheckFileReferenceEdgeCases::test_path_with_many_parent_refs PASSED [ 79%]
tests/infrastructure/validation/test_check_links_edge_cases.py::TestCheckFileReferenceEdgeCases::test_exception_during_path_resolution PASSED [ 79%]
tests/infrastructure/validation/test_check_links_edge_cases.py::TestCheckFileReferenceEdgeCases::test_directory_reference_exists PASSED [ 79%]
tests/infrastructure/validation/test_check_links_edge_cases.py::TestCheckFileReferenceEdgeCases::test_relative_path_with_dot_prefix PASSED [ 79%]
tests/infrastructure/validation/test_check_links_edge_cases.py::TestCheckFileReferenceEdgeCases::test_markdown_file_without_extension PASSED [ 79%]
tests/infrastructure/validation/test_check_links_edge_cases.py::TestExtractHeadings::test_extract_headings_with_explicit_anchors PASSED [ 79%]
tests/infrastructure/validation/test_check_links_edge_cases.py::TestExtractHeadings::test_extract_headings_auto_generated PASSED [ 79%]
tests/infrastructure/validation/test_check_links_edge_cases.py::TestExtractHeadings::test_extract_headings_with_special_chars PASSED [ 79%]
tests/infrastructure/validation/test_check_links_edge_cases.py::TestMainFunction::test_main_with_broken_links PASSED [ 79%]
tests/infrastructure/validation/test_check_links_edge_cases.py::TestMainFunction::test_main_with_broken_file_refs PASSED [ 80%]
tests/infrastructure/validation/test_check_links_edge_cases.py::TestExtractLinks::test_extract_mailto_links PASSED [ 80%]
tests/infrastructure/validation/test_check_links_edge_cases.py::TestExtractLinks::test_extract_links_with_anchors_in_file_refs PASSED [ 80%]
tests/infrastructure/validation/test_check_links_edge_cases.py::TestExtractLinks::test_extract_http_links PASSED [ 80%]
tests/infrastructure/validation/test_check_links_edge_cases.py::TestFindAllMarkdownFiles::test_find_markdown_files_excludes_output PASSED [ 80%]
tests/infrastructure/validation/test_check_links_edge_cases.py::TestFindAllMarkdownFiles::test_find_markdown_files_excludes_htmlcov PASSED [ 80%]
tests/infrastructure/validation/test_check_links_edge_cases.py::TestMainFunctionReporting::test_main_reports_broken_anchors PASSED [ 80%]
tests/infrastructure/validation/test_check_links_edge_cases.py::TestMainFunctionReporting::test_main_reports_broken_file_refs PASSED [ 80%]
tests/infrastructure/validation/test_check_links_edge_cases.py::TestMainFunctionReporting::test_main_success_with_valid_links PASSED [ 80%]
tests/infrastructure/validation/test_check_links_full.py::TestFindAllMarkdownFiles::test_find_markdown_files PASSED [ 80%]
tests/infrastructure/validation/test_check_links_full.py::TestFindAllMarkdownFiles::test_skip_output_directory PASSED [ 80%]
tests/infrastructure/validation/test_check_links_full.py::TestFindAllMarkdownFiles::test_skip_htmlcov_directory PASSED [ 80%]
tests/infrastructure/validation/test_check_links_full.py::TestFindAllMarkdownFiles::test_empty_directory PASSED [ 80%]
tests/infrastructure/validation/test_check_links_full.py::TestExtractLinks::test_extract_external_link PASSED [ 80%]
tests/infrastructure/validation/test_check_links_full.py::TestExtractLinks::test_extract_internal_anchor PASSED [ 80%]
tests/infrastructure/validation/test_check_links_full.py::TestExtractLinks::test_extract_file_reference PASSED [ 80%]
tests/infrastructure/validation/test_check_links_full.py::TestExtractLinks::test_extract_multiple_links PASSED [ 80%]
tests/infrastructure/validation/test_check_links_full.py::TestExtractLinks::test_extract_http_link PASSED [ 80%]
tests/infrastructure/validation/test_check_links_full.py::TestExtractLinks::test_extract_mailto_link PASSED [ 80%]
tests/infrastructure/validation/test_check_links_full.py::TestExtractLinks::test_line_number_tracking PASSED [ 80%]
tests/infrastructure/validation/test_check_links_full.py::TestCheckFileReference::test_file_exists PASSED [ 80%]
tests/infrastructure/validation/test_check_links_full.py::TestCheckFileReference::test_file_not_exists PASSED [ 80%]
tests/infrastructure/validation/test_check_links_full.py::TestCheckFileReference::test_relative_path_parent PASSED [ 80%]
tests/infrastructure/validation/test_check_links_full.py::TestCheckFileReference::test_directory_reference PASSED [ 80%]
tests/infrastructure/validation/test_check_links_full.py::TestCheckFileReference::test_dotslash_path PASSED [ 81%]
tests/infrastructure/validation/test_check_links_full.py::TestExtractHeadings::test_basic_headings PASSED [ 81%]
tests/infrastructure/validation/test_check_links_full.py::TestExtractHeadings::test_explicit_anchors PASSED [ 81%]
tests/infrastructure/validation/test_check_links_full.py::TestExtractHeadings::test_special_characters PASSED [ 81%]
tests/infrastructure/validation/test_check_links_full.py::TestExtractHeadingsEdgeCases::test_empty_anchor_after_stripping PASSED [ 81%]
tests/infrastructure/validation/test_check_links_full.py::TestExtractHeadingsEdgeCases::test_heading_with_numbers_and_special_chars PASSED [ 81%]
tests/infrastructure/validation/test_check_links_full.py::TestExtractHeadingsEdgeCases::test_mixed_explicit_and_auto_anchors PASSED [ 81%]
tests/infrastructure/validation/test_check_links_full.py::TestCheckFileReferenceEdgeCases::test_markdown_file_without_extension PASSED [ 81%]
tests/infrastructure/validation/test_check_links_full.py::TestCheckFileReferenceEdgeCases::test_deeply_nested_relative_path PASSED [ 81%]
tests/infrastructure/validation/test_check_links_full.py::TestCheckFileReferenceEdgeCases::test_path_resolution_error PASSED [ 81%]
tests/infrastructure/validation/test_check_links_full.py::TestMainFunction::test_main_exists PASSED [ 81%]
tests/infrastructure/validation/test_check_links_full.py::TestMainFunction::test_main_returns_exit_code PASSED [ 81%]
tests/infrastructure/validation/test_check_links_full.py::TestLinkValidationWorkflows::test_detect_broken_anchor_link PASSED [ 81%]
tests/infrastructure/validation/test_check_links_full.py::TestLinkValidationWorkflows::test_detect_broken_file_reference PASSED [ 81%]
tests/infrastructure/validation/test_check_links_full.py::TestLinkValidationWorkflows::test_file_reference_with_anchor PASSED [ 81%]
tests/infrastructure/validation/test_check_links_full.py::TestLinkValidationWorkflows::test_valid_internal_anchor PASSED [ 81%]
tests/infrastructure/validation/test_check_links_full.py::TestLinkValidationWorkflows::test_many_broken_references_workflow PASSED [ 81%]
tests/infrastructure/validation/test_check_links_full.py::TestLinkValidationWorkflows::test_many_broken_anchor_links PASSED [ 81%]
tests/infrastructure/validation/test_check_links_full.py::TestCompleteValidationPaths::test_all_links_valid_workflow PASSED [ 81%]
tests/infrastructure/validation/test_check_links_full.py::TestCompleteValidationPaths::test_external_links_extracted_correctly PASSED [ 81%]
tests/infrastructure/validation/test_check_links_full.py::TestCheckLinksIntegration::test_full_workflow PASSED [ 81%]
tests/infrastructure/validation/test_cli.py::TestValidatePdfCommand::test_pdf_not_found_exits PASSED [ 81%]
tests/infrastructure/validation/test_cli.py::TestValidatePdfCommand::test_pdf_validation_non_verbose PASSED [ 81%]
tests/infrastructure/validation/test_cli.py::TestValidateMarkdownCommand::test_markdown_dir_not_found_exits PASSED [ 82%]
tests/infrastructure/validation/test_cli.py::TestValidateMarkdownCommand::test_valid_markdown_dir PASSED [ 82%]
tests/infrastructure/validation/test_cli.py::TestVerifyIntegrityCommand::test_output_dir_not_found_exits PASSED [ 82%]
tests/infrastructure/validation/test_cli.py::TestVerifyIntegrityCommand::test_valid_output_dir_non_verbose PASSED [ 82%]
tests/infrastructure/validation/test_cli.py::TestVerifyIntegrityCommand::test_valid_output_dir_verbose PASSED [ 82%]
tests/infrastructure/validation/test_cli.py::TestCLIMain::test_no_command_prints_help PASSED [ 82%]
tests/infrastructure/validation/test_cli.py::TestValidationCLI::test_cli_module_exists PASSED [ 82%]
tests/infrastructure/validation/test_cli.py::TestValidationCLI::test_validate_command_available PASSED [ 82%]
tests/infrastructure/validation/test_cli.py::TestValidationCLI::test_markdown_validation_option PASSED [ 82%]
tests/infrastructure/validation/test_cli.py::TestValidationCLI::test_pdf_validation_option PASSED [ 82%]
tests/infrastructure/validation/test_cli.py::TestValidationCLI::test_links_validation_option PASSED [ 82%]
tests/infrastructure/validation/test_cli.py::TestValidationCLI::test_integrity_check_option PASSED [ 82%]
tests/infrastructure/validation/test_cli.py::TestValidationCLI::test_cli_help_output PASSED [ 82%]
tests/infrastructure/validation/test_cli.py::TestValidationCLI::test_cli_error_handling PASSED [ 82%]
tests/infrastructure/validation/test_cli.py::TestValidationCLI::test_cli_report_generation PASSED [ 82%]
tests/infrastructure/validation/test_cli.py::TestValidationCLI::test_strict_mode_option PASSED [ 82%]
tests/infrastructure/validation/test_doc_scanner.py::TestDataClasses::test_documentation_file_creation PASSED [ 82%]
tests/infrastructure/validation/test_doc_scanner.py::TestDataClasses::test_link_issue_creation PASSED [ 82%]
tests/infrastructure/validation/test_doc_scanner.py::TestDataClasses::test_accuracy_issue_creation PASSED [ 82%]
tests/infrastructure/validation/test_doc_scanner.py::TestDataClasses::test_completeness_gap_creation PASSED [ 82%]
tests/infrastructure/validation/test_doc_scanner.py::TestDataClasses::test_quality_issue_creation PASSED [ 82%]
tests/infrastructure/validation/test_doc_scanner.py::TestDataClasses::test_scan_results_creation PASSED [ 82%]
tests/infrastructure/validation/test_doc_scanner.py::TestDocumentationScanner::test_scanner_initialization PASSED [ 82%]
tests/infrastructure/validation/test_doc_scanner.py::TestDocumentationScanner::test_find_markdown_files PASSED [ 83%]
tests/infrastructure/validation/test_doc_scanner.py::TestDocumentationScanner::test_catalog_agents_readme PASSED [ 83%]
tests/infrastructure/validation/test_doc_scanner.py::TestDocumentationScanner::test_find_config_files PASSED [ 83%]
tests/infrastructure/validation/test_doc_scanner.py::TestDocumentationScanner::test_find_script_files PASSED [ 83%]
tests/infrastructure/validation/test_doc_scanner.py::TestDocumentationScanner::test_analyze_documentation_file PASSED [ 83%]
tests/infrastructure/validation/test_doc_scanner.py::TestDocumentationScanner::test_phase1_discovery PASSED [ 83%]
tests/infrastructure/validation/test_doc_scanner.py::TestDocumentationScanner::test_phase2_accuracy PASSED [ 83%]
tests/infrastructure/validation/test_doc_scanner.py::TestDocumentationScanner::test_phase3_completeness PASSED [ 83%]
tests/infrastructure/validation/test_doc_scanner.py::TestDocumentationScanner::test_phase4_quality PASSED [ 83%]
tests/infrastructure/validation/test_doc_scanner.py::TestDocumentationScanner::test_phase5_improvements PASSED [ 83%]
tests/infrastructure/validation/test_doc_scanner.py::TestDocumentationScanner::test_phase6_verification PASSED [ 83%]
tests/infrastructure/validation/test_doc_scanner.py::TestScannerVerificationMethods::test_run_link_checker_no_script PASSED [ 83%]
tests/infrastructure/validation/test_doc_scanner.py::TestScannerVerificationMethods::test_validate_markdown_syntax PASSED [ 83%]
tests/infrastructure/validation/test_doc_scanner.py::TestScannerVerificationMethods::test_test_documented_commands PASSED [ 83%]
tests/infrastructure/validation/test_doc_scanner.py::TestScannerVerificationMethods::test_verify_cross_references PASSED [ 83%]
tests/infrastructure/validation/test_doc_scanner.py::TestScannerVerificationMethods::test_check_circular_references PASSED [ 83%]
tests/infrastructure/validation/test_doc_scanner.py::TestReportGeneration::test_generate_report_empty_results PASSED [ 83%]
tests/infrastructure/validation/test_doc_scanner.py::TestReportGeneration::test_generate_report_with_files PASSED [ 83%]
tests/infrastructure/validation/test_doc_scanner.py::TestReportGeneration::test_generate_report_with_issues PASSED [ 83%]
tests/infrastructure/validation/test_doc_scanner.py::TestReportGeneration::test_generate_report_with_improvements PASSED [ 83%]
tests/infrastructure/validation/test_doc_scanner.py::TestReportGeneration::test_generate_report_with_statistics PASSED [ 83%]
tests/infrastructure/validation/test_doc_scanner.py::TestScannerFullScan::test_full_scan PASSED [ 83%]
tests/infrastructure/validation/test_doc_scanner.py::TestScannerFullScan::test_scan_with_broken_links PASSED [ 83%]
tests/infrastructure/validation/test_doc_scanner.py::TestDocScannerModule::test_doc_scanner_module_exists PASSED [ 84%]
tests/infrastructure/validation/test_doc_scanner.py::TestDocScannerModule::test_main_function_exists PASSED [ 84%]
tests/infrastructure/validation/test_doc_scanner_coverage.py::TestDocScannerCore::test_module_imports PASSED [ 84%]
tests/infrastructure/validation/test_doc_scanner_coverage.py::TestDocScannerCore::test_has_scanner_functionality PASSED [ 84%]
tests/infrastructure/validation/test_doc_scanner_coverage.py::TestDocumentScanning::test_scan_directory PASSED [ 84%]
tests/infrastructure/validation/test_doc_scanner_coverage.py::TestDocumentScanning::test_scan_empty_directory PASSED [ 84%]
tests/infrastructure/validation/test_doc_scanner_coverage.py::TestDocScannerValidation::test_validate_structure PASSED [ 84%]
tests/infrastructure/validation/test_doc_scanner_coverage.py::TestDocScannerValidation::test_check_completeness PASSED [ 84%]
tests/infrastructure/validation/test_doc_scanner_coverage.py::TestDocScannerIntegration::test_full_scan_workflow PASSED [ 84%]
tests/infrastructure/validation/test_doc_scanner_full.py::TestDataClasses::test_documentation_file PASSED [ 84%]
tests/infrastructure/validation/test_doc_scanner_full.py::TestDataClasses::test_link_issue PASSED [ 84%]
tests/infrastructure/validation/test_doc_scanner_full.py::TestDataClasses::test_accuracy_issue PASSED [ 84%]
tests/infrastructure/validation/test_doc_scanner_full.py::TestDataClasses::test_completeness_gap PASSED [ 84%]
tests/infrastructure/validation/test_doc_scanner_full.py::TestDataClasses::test_quality_issue PASSED [ 84%]
tests/infrastructure/validation/test_doc_scanner_full.py::TestDataClasses::test_scan_results PASSED [ 84%]
tests/infrastructure/validation/test_doc_scanner_full.py::TestDocumentationScanner::test_init PASSED [ 84%]
tests/infrastructure/validation/test_doc_scanner_full.py::TestDocumentationScanner::test_find_markdown_files PASSED [ 84%]
tests/infrastructure/validation/test_doc_scanner_full.py::TestDocumentationScanner::test_catalog_agents_readme PASSED [ 84%]
tests/infrastructure/validation/test_doc_scanner_full.py::TestDocumentationScanner::test_find_config_files PASSED [ 84%]
tests/infrastructure/validation/test_doc_scanner_full.py::TestDocumentationScanner::test_find_script_files PASSED [ 84%]
tests/infrastructure/validation/test_doc_scanner_full.py::TestDocumentationScanner::test_analyze_documentation_file PASSED [ 84%]
tests/infrastructure/validation/test_doc_scanner_full.py::TestScannerPhases::test_phase1_discovery PASSED [ 84%]
tests/infrastructure/validation/test_doc_scanner_full.py::TestScannerPhases::test_phase2_accuracy PASSED [ 84%]
tests/infrastructure/validation/test_doc_scanner_full.py::TestScannerPhases::test_phase3_completeness PASSED [ 85%]
tests/infrastructure/validation/test_doc_scanner_full.py::TestScannerPhases::test_phase4_quality PASSED [ 85%]
tests/infrastructure/validation/test_doc_scanner_full.py::TestScannerPrivateMethods::test_find_markdown_files PASSED [ 85%]
tests/infrastructure/validation/test_doc_scanner_full.py::TestScannerPrivateMethods::test_catalog_agents_readme PASSED [ 85%]
tests/infrastructure/validation/test_doc_scanner_full.py::TestScannerPrivateMethods::test_find_config_files PASSED [ 85%]
tests/infrastructure/validation/test_doc_scanner_full.py::TestScannerPrivateMethods::test_extract_headings PASSED [ 85%]
tests/infrastructure/validation/test_doc_scanner_full.py::TestScannerPrivateMethods::test_analyze_documentation_file PASSED [ 85%]
tests/infrastructure/validation/test_doc_scanner_full.py::TestScannerIntegration::test_full_scan_workflow PASSED [ 85%]
tests/infrastructure/validation/test_doc_scanner_full.py::TestScannerIntegration::test_scanner_with_issues PASSED [ 85%]
tests/infrastructure/validation/test_doc_scanner_phases.py::TestDocScannerPhase5::test_phase5_improvements PASSED [ 85%]
tests/infrastructure/validation/test_doc_scanner_phases.py::TestDocScannerHelpers::test_group_gaps_by_category PASSED [ 85%]
tests/infrastructure/validation/test_doc_scanner_phases.py::TestDocScannerHelpers::test_group_gaps_by_severity PASSED [ 85%]
tests/infrastructure/validation/test_doc_scanner_phases.py::TestDocScannerHelpers::test_create_hierarchy PASSED [ 85%]
tests/infrastructure/validation/test_doc_scanner_phases.py::TestDocScannerLinkChecks::test_check_links PASSED [ 85%]
tests/infrastructure/validation/test_doc_scanner_phases.py::TestDocScannerLinkChecks::test_verify_commands PASSED [ 85%]
tests/infrastructure/validation/test_doc_scanner_phases.py::TestDocScannerLinkChecks::test_check_file_paths PASSED [ 85%]
tests/infrastructure/validation/test_doc_scanner_phases.py::TestDocScannerQuality::test_assess_clarity PASSED [ 85%]
tests/infrastructure/validation/test_doc_scanner_phases.py::TestDocScannerQuality::test_assess_actionability PASSED [ 85%]
tests/infrastructure/validation/test_doc_scanner_phases.py::TestDocScannerQuality::test_check_formatting PASSED [ 85%]
tests/infrastructure/validation/test_doc_scanner_phases.py::TestDocScannerCompleteness::test_check_feature_documentation PASSED [ 85%]
tests/infrastructure/validation/test_doc_scanner_phases.py::TestDocScannerCompleteness::test_check_script_documentation PASSED [ 85%]
tests/infrastructure/validation/test_doc_scanner_phases.py::TestDocScannerCompleteness::test_check_troubleshooting PASSED [ 85%]
tests/infrastructure/validation/test_doc_scanner_phases.py::TestDocScannerStatistics::test_statistics_populated PASSED [ 85%]
tests/infrastructure/validation/test_figure_validator.py::TestValidateFigureRegistry::test_validate_all_references_registered PASSED [ 86%]
tests/infrastructure/validation/test_figure_validator.py::TestValidateFigureRegistry::test_validate_unregistered_references PASSED [ 86%]
tests/infrastructure/validation/test_figure_validator.py::TestValidateFigureRegistry::test_validate_registry_not_found PASSED [ 86%]
tests/infrastructure/validation/test_figure_validator.py::TestValidateFigureRegistry::test_validate_invalid_registry_json PASSED [ 86%]
tests/infrastructure/validation/test_figure_validator.py::TestValidateFigureRegistry::test_validate_skips_documentation_files PASSED [ 86%]
tests/infrastructure/validation/test_figure_validator.py::TestValidateFigureRegistry::test_validate_multiple_markdown_files PASSED [ 86%]
tests/infrastructure/validation/test_figure_validator.py::TestValidateFigureRegistry::test_validate_ref_and_label_patterns PASSED [ 86%]
tests/infrastructure/validation/test_figure_validator.py::TestValidateFigureRegistry::test_validate_handles_file_read_errors PASSED [ 86%]
tests/infrastructure/validation/test_figure_validator.py::TestValidateFigureRegistry::test_validate_empty_manuscript_directory PASSED [ 86%]
tests/infrastructure/validation/test_figure_validator.py::TestValidateFigureRegistry::test_validate_nonexistent_manuscript_directory PASSED [ 86%]
tests/infrastructure/validation/test_figure_validator.py::TestValidateFigureRegistry::test_validate_multiple_unregistered_references PASSED [ 86%]
tests/infrastructure/validation/test_integrity.py::TestFileIntegrity::test_verify_file_integrity_existing_file PASSED [ 86%]
tests/infrastructure/validation/test_integrity.py::TestFileIntegrity::test_verify_file_integrity_nonexistent_file PASSED [ 86%]
tests/infrastructure/validation/test_integrity.py::TestFileIntegrity::test_verify_file_integrity_with_expected_hashes PASSED [ 86%]
tests/infrastructure/validation/test_integrity.py::TestHashCalculation::test_calculate_file_hash_existing_file PASSED [ 86%]
tests/infrastructure/validation/test_integrity.py::TestHashCalculation::test_calculate_file_hash_nonexistent_file PASSED [ 86%]
tests/infrastructure/validation/test_integrity.py::TestHashCalculation::test_calculate_file_hash_deterministic PASSED [ 86%]
tests/infrastructure/validation/test_integrity.py::TestCrossReferenceVerification::test_verify_cross_references_complete_document PASSED [ 86%]
tests/infrastructure/validation/test_integrity.py::TestCrossReferenceVerification::test_verify_cross_references_missing_labels PASSED [ 86%]
tests/infrastructure/validation/test_integrity.py::TestDataConsistency::test_verify_data_consistency_valid_json PASSED [ 86%]
tests/infrastructure/validation/test_integrity.py::TestDataConsistency::test_verify_data_consistency_invalid_json PASSED [ 86%]
tests/infrastructure/validation/test_integrity.py::TestDataConsistency::test_verify_data_consistency_csv PASSED [ 86%]
tests/infrastructure/validation/test_integrity.py::TestAcademicStandards::test_verify_academic_standards_complete PASSED [ 86%]
tests/infrastructure/validation/test_integrity.py::TestAcademicStandards::test_verify_academic_standards_minimal PASSED [ 86%]
tests/infrastructure/validation/test_integrity.py::TestIntegrityReport::test_verify_output_integrity_existing_directory PASSED [ 87%]
tests/infrastructure/validation/test_integrity.py::TestIntegrityReport::test_verify_output_integrity_nonexistent_directory PASSED [ 87%]
tests/infrastructure/validation/test_integrity.py::TestBuildArtifacts::test_validate_build_artifacts_complete PASSED [ 87%]
tests/infrastructure/validation/test_integrity.py::TestBuildArtifacts::test_validate_build_artifacts_empty PASSED [ 87%]
tests/infrastructure/validation/test_integrity.py::TestFilePermissions::test_check_file_permissions_readable_directory PASSED [ 87%]
tests/infrastructure/validation/test_integrity.py::TestFilePermissions::test_check_file_permissions_nonexistent_directory PASSED [ 87%]
tests/infrastructure/validation/test_integrity.py::TestOutputCompleteness::test_verify_output_completeness_complete PASSED [ 87%]
tests/infrastructure/validation/test_integrity.py::TestOutputCompleteness::test_verify_output_completeness_incomplete PASSED [ 87%]
tests/infrastructure/validation/test_integrity.py::TestIntegrityManifest::test_create_integrity_manifest_empty_dir PASSED [ 87%]
tests/infrastructure/validation/test_integrity.py::TestIntegrityManifest::test_create_integrity_manifest_with_files PASSED [ 87%]
tests/infrastructure/validation/test_integrity.py::TestIntegrityManifest::test_save_and_load_integrity_manifest PASSED [ 87%]
tests/infrastructure/validation/test_integrity.py::TestIntegrityManifest::test_load_integrity_manifest_nonexistent PASSED [ 87%]
tests/infrastructure/validation/test_integrity.py::TestIntegrityVerification::test_verify_integrity_against_manifest_identical PASSED [ 87%]
tests/infrastructure/validation/test_integrity.py::TestIntegrityVerification::test_verify_integrity_against_manifest_modified_file PASSED [ 87%]
tests/infrastructure/validation/test_integrity.py::TestReportGeneration::test_generate_integrity_report_complete PASSED [ 87%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_file_integrity_empty_list PASSED [ 87%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_cross_references_empty_list PASSED [ 87%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_data_consistency_empty_list PASSED [ 87%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_file_integrity_exception PASSED [ 87%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_calculate_file_hash_exception PASSED [ 87%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_cross_references_exception PASSED [ 87%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_data_consistency_missing_file PASSED [ 87%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_data_consistency_invalid_csv PASSED [ 87%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_data_consistency_numpy_file PASSED [ 88%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_data_consistency_pickle_file PASSED [ 88%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_data_consistency_exception PASSED [ 88%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_academic_standards_exception PASSED [ 88%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_output_integrity_with_issues PASSED [ 88%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_output_integrity_cross_ref_failures PASSED [ 88%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_output_integrity_data_failures PASSED [ 88%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_output_integrity_missing_standards PASSED [ 88%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_output_integrity_recommendations PASSED [ 88%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_generate_integrity_report_with_warnings PASSED [ 88%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_generate_integrity_report_with_recommendations PASSED [ 88%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_output_permissions_exception PASSED [ 88%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_output_permissions_read_fail PASSED [ 88%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_output_completeness_missing_pdf PASSED [ 88%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_output_completeness_empty_pdf PASSED [ 88%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_output_completeness_missing_figures_dir PASSED [ 88%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_output_completeness_missing_figure PASSED [ 88%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_output_completeness_small_figure PASSED [ 88%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_output_completeness_missing_data_dir PASSED [ 88%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_output_completeness_missing_data_file PASSED [ 88%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_output_completeness_empty_data_file PASSED [ 88%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_output_completeness_missing_tex_dir PASSED [ 88%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_output_completeness_missing_html PASSED [ 88%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_load_integrity_manifest_invalid_json PASSED [ 89%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_output_completeness_missing_tex_file PASSED [ 89%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_output_completeness_empty_tex_file PASSED [ 89%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_output_completeness_empty_html PASSED [ 89%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_create_integrity_manifest_with_subdirectories PASSED [ 89%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_integrity_against_manifest_added_file PASSED [ 89%]
tests/infrastructure/validation/test_integrity.py::TestEdgeCases::test_verify_integrity_against_manifest_removed_file PASSED [ 89%]
tests/infrastructure/validation/test_integrity_edge_cases.py::TestIntegrityEdgeCases::test_verify_file_integrity_with_mismatched_hash PASSED [ 89%]
tests/infrastructure/validation/test_integrity_edge_cases.py::TestIntegrityEdgeCases::test_verify_cross_references_missing_figure_labels PASSED [ 89%]
tests/infrastructure/validation/test_integrity_edge_cases.py::TestIntegrityEdgeCases::test_check_file_permissions_nonexistent PASSED [ 89%]
tests/infrastructure/validation/test_integrity_edge_cases.py::TestIntegrityEdgeCases::test_validate_build_artifacts_missing_category PASSED [ 89%]
tests/infrastructure/validation/test_markdown_validator.py::TestFindMarkdownFiles::test_finds_and_sorts_markdown_files PASSED [ 89%]
tests/infrastructure/validation/test_markdown_validator.py::TestFindMarkdownFiles::test_nonexistent_directory_raises PASSED [ 89%]
tests/infrastructure/validation/test_markdown_validator.py::TestFindMarkdownFiles::test_file_instead_of_directory_raises PASSED [ 89%]
tests/infrastructure/validation/test_markdown_validator.py::TestFindMarkdownFiles::test_empty_directory PASSED [ 89%]
tests/infrastructure/validation/test_markdown_validator.py::TestCollectSymbols::test_extracts_labels_and_anchors PASSED [ 89%]
tests/infrastructure/validation/test_markdown_validator.py::TestCollectSymbols::test_empty_file_list PASSED [ 89%]
tests/infrastructure/validation/test_markdown_validator.py::TestValidateImages::test_detects_missing_image PASSED [ 89%]
tests/infrastructure/validation/test_markdown_validator.py::TestValidateImages::test_validates_existing_image PASSED [ 89%]
tests/infrastructure/validation/test_markdown_validator.py::TestValidateImages::test_absolute_path PASSED [ 89%]
tests/infrastructure/validation/test_markdown_validator.py::TestValidateImages::test_relative_path_not_absolute_after_normpath PASSED [ 89%]
tests/infrastructure/validation/test_markdown_validator.py::TestValidateImages::test_relative_path_exists_after_repo_root_join PASSED [ 89%]
tests/infrastructure/validation/test_markdown_validator.py::TestValidateRefs::test_detects_missing_equation_label PASSED [ 89%]
tests/infrastructure/validation/test_markdown_validator.py::TestValidateRefs::test_detects_missing_anchor PASSED [ 90%]
tests/infrastructure/validation/test_markdown_validator.py::TestValidateRefs::test_detects_bare_url PASSED [ 90%]
tests/infrastructure/validation/test_markdown_validator.py::TestValidateRefs::test_detects_non_informative_link PASSED [ 90%]
tests/infrastructure/validation/test_markdown_validator.py::TestValidateMath::test_detects_dollar_math PASSED [ 90%]
tests/infrastructure/validation/test_markdown_validator.py::TestValidateMath::test_detects_bracket_math PASSED [ 90%]
tests/infrastructure/validation/test_markdown_validator.py::TestValidateMath::test_detects_missing_label PASSED [ 90%]
tests/infrastructure/validation/test_markdown_validator.py::TestValidateMath::test_detects_duplicate_label PASSED [ 90%]
tests/infrastructure/validation/test_markdown_validator.py::TestValidateMath::test_accepts_valid_equations PASSED [ 90%]
tests/infrastructure/validation/test_markdown_validator.py::TestValidateMarkdown::test_no_problems_returns_zero PASSED [ 90%]
tests/infrastructure/validation/test_markdown_validator.py::TestValidateMarkdown::test_problems_non_strict_returns_zero PASSED [ 90%]
tests/infrastructure/validation/test_markdown_validator.py::TestValidateMarkdown::test_problems_strict_returns_one PASSED [ 90%]
tests/infrastructure/validation/test_markdown_validator.py::TestValidateMarkdown::test_nonexistent_directory_raises PASSED [ 90%]
tests/infrastructure/validation/test_markdown_validator.py::TestValidateMarkdown::test_empty_directory_returns_zero PASSED [ 90%]
tests/infrastructure/validation/test_markdown_validator.py::TestFindManuscriptDirectory::test_finds_project_manuscript PASSED [ 90%]
tests/infrastructure/validation/test_markdown_validator.py::TestFindManuscriptDirectory::test_raises_when_not_found PASSED [ 90%]
tests/infrastructure/validation/test_markdown_validator.py::TestIntegration::test_full_validation_flow PASSED [ 90%]
tests/infrastructure/validation/test_markdown_validator.py::TestIntegration::test_multiple_problems_detected PASSED [ 90%]
tests/infrastructure/validation/test_output_validator.py::TestValidateCopiedOutputs::test_validate_pdf_at_root PASSED [ 90%]
tests/infrastructure/validation/test_output_validator.py::TestValidateCopiedOutputs::test_validate_pdf_in_pdf_directory PASSED [ 90%]
tests/infrastructure/validation/test_output_validator.py::TestValidateCopiedOutputs::test_validate_missing_pdf PASSED [ 90%]
tests/infrastructure/validation/test_output_validator.py::TestValidateCopiedOutputs::test_validate_empty_pdf PASSED [ 90%]
tests/infrastructure/validation/test_output_validator.py::TestValidateCopiedOutputs::test_validate_complete_structure PASSED [ 90%]
tests/infrastructure/validation/test_output_validator.py::TestValidateCopiedOutputs::test_validate_optional_directories PASSED [ 90%]
tests/infrastructure/validation/test_output_validator.py::TestValidateCopiedOutputs::test_validate_empty_subdirectories PASSED [ 91%]
tests/infrastructure/validation/test_output_validator.py::TestValidateOutputStructure::test_validate_complete_structure PASSED [ 91%]
tests/infrastructure/validation/test_output_validator.py::TestValidateOutputStructure::test_validate_missing_directory PASSED [ 91%]
tests/infrastructure/validation/test_output_validator.py::TestValidateOutputStructure::test_validate_missing_pdf PASSED [ 91%]
tests/infrastructure/validation/test_output_validator.py::TestValidateOutputStructure::test_validate_small_pdf PASSED [ 91%]
tests/infrastructure/validation/test_output_validator.py::TestValidateOutputStructure::test_validate_empty_subdirectories PASSED [ 91%]
tests/infrastructure/validation/test_output_validator.py::TestValidateOutputStructure::test_validate_optional_directories PASSED [ 91%]
tests/infrastructure/validation/test_output_validator.py::TestValidateOutputStructure::test_validate_directory_structure_metadata PASSED [ 91%]
tests/infrastructure/validation/test_output_validator.py::TestValidateOutputStructure::test_validate_multiple_issues PASSED [ 91%]
tests/infrastructure/validation/test_output_validator.py::TestValidateOutputStructure::test_validate_readable_files PASSED [ 91%]
tests/infrastructure/validation/test_pdf_validator.py::test_extract_text_from_pdf_exists PASSED [ 91%]
tests/infrastructure/validation/test_pdf_validator.py::test_extract_text_from_pdf_nonexistent PASSED [ 91%]
tests/infrastructure/validation/test_pdf_validator.py::test_extract_text_from_pdf_invalid_file PASSED [ 91%]
tests/infrastructure/validation/test_pdf_validator.py::test_scan_for_issues_finds_double_question_marks PASSED [ 91%]
tests/infrastructure/validation/test_pdf_validator.py::test_scan_for_issues_clean_pdf PASSED [ 91%]
tests/infrastructure/validation/test_pdf_validator.py::test_scan_for_issues_detects_multiple_patterns PASSED [ 91%]
tests/infrastructure/validation/test_pdf_validator.py::test_extract_first_n_words_basic PASSED [ 91%]
tests/infrastructure/validation/test_pdf_validator.py::test_extract_first_n_words_with_whitespace PASSED [ 91%]
tests/infrastructure/validation/test_pdf_validator.py::test_extract_first_n_words_less_than_requested PASSED [ 91%]
tests/infrastructure/validation/test_pdf_validator.py::test_extract_first_n_words_empty_text PASSED [ 91%]
tests/infrastructure/validation/test_pdf_validator.py::test_decode_pdf_hex_strings_empty_text PASSED [ 91%]
tests/infrastructure/validation/test_pdf_validator.py::test_decode_pdf_hex_strings_valid PASSED [ 91%]
tests/infrastructure/validation/test_pdf_validator.py::test_decode_pdf_hex_strings_invalid_hex PASSED [ 91%]
tests/infrastructure/validation/test_pdf_validator.py::test_decode_hex_match_exception_path PASSED [ 92%]
tests/infrastructure/validation/test_pdf_validator.py::test_extract_first_n_words_with_punctuation PASSED [ 92%]
tests/infrastructure/validation/test_pdf_validator.py::test_validate_pdf_rendering_with_issues PASSED [ 92%]
tests/infrastructure/validation/test_pdf_validator.py::test_validate_pdf_rendering_clean PASSED [ 92%]
tests/infrastructure/validation/test_pdf_validator.py::test_validate_pdf_rendering_custom_word_count PASSED [ 92%]
tests/infrastructure/validation/test_pdf_validator.py::test_validate_pdf_rendering_nonexistent_file PASSED [ 92%]
tests/infrastructure/validation/test_pdf_validator.py::test_scan_for_issues_structure PASSED [ 92%]
tests/infrastructure/validation/test_pdf_validator.py::test_validate_pdf_rendering_report_structure PASSED [ 92%]
tests/infrastructure/validation/test_pdf_validator.py::test_extract_first_n_words_deterministic PASSED [ 92%]
tests/infrastructure/validation/test_pdf_validator.py::test_scan_for_issues_case_sensitive PASSED [ 92%]
tests/infrastructure/validation/test_pdf_validator.py::test_scan_for_issues_ignores_scientific_error_terms PASSED [ 92%]
tests/infrastructure/validation/test_pdf_validator.py::test_scan_for_issues_detects_real_errors PASSED [ 92%]
tests/infrastructure/validation/test_repo_scanner.py::TestDataClasses::test_accuracy_issue_creation PASSED [ 92%]
tests/infrastructure/validation/test_repo_scanner.py::TestDataClasses::test_completeness_gap_creation PASSED [ 92%]
tests/infrastructure/validation/test_repo_scanner.py::TestDataClasses::test_scan_results_creation PASSED [ 92%]
tests/infrastructure/validation/test_repo_scanner.py::TestRepositoryScanner::test_scanner_initialization PASSED [ 92%]
tests/infrastructure/validation/test_repo_scanner.py::TestRepositoryScanner::test_discover_structure PASSED [ 92%]
tests/infrastructure/validation/test_repo_scanner.py::TestCodeAccuracyChecking::test_check_code_accuracy_basic PASSED [ 92%]
tests/infrastructure/validation/test_repo_scanner.py::TestCodeAccuracyChecking::test_check_code_accuracy_with_scripts PASSED [ 92%]
tests/infrastructure/validation/test_repo_scanner.py::TestCodeAccuracyChecking::test_check_code_accuracy_exception_handling PASSED [ 92%]
tests/infrastructure/validation/test_repo_scanner.py::TestReportGeneration::test_generate_report_empty PASSED [ 92%]
tests/infrastructure/validation/test_repo_scanner.py::TestReportGeneration::test_generate_report_with_accuracy_issues PASSED [ 92%]
tests/infrastructure/validation/test_repo_scanner.py::TestReportGeneration::test_generate_report_with_completeness_gaps PASSED [ 92%]
tests/infrastructure/validation/test_repo_scanner.py::TestReportGeneration::test_generate_report_with_many_issues PASSED [ 93%]
tests/infrastructure/validation/test_repo_scanner.py::TestReportGeneration::test_generate_report_issue_with_line PASSED [ 93%]
tests/infrastructure/validation/test_repo_scanner.py::TestReportGeneration::test_generate_report_issue_without_line PASSED [ 93%]
tests/infrastructure/validation/test_repo_scanner.py::TestReportGeneration::test_generate_report_issue_with_details PASSED [ 93%]
tests/infrastructure/validation/test_repo_scanner.py::TestReportGeneration::test_generate_report_recommendations PASSED [ 93%]
tests/infrastructure/validation/test_repo_scanner.py::TestScanAll::test_scan_all PASSED [ 93%]
tests/infrastructure/validation/test_repo_scanner.py::TestRepoScannerModule::test_repo_scanner_module_exists PASSED [ 93%]
tests/infrastructure/validation/test_repo_scanner.py::TestRepoScannerModule::test_main_function_exists PASSED [ 93%]
tests/infrastructure/validation/test_repo_scanner_additional.py::TestRepoScannerAdditional::test_find_documented_modules_multiple_docs PASSED [ 93%]
tests/infrastructure/validation/test_repo_scanner_additional.py::TestRepoScannerAdditional::test_check_code_accuracy_no_scripts PASSED [ 93%]
tests/infrastructure/validation/test_repo_scanner_additional.py::TestRepoScannerAdditional::test_thin_orchestrator_empty_script PASSED [ 93%]
tests/infrastructure/validation/test_repo_scanner_additional.py::TestRepoScannerAdditional::test_discover_repo_utilities PASSED [ 93%]
tests/infrastructure/validation/test_repo_scanner_additional.py::TestRepoScannerStatistics::test_statistics_after_scan PASSED [ 93%]
tests/infrastructure/validation/test_repo_scanner_comprehensive.py::TestRepositoryScannerMethods::test_extract_imports PASSED [ 93%]
tests/infrastructure/validation/test_repo_scanner_comprehensive.py::TestRepositoryScannerMethods::test_extract_imports_empty_file PASSED [ 93%]
tests/infrastructure/validation/test_repo_scanner_comprehensive.py::TestRepositoryScannerMethods::test_extract_imports_syntax_error PASSED [ 93%]
tests/infrastructure/validation/test_repo_scanner_comprehensive.py::TestRepositoryScannerCheckCode::test_check_code_accuracy_with_imports PASSED [ 93%]
tests/infrastructure/validation/test_repo_scanner_comprehensive.py::TestRepositoryScannerCompleteness::test_check_completeness_all_documented PASSED [ 93%]
tests/infrastructure/validation/test_repo_scanner_comprehensive.py::TestRepositoryScannerCompleteness::test_check_completeness_undocumented PASSED [ 93%]
tests/infrastructure/validation/test_repo_scanner_comprehensive.py::TestRepositoryScannerTestCoverage::test_check_test_coverage_full PASSED [ 93%]
tests/infrastructure/validation/test_repo_scanner_comprehensive.py::TestRepositoryScannerTestCoverage::test_check_test_coverage_missing PASSED [ 93%]
tests/infrastructure/validation/test_repo_scanner_comprehensive.py::TestRepositoryScannerConfiguration::test_check_configuration_valid PASSED [ 93%]
tests/infrastructure/validation/test_repo_scanner_comprehensive.py::TestRepositoryScannerConfiguration::test_check_configuration_missing PASSED [ 93%]
tests/infrastructure/validation/test_repo_scanner_comprehensive.py::TestRepositoryScannerThinOrchestrator::test_check_thin_orchestrator_compliant PASSED [ 93%]
tests/infrastructure/validation/test_repo_scanner_comprehensive.py::TestRepositoryScannerThinOrchestrator::test_check_thin_orchestrator_non_compliant PASSED [ 94%]
tests/infrastructure/validation/test_repo_scanner_comprehensive.py::TestRepositoryScannerFullScan::test_scan_all_complete PASSED [ 94%]
tests/infrastructure/validation/test_repo_scanner_comprehensive.py::TestRepositoryScannerEdgeCases::test_empty_repository PASSED [ 94%]
tests/infrastructure/validation/test_repo_scanner_comprehensive.py::TestRepositoryScannerEdgeCases::test_non_python_files PASSED [ 94%]
tests/infrastructure/validation/test_repo_scanner_coverage.py::TestRepoScannerCore::test_module_imports PASSED [ 94%]
tests/infrastructure/validation/test_repo_scanner_coverage.py::TestRepoScannerCore::test_has_scanner_functionality PASSED [ 94%]
tests/infrastructure/validation/test_repo_scanner_coverage.py::TestRepositoryScanning::test_scan_repository PASSED [ 94%]
tests/infrastructure/validation/test_repo_scanner_coverage.py::TestRepositoryScanning::test_check_structure PASSED [ 94%]
tests/infrastructure/validation/test_repo_scanner_coverage.py::TestFileOrganization::test_check_organization PASSED [ 94%]
tests/infrastructure/validation/test_repo_scanner_coverage.py::TestNamingConventions::test_validate_naming PASSED [ 94%]
tests/infrastructure/validation/test_repo_scanner_coverage.py::TestRepoScannerIntegration::test_full_scan_workflow PASSED [ 94%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestDataClasses::test_accuracy_issue PASSED [ 94%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestDataClasses::test_completeness_gap PASSED [ 94%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestDataClasses::test_scan_results PASSED [ 94%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestRepositoryScanner::test_init PASSED [ 94%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestRepositoryScanner::test_discover_structure_empty PASSED [ 94%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestRepositoryScanner::test_discover_structure_with_files PASSED [ 94%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestRepositoryScanner::test_find_documented_modules PASSED [ 94%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestRepositoryScanner::test_extract_imports PASSED [ 94%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestRepositoryScanner::test_check_code_accuracy PASSED [ 94%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestRepositoryScanner::test_check_completeness PASSED [ 94%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestRepositoryScanner::test_check_test_coverage PASSED [ 94%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestRepositoryScanner::test_check_configuration PASSED [ 94%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestRepositoryScanner::test_check_thin_orchestrator_pattern PASSED [ 95%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestCheckDocumentedCommands::test_documented_script_exists PASSED [ 95%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestCheckDocumentedCommands::test_documented_script_missing PASSED [ 95%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestCheckDocumentedCommands::test_script_in_code_block_ignored PASSED [ 95%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestCheckDocumentedCommands::test_src_module_reference_ignored PASSED [ 95%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestCheckDocumentedCommands::test_script_found_in_alt_location PASSED [ 95%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestConfigsMatch::test_matching_configs PASSED [ 95%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestConfigsMatch::test_exact_match PASSED [ 95%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestConfigsMatch::test_empty_config PASSED [ 95%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestConfigsMatch::test_empty_example PASSED [ 95%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestConfigsMatch::test_config_has_extra_keys PASSED [ 95%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestCheckConfigurationYAML::test_valid_config_files PASSED [ 95%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestCheckConfigurationYAML::test_config_structure_mismatch PASSED [ 95%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestCheckConfigurationYAML::test_invalid_yaml_file PASSED [ 95%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestGenerateReport::test_generate_report_empty PASSED [ 95%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestGenerateReport::test_generate_report_with_issues PASSED [ 95%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestGenerateReport::test_generate_report_many_issues PASSED [ 95%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestMainFunction::test_main_exists PASSED [ 95%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestMainFunction::test_main_returns_int PASSED [ 95%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestRepositoryScannerIntegration::test_scan_all PASSED [ 95%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestRepositoryScannerIntegration::test_scan_with_repo_utilities PASSED [ 95%]
tests/infrastructure/validation/test_repo_scanner_full.py::TestRepositoryScannerIntegration::test_scan_with_docs_directory PASSED [ 95%]
tests/infrastructure/validation/test_validate_markdown_cli.py::TestValidateMarkdownCliImportError::test_main_with_import_error PASSED [ 95%]
tests/infrastructure/validation/test_validate_markdown_cli.py::TestValidateMarkdownCliImportError::test_import_error_is_none_by_default PASSED [ 96%]
tests/infrastructure/validation/test_validate_markdown_cli.py::TestValidateMarkdownCliMain::test_module_has_expected_functions PASSED [ 96%]
tests/infrastructure/validation/test_validate_markdown_cli.py::TestValidateMarkdownCliHelpers::test_repo_root PASSED [ 96%]
tests/infrastructure/validation/test_validate_markdown_cli.py::TestValidateMarkdownCliHelpers::test_find_markdown_files PASSED [ 96%]
tests/infrastructure/validation/test_validate_markdown_cli.py::TestValidateMarkdownCliHelpers::test_find_markdown_files_empty_dir PASSED [ 96%]
tests/infrastructure/validation/test_validate_markdown_cli.py::TestValidateMarkdownCliHelpers::test_collect_symbols_with_labels PASSED [ 96%]
tests/infrastructure/validation/test_validate_markdown_cli.py::TestValidateMarkdownCliHelpers::test_collect_symbols_with_anchors PASSED [ 96%]
tests/infrastructure/validation/test_validate_markdown_cli.py::TestValidateMarkdownCliHelpers::test_validate_images_valid PASSED [ 96%]
tests/infrastructure/validation/test_validate_markdown_cli.py::TestValidateMarkdownCliHelpers::test_validate_images_missing PASSED [ 96%]
tests/infrastructure/validation/test_validate_markdown_cli.py::TestValidateMarkdownCliIntegration::test_full_validation_workflow PASSED [ 96%]
tests/infrastructure/validation/test_validate_markdown_cli_comprehensive.py::TestValidateMarkdownCliModule::test_module_imports PASSED [ 96%]
tests/infrastructure/validation/test_validate_markdown_cli_comprehensive.py::TestValidateMarkdownCliMain::test_main_exists PASSED [ 96%]
tests/infrastructure/validation/test_validate_markdown_cli_comprehensive.py::TestValidateMarkdownCliMain::test_main_with_valid_file PASSED [ 96%]
tests/infrastructure/validation/test_validate_markdown_cli_comprehensive.py::TestValidateMarkdownCliMain::test_main_with_directory PASSED [ 96%]
tests/infrastructure/validation/test_validate_markdown_cli_comprehensive.py::TestValidateMarkdownCliMain::test_main_with_missing_file PASSED [ 96%]
tests/infrastructure/validation/test_validate_markdown_cli_comprehensive.py::TestValidateMarkdownFunctions::test_validate_markdown_file PASSED [ 96%]
tests/infrastructure/validation/test_validate_markdown_cli_comprehensive.py::TestValidateMarkdownFunctions::test_validate_markdown_content PASSED [ 96%]
tests/infrastructure/validation/test_validate_markdown_cli_comprehensive.py::TestValidateMarkdownCliIntegration::test_full_validation_workflow PASSED [ 96%]
tests/infrastructure/validation/test_validate_markdown_cli_full.py::TestValidateMarkdownCliFunctions::test_repo_root PASSED [ 96%]
tests/infrastructure/validation/test_validate_markdown_cli_full.py::TestValidateMarkdownCliFunctions::test_find_markdown_files PASSED [ 96%]
tests/infrastructure/validation/test_validate_markdown_cli_full.py::TestValidateMarkdownCliFunctions::test_find_markdown_files_no_extension PASSED [ 96%]
tests/infrastructure/validation/test_validate_markdown_cli_full.py::TestValidateMarkdownCliFunctions::test_collect_symbols PASSED [ 96%]
tests/infrastructure/validation/test_validate_markdown_cli_full.py::TestValidateMarkdownCliFunctions::test_collect_symbols_empty_file PASSED [ 96%]
tests/infrastructure/validation/test_validate_markdown_cli_full.py::TestValidateMarkdownCliFunctions::test_validate_images_found PASSED [ 97%]
tests/infrastructure/validation/test_validate_markdown_cli_full.py::TestValidateMarkdownCliFunctions::test_validate_images_missing PASSED [ 97%]
tests/infrastructure/validation/test_validate_markdown_cli_full.py::TestValidateMarkdownCliFunctions::test_validate_images_url PASSED [ 97%]
tests/infrastructure/validation/test_validate_markdown_cli_full.py::TestValidateMarkdownCliFunctions::test_validate_refs_found PASSED [ 97%]
tests/infrastructure/validation/test_validate_markdown_cli_full.py::TestValidateMarkdownCliFunctions::test_validate_refs_missing PASSED [ 97%]
tests/infrastructure/validation/test_validate_markdown_cli_full.py::TestValidateMarkdownCliFunctions::test_validate_math_balanced PASSED [ 97%]
tests/infrastructure/validation/test_validate_markdown_cli_full.py::TestValidateMarkdownCliFunctions::test_validate_math_unbalanced PASSED [ 97%]
tests/infrastructure/validation/test_validate_markdown_cli_full.py::TestValidateMarkdownMain::test_main_success PASSED [ 97%]
tests/infrastructure/validation/test_validate_markdown_cli_full.py::TestValidateMarkdownMain::test_main_with_issues PASSED [ 97%]
tests/infrastructure/validation/test_validate_markdown_cli_full.py::TestValidateMarkdownMain::test_main_import_error PASSED [ 97%]
tests/infrastructure/validation/test_validate_markdown_cli_full.py::TestValidateMarkdownMain::test_main_file_not_found PASSED [ 97%]
tests/infrastructure/validation/test_validate_markdown_cli_full.py::TestValidateMarkdownMain::test_main_unexpected_error PASSED [ 97%]
tests/infrastructure/validation/test_validate_markdown_cli_full.py::TestValidateMarkdownIntegration::test_module_structure PASSED [ 97%]
tests/infrastructure/validation/test_validate_md_cli_coverage.py::TestValidateMarkdownCliCore::test_module_imports PASSED [ 97%]
tests/infrastructure/validation/test_validate_md_cli_coverage.py::TestValidateMarkdownCliCore::test_has_main_function PASSED [ 97%]
tests/infrastructure/validation/test_validate_md_cli_coverage.py::TestMarkdownValidationCommand::test_validate_single_file PASSED [ 97%]
tests/infrastructure/validation/test_validate_md_cli_coverage.py::TestMarkdownValidationCommand::test_validate_directory PASSED [ 97%]
tests/infrastructure/validation/test_validate_md_cli_coverage.py::TestMarkdownCliMain::test_main_with_valid_markdown PASSED [ 97%]
tests/infrastructure/validation/test_validate_md_cli_coverage.py::TestValidateMarkdownCliIntegration::test_full_validation_workflow PASSED [ 97%]
tests/infrastructure/validation/test_validate_pdf_cli.py::TestValidatePdfCliModule::test_module_imports PASSED [ 97%]
tests/infrastructure/validation/test_validate_pdf_cli.py::TestValidatePdfCliModule::test_module_has_expected_attributes PASSED [ 97%]
tests/infrastructure/validation/test_validate_pdf_cli.py::TestValidatePdfCliIntegration::test_validate_pdf_workflow PASSED [ 97%]
tests/infrastructure/validation/test_validate_pdf_cli_comprehensive.py::TestValidatePdfCliModule::test_module_imports PASSED [ 97%]
tests/infrastructure/validation/test_validate_pdf_cli_comprehensive.py::TestPrintValidationReport::test_print_report_no_issues PASSED [ 98%]
tests/infrastructure/validation/test_validate_pdf_cli_comprehensive.py::TestPrintValidationReport::test_print_report_with_issues PASSED [ 98%]
tests/infrastructure/validation/test_validate_pdf_cli_comprehensive.py::TestPrintValidationReport::test_print_report_verbose PASSED [ 98%]
tests/infrastructure/validation/test_validate_pdf_cli_comprehensive.py::TestMainFunction::test_main_success PASSED [ 98%]
tests/infrastructure/validation/test_validate_pdf_cli_comprehensive.py::TestMainFunction::test_main_with_issues PASSED [ 98%]
tests/infrastructure/validation/test_validate_pdf_cli_comprehensive.py::TestMainFunction::test_main_file_not_found PASSED [ 98%]
tests/infrastructure/validation/test_validate_pdf_cli_comprehensive.py::TestMainFunction::test_main_validation_error PASSED [ 98%]
tests/infrastructure/validation/test_validate_pdf_cli_comprehensive.py::TestMainFunction::test_main_unexpected_error PASSED [ 98%]
tests/infrastructure/validation/test_validate_pdf_cli_comprehensive.py::TestMainFunction::test_main_verbose_with_error PASSED [ 98%]
tests/infrastructure/validation/test_validate_pdf_cli_comprehensive.py::TestDefaultPdfPath::test_main_default_path PASSED [ 98%]
tests/infrastructure/validation/test_validate_pdf_cli_comprehensive.py::TestValidatePdfCliIntegration::test_full_validation_workflow PASSED [ 98%]
tests/infrastructure/validation/test_validate_pdf_cli_coverage.py::TestValidatePdfCliCore::test_module_imports PASSED [ 98%]
tests/infrastructure/validation/test_validate_pdf_cli_coverage.py::TestValidatePdfCliCore::test_has_main_function PASSED [ 98%]
tests/infrastructure/validation/test_validate_pdf_cli_coverage.py::TestPdfValidationCommand::test_validate_single_pdf PASSED [ 98%]
tests/infrastructure/validation/test_validate_pdf_cli_coverage.py::TestPdfValidationCommand::test_validate_pdf_directory PASSED [ 98%]
tests/infrastructure/validation/test_validate_pdf_cli_coverage.py::TestPdfValidationCommand::test_validate_nonexistent_pdf PASSED [ 98%]
tests/infrastructure/validation/test_validate_pdf_cli_coverage.py::TestPdfCliParsing::test_parse_args_basic PASSED [ 98%]
tests/infrastructure/validation/test_validate_pdf_cli_coverage.py::TestPdfCliParsing::test_parse_args_verbose PASSED [ 98%]
tests/infrastructure/validation/test_validate_pdf_cli_coverage.py::TestPdfValidationOutput::test_format_results PASSED [ 98%]
tests/infrastructure/validation/test_validate_pdf_cli_coverage.py::TestPdfValidationOutput::test_print_summary PASSED [ 98%]
tests/infrastructure/validation/test_validate_pdf_cli_coverage.py::TestPdfCliMain::test_main_with_valid_pdf PASSED [ 98%]
tests/infrastructure/validation/test_validate_pdf_cli_coverage.py::TestPdfCliMain::test_main_with_missing_pdf PASSED [ 98%]
tests/infrastructure/validation/test_validate_pdf_cli_coverage.py::TestValidatePdfCliIntegration::test_full_validation_workflow PASSED [ 98%]
tests/infrastructure/validation/test_validate_pdf_cli_full.py::TestValidatePdfCliImport::test_module_imports PASSED [ 99%]
tests/infrastructure/validation/test_validate_pdf_cli_full.py::TestValidatePdfFunction::test_validate_pdf_exists PASSED [ 99%]
tests/infrastructure/validation/test_validate_pdf_cli_full.py::TestValidatePdfFunction::test_validate_pdf_not_found PASSED [ 99%]
tests/infrastructure/validation/test_validate_pdf_cli_full.py::TestMainFunction::test_main_with_file PASSED [ 99%]
tests/infrastructure/validation/test_validate_pdf_cli_full.py::TestMainFunction::test_main_with_directory PASSED [ 99%]
tests/infrastructure/validation/test_validate_pdf_cli_full.py::TestMainFunction::test_main_without_args PASSED [ 99%]
tests/infrastructure/validation/test_validate_pdf_cli_full.py::TestPdfCliIntegration::test_module_structure PASSED [ 99%]
tests/infrastructure/validation/test_validation_cli.py::TestValidatePdfCommand::test_pdf_command_with_valid_pdf PASSED [ 99%]
tests/infrastructure/validation/test_validation_cli.py::TestValidatePdfCommand::test_pdf_command_with_issues PASSED [ 99%]
tests/infrastructure/validation/test_validation_cli.py::TestValidatePdfCommand::test_pdf_command_nonexistent_file PASSED [ 99%]
tests/infrastructure/validation/test_validation_cli.py::TestValidateMarkdownCommand::test_markdown_command_with_valid_dir PASSED [ 99%]
tests/infrastructure/validation/test_validation_cli.py::TestValidateMarkdownCommand::test_markdown_command_with_problems PASSED [ 99%]
tests/infrastructure/validation/test_validation_cli.py::TestValidateMarkdownCommand::test_markdown_command_nonexistent_dir PASSED [ 99%]
tests/infrastructure/validation/test_validation_cli.py::TestValidateMarkdownCommand::test_markdown_command_without_repo_root PASSED [ 99%]
tests/infrastructure/validation/test_validation_cli.py::TestVerifyIntegrityCommand::test_integrity_command_with_valid_dir PASSED [ 99%]
tests/infrastructure/validation/test_validation_cli.py::TestVerifyIntegrityCommand::test_integrity_command_verbose PASSED [ 99%]
tests/infrastructure/validation/test_validation_cli.py::TestVerifyIntegrityCommand::test_integrity_command_nonexistent_dir PASSED [ 99%]
tests/infrastructure/validation/test_validation_cli.py::TestMainCli::test_main_with_pdf_command PASSED [ 99%]
tests/infrastructure/validation/test_validation_cli.py::TestMainCli::test_main_with_markdown_command PASSED [ 99%]
tests/infrastructure/validation/test_validation_cli.py::TestMainCli::test_main_with_integrity_command PASSED [ 99%]
tests/infrastructure/validation/test_validation_cli.py::TestMainCli::test_main_without_command PASSED [ 99%]
tests/infrastructure/validation/test_validation_cli.py::TestMainCli::test_main_with_invalid_pdf PASSED [ 99%]
tests/infrastructure/validation/test_validation_cli.py::TestCliArgumentParsing::test_pdf_parser_default_preview_words PASSED [ 99%]
tests/infrastructure/validation/test_validation_cli.py::TestCliArgumentParsing::test_pdf_parser_verbose_flag PASSED [100%]

=================================== FAILURES ===================================
______________ TestContextPruningLogging.test_prune_logs_details _______________
tests/infrastructure/llm/test_context_engineering.py:267: in test_prune_logs_details
    assert "Context pruned" in caplog.text or "Pruning context" in caplog.text
E   AssertionError: assert ('Context pruned' in '' or 'Pruning context' in '')
E    +  where '' = <_pytest.logging.LogCaptureFixture object at 0x133c27410>.text
E    +  and   '' = <_pytest.logging.LogCaptureFixture object at 0x133c27410>.text
____________________ TestQueryLogging.test_query_logs_start ____________________
tests/infrastructure/llm/test_logging.py:52: in test_query_logs_start
    assert "model" in caplog.text or "prompt_length" in caplog.text
E   AssertionError: assert ('model' in 'INFO     infrastructure.llm.core.client:client.py:199 Starting query\nINFO     infrastructure.llm.core.client:client.py:228 Query completed\n' or 'prompt_length' in 'INFO     infrastructure.llm.core.client:client.py:199 Starting query\nINFO     infrastructure.llm.core.client:client.py:228 Query completed\n')
E    +  where 'INFO     infrastructure.llm.core.client:client.py:199 Starting query\nINFO     infrastructure.llm.core.client:client.py:228 Query completed\n' = <_pytest.logging.LogCaptureFixture object at 0x1347af9e0>.text
E    +  and   'INFO     infrastructure.llm.core.client:client.py:199 Starting query\nINFO     infrastructure.llm.core.client:client.py:228 Query completed\n' = <_pytest.logging.LogCaptureFixture object at 0x1347af9e0>.text
------------------------------ Captured log call -------------------------------
INFO     infrastructure.llm.core.client:client.py:199 Starting query
INFO     infrastructure.llm.core.client:client.py:228 Query completed
_________________ TestQueryLogging.test_query_logs_completion __________________
tests/infrastructure/llm/test_logging.py:75: in test_query_logs_completion
    assert "response_length" in caplog.text or "generation_time" in caplog.text
E   AssertionError: assert ('response_length' in 'INFO     infrastructure.llm.core.client:client.py:199 Starting query\nINFO     infrastructure.llm.core.client:client.py:228 Query completed\n' or 'generation_time' in 'INFO     infrastructure.llm.core.client:client.py:199 Starting query\nINFO     infrastructure.llm.core.client:client.py:228 Query completed\n')
E    +  where 'INFO     infrastructure.llm.core.client:client.py:199 Starting query\nINFO     infrastructure.llm.core.client:client.py:228 Query completed\n' = <_pytest.logging.LogCaptureFixture object at 0x1347ab620>.text
E    +  and   'INFO     infrastructure.llm.core.client:client.py:199 Starting query\nINFO     infrastructure.llm.core.client:client.py:228 Query completed\n' = <_pytest.logging.LogCaptureFixture object at 0x1347ab620>.text
------------------------------ Captured log call -------------------------------
INFO     infrastructure.llm.core.client:client.py:199 Starting query
INFO     infrastructure.llm.core.client:client.py:228 Query completed
___________ TestStreamingLogging.test_stream_query_logs_chunks_debug ___________
tests/infrastructure/llm/test_streaming.py:146: in test_stream_query_logs_chunks_debug
    has_chunk_log = any("Streaming chunk" in r.message or "chunk_count" in str(r.extra)
tests/infrastructure/llm/test_streaming.py:146: in <genexpr>
    has_chunk_log = any("Streaming chunk" in r.message or "chunk_count" in str(r.extra)
                                                                              ^^^^^^^
E   AttributeError: 'LogRecord' object has no attribute 'extra'
------------------------------ Captured log call -------------------------------
INFO     infrastructure.llm.core.client:client.py:809 Starting streaming query
DEBUG    infrastructure.llm.core.client:client.py:871 First chunk received after 0.00s
DEBUG    infrastructure.llm.core.client:client.py:880 Streaming chunk 1
DEBUG    infrastructure.llm.core.client:client.py:880 Streaming chunk 2
INFO     infrastructure.llm.core.client:client.py:1052 Streaming completed
================================ tests coverage ================================
______________ coverage: platform darwin, python 3.12.11-final-0 _______________

Name                                                                Stmts   Miss Branch BrPart   Cover   Missing
----------------------------------------------------------------------------------------------------------------
infrastructure/__init__.py                                             12      2      0      0  83.33%   59-61
infrastructure/build/__init__.py                                        4      0      0      0 100.00%
infrastructure/build/build_artifacts.py                                63     54     36      0   9.09%   23-33, 46-90, 102-136
infrastructure/build/build_integrity.py                                77     64     28      0  12.38%   24-60, 70-73, 85-92, 105-133, 146-188
infrastructure/build/build_reproducibility.py                          74     64     22      0  10.42%   19-31, 47-104, 116-151
infrastructure/build/build_verifier.py                                225    201     74      0   8.03%   52-62, 75-89, 98-133, 281, 290-345, 357-405, 417-447, 459-510, 515-614
infrastructure/build/quality_checker.py                               252    230     64      0   6.96%   26-32, 48-77, 89-112, 129-136, 148-171, 183-225, 250-291, 314-353, 376-390, 408-434, 446-484, 496-526, 544-569, 587-613
infrastructure/build/reproducibility.py                               264    234     94      0   8.38%   33-42, 52-79, 94-136, 149-160, 173-193, 205-247, 258-275, 287-308, 322-356, 366-383, 404-452, 462-464, 477-525, 616, 632-661, 674-689, 702-757
infrastructure/core/__init__.py                                        11      0      0      0 100.00%
infrastructure/core/checkpoint.py                                      92     24     24      0  65.52%   136-137, 151-152, 162-192
infrastructure/core/config_cli.py                                      21     11      6      2  44.44%   26-29, 35-37, 45-50
infrastructure/core/config_loader.py                                  114     31     54      7  70.24%   15-16, 29, 110, 115->119, 124->126, 126->130, 136->139, 199, 229-264
infrastructure/core/credentials.py                                     64      5     20      1  92.86%   11-15, 92
infrastructure/core/environment.py                                    125     17     34      1  88.68%   78-80, 83-84, 122-124, 130-132, 195-197, 271-273
infrastructure/core/exceptions.py                                     133     21     34      8  74.25%   286->296, 292->296, 296->304, 301->304, 372->381, 378, 382-409, 652->654
infrastructure/core/file_operations.py                                 99     37     28      4  64.57%   34-36, 50-52, 144, 149-155, 176-177, 180, 187-188, 195-226
infrastructure/core/logging_formatters.py                              26      6      4      0  66.67%   47-62
infrastructure/core/logging_helpers.py                                 39      1     24      1  96.83%   59
infrastructure/core/logging_progress.py                               199     96     72      4  48.34%   85, 171->175, 222-224, 239-250, 254-259, 306-310, 334-340, 349-357, 366-367, 371-391, 399-410, 429-449, 468-479, 494-505
infrastructure/core/logging_utils.py                                  190     67     58     10  59.27%   142-147, 163->181, 176, 179, 213-228, 260, 300-312, 335, 451, 479-485, 506, 531->529, 607-626, 646-675
infrastructure/core/performance.py                                    157      9     24      1  94.48%   140-141, 155-156, 219-221, 282->289, 286-287
infrastructure/core/progress.py                                       147     48     46      4  63.73%   100->114, 110-112, 156-164, 172-188, 192-214, 218-226, 304, 317, 325-329
infrastructure/core/retry.py                                           67      4     14      2  90.12%   98-100, 191
infrastructure/core/script_discovery.py                                37      0     14      0 100.00%
infrastructure/documentation/__init__.py                                5      0      0      0 100.00%
infrastructure/documentation/figure_manager.py                         84      0     16      0 100.00%
infrastructure/documentation/generate_glossary_cli.py                  38     10      4      2  71.43%   21-30, 52-54, 66-68
infrastructure/documentation/glossary_gen.py                           56      0     24      0 100.00%
infrastructure/documentation/image_manager.py                          91      0     48      0 100.00%
infrastructure/documentation/markdown_integration.py                   85      0     32      1  99.15%   157->151
infrastructure/literature/__init__.py                                   9      0      0      0 100.00%
infrastructure/literature/analysis/__init__.py                          4      0      0      0 100.00%
infrastructure/literature/analysis/context_builder.py                  78     37     22      0  41.00%   88-101, 139-179, 190-225
infrastructure/literature/analysis/domain_detector.py                  99      8     32      5  90.08%   162, 164, 198-199, 205-206, 240->242, 263-329
infrastructure/literature/analysis/paper_analyzer.py                  145     10     46     11  87.96%   197, 199, 201, 205, 206->210, 212, 214, 219, 221, 284-285, 287->276
infrastructure/literature/core/__init__.py                              5      0      0      0 100.00%
infrastructure/literature/core/__main__.py                              1      1      0      0   0.00%   2
infrastructure/literature/core/cli.py                                 117      1     38      1  98.71%   188
infrastructure/literature/core/config.py                               35      0      0      0 100.00%
infrastructure/literature/core/core.py                                349    110    114     19  66.09%   61, 93, 133, 137, 218-221, 236-239, 250-256, 261, 302-306, 318-329, 334-337, 359-365, 372->375, 426-467, 504-507, 543-546, 571-575, 634->637, 645-651, 653->624, 680, 682, 686-689, 697, 724->733, 730, 775-787, 801-817
infrastructure/literature/html_parsers/__init__.py                     19      1      4      1  91.30%   67
infrastructure/literature/html_parsers/acm.py                          40     28     24      0  18.75%   32-85
infrastructure/literature/html_parsers/base.py                         66      7     34      5  88.00%   63-68, 91->90, 118->117, 147->146, 149->146, 170
infrastructure/literature/html_parsers/elsevier.py                     41     10     24      4  66.15%   45->44, 48->44, 61-65, 76-80
infrastructure/literature/html_parsers/generic.py                      26      0      8      1  97.06%   49->48
infrastructure/literature/html_parsers/ieee.py                         35      4     18      2  81.13%   47->46, 70-73
infrastructure/literature/html_parsers/springer.py                     42     14     26      3  54.41%   47-56, 68-72, 87-90
infrastructure/literature/html_parsers/wiley.py                        42     30     24      0  18.18%   32-86
infrastructure/literature/library/__init__.py                           5      0      0      0 100.00%
infrastructure/literature/library/clear.py                            162     25     52      9  84.11%   69, 77-78, 91-92, 147->158, 155, 163-164, 234-237, 265, 267, 270->292, 283, 297-298, 306-307, 311->320, 316-317, 321->330, 326-327, 335-336
infrastructure/literature/library/index.py                            202     29     74      7  82.61%   119-120, 158->164, 230-231, 340-341, 375->381, 377->376, 386->390, 394->398, 399, 452-459, 467-478, 486-494
infrastructure/literature/library/references.py                        64      7     16      3  85.00%   13, 41, 104->110, 106->104, 162-163, 182-185
infrastructure/literature/library/stats.py                             38     29      8      0  19.57%   27-34, 46-75
infrastructure/literature/llm/__init__.py                               3      0      0      0 100.00%
infrastructure/literature/llm/operations.py                           172     12     40      4  92.45%   18, 175, 177, 179, 182-183, 244-245, 303-304, 359-360
infrastructure/literature/llm/selector.py                             119      0     40      0 100.00%
infrastructure/literature/logging.py                                  119    119     42      0   0.00%   9-331
infrastructure/literature/meta_analysis/__init__.py                    10      0      0      0 100.00%
infrastructure/literature/meta_analysis/aggregator.py                 137      4     52     12  91.53%   92->95, 128->131, 140->138, 144->135, 148->146, 159->153, 209->212, 221->225, 232->236, 236->238, 239, 264->267, 288-290
infrastructure/literature/meta_analysis/graphical_abstract.py         241     98     32     13  57.88%   21-22, 66, 69-70, 90->92, 104-132, 144-154, 180-184, 193->192, 213-219, 234-242, 262-268, 293, 296-297, 317->319, 337-338, 342-392, 397, 424
infrastructure/literature/meta_analysis/keywords.py                    54      6     20      5  85.14%   40, 106, 145-146, 175-176, 181->180
infrastructure/literature/meta_analysis/metadata.py                    77     15     22     11  73.74%   45, 60-61, 90, 105-106, 133, 138-139, 168, 174, 262, 299, 304-305
infrastructure/literature/meta_analysis/pca.py                         73     39     26      4  40.40%   31-33, 54, 90, 95, 111-117, 142, 145, 157-175, 197-231, 255-257
infrastructure/literature/meta_analysis/pca_loadings.py               149    118     36      4  18.92%   30-32, 59, 71-73, 93-109, 129-148, 172-209, 227-299, 319-348, 370-423, 450, 452->455, 456, 466-538
infrastructure/literature/meta_analysis/summary.py                    125    111     50      0   8.00%   47-190, 206-398, 414-423, 441-469
infrastructure/literature/meta_analysis/temporal.py                    46      6     18      5  82.81%   60, 83, 102, 134, 139-140
infrastructure/literature/meta_analysis/visualizations.py             439    253     98      8  39.85%   67, 101-102, 107->106, 122, 128-129, 169-184, 208-209, 255-256, 303-304, 362-478, 505-626, 651-682, 707-758, 793-874, 898-947, 968-972, 992->991, 1001-1005, 1021, 1024
infrastructure/literature/pdf/__init__.py                               5      0      0      0 100.00%
infrastructure/literature/pdf/downloader.py                           230    115    108     20  45.27%   43, 64, 85-86, 102, 118, 120, 122, 129-148, 192, 196-206, 219, 234, 247-257, 274, 300, 313-332, 342, 411-462, 467-469, 478-481, 488-495, 499-512
infrastructure/literature/pdf/extractor.py                             36     22     10      0  30.43%   31-34, 39-60, 75-79
infrastructure/literature/pdf/fallbacks.py                            131     28     64     13  75.90%   32-35, 39, 43, 47, 51, 55, 59, 160->159, 199, 221-229, 232-234, 253-254, 257->263, 260-261, 264-266
infrastructure/literature/pdf/handler.py                              158     76     68     15  49.12%   23, 68, 85-87, 120-127, 135-136, 147, 155-158, 163-165, 171->170, 179-180, 198-199, 202->205, 213-214, 220->247, 223-244, 247->274, 250-271, 275->278, 297-319, 332-336, 350
infrastructure/literature/reporting/__init__.py                         2      0      0      0 100.00%
infrastructure/literature/reporting/reporter.py                        92     15     22      6  79.82%   61-63, 71, 135->152, 186, 242-243, 261-263, 423, 482-486
infrastructure/literature/sources/__init__.py                          11      0      0      0 100.00%
infrastructure/literature/sources/arxiv.py                             82      5     20      3  92.16%   105->112, 122-124, 143-144, 168->164
infrastructure/literature/sources/base.py                             110     22     24      4  76.12%   106, 119-137, 157, 160-167, 173
infrastructure/literature/sources/biorxiv.py                          161     46     46     11  70.53%   65-67, 71, 118, 124, 127->162, 167-169, 198, 223, 234-273, 293, 327, 333, 349-360, 377-379
infrastructure/literature/sources/crossref.py                          75     20     38     10  66.37%   89, 94->98, 103, 105, 107, 113->127, 116-124, 132-136, 146-148, 152->155
infrastructure/literature/sources/dblp.py                              75     15     38     12  70.80%   84, 89, 99->107, 108->115, 111-112, 120, 128, 132->151, 136-142, 143->151, 145, 155, 157
infrastructure/literature/sources/europepmc.py                         67      7     34     10  83.17%   88, 93->105, 95->94, 106->113, 109-110, 114->118, 119->127, 123->120, 129-132, 136->141, 138->141
infrastructure/literature/sources/openalex.py                          81     11     42     13  75.61%   90, 98->107, 101->99, 103->99, 109->116, 112-113, 118->128, 122-125, 136->143, 140, 149->157, 151-154, 161->166, 163->166
infrastructure/literature/sources/pubmed.py                            96      9     38     11  82.09%   68, 72, 133->144, 137->134, 139->141, 150-154, 159->166, 162-163, 168->175, 169->175, 176->183, 197->200
infrastructure/literature/sources/semanticscholar.py                   39      2      8      2  91.49%   46, 86
infrastructure/literature/sources/unpaywall.py                        150     15     38      6  87.77%   77, 129-130, 145->208, 170-175, 187-192, 209->211, 242->240
infrastructure/literature/summarization/__init__.py                     7      0      0      0 100.00%
infrastructure/literature/summarization/chunker.py                    185    103     82     13  38.58%   123->141, 125->123, 136, 141->151, 143->141, 151->164, 153->151, 159, 167-179, 185-197, 203-215, 253-270, 292-386, 397-438, 463
infrastructure/literature/summarization/context_extractor.py          142     49     60     17  61.39%   113->122, 115->113, 126-142, 149-153, 160-172, 179-190, 197-208, 215-222, 342->344, 345, 347, 349, 351, 353, 355, 356->358, 359
infrastructure/literature/summarization/core.py                       339     92    112     20  71.18%   28, 83, 87-90, 152-159, 170-179, 227, 255-256, 314-315, 336-353, 412, 424-435, 437-447, 458-466, 486-547, 584-585, 597, 650->644, 685-729, 789->792, 843-846, 849->854, 860-861, 881, 948-949, 956->970, 1008-1012, 1030, 1035-1036
infrastructure/literature/summarization/extractor.py                   74     55     12      1  23.26%   53-140, 156-168, 179-180
infrastructure/literature/summarization/metadata.py                    82     39     10      2  48.91%   59, 77, 89-107, 111-126, 137-138, 149, 157, 165-167, 175-190
infrastructure/literature/summarization/models.py                      95     36     28      0  47.97%   99-127, 165-172, 180-203
infrastructure/literature/summarization/multi_stage_summarizer.py     308    226     86      6  23.86%   27-28, 123, 162-163, 173-177, 202, 224-225, 232, 238-325, 343-545, 572-715, 739-820, 848-951
infrastructure/literature/summarization/orchestrator.py               244    225     94      1   5.92%   16, 29-71, 76-129, 154-251, 276-279, 296-372, 385-473
infrastructure/literature/summarization/parser.py                     191    191     70      0   0.00%   6-377
infrastructure/literature/summarization/pdf_processor.py              145     34     72     11  70.05%   95->108, 122-126, 152, 179, 189->188, 196-198, 216-244, 256, 264, 315->323, 318
infrastructure/literature/summarization/prompt_builder.py             178     51     28      8  70.39%   48, 79->81, 81->83, 87-88, 90->95, 136-137, 144->149, 195-209, 222->227, 291-326
infrastructure/literature/summarization/streaming.py                   99     28     42     11  66.67%   15-16, 107, 115, 122-123, 133-155, 159-163, 204-205, 209-232, 242-258, 265-266, 314->331
infrastructure/literature/summarization/utils.py                       27      6     18      2  73.33%   12, 35->39, 65-70
infrastructure/literature/summarization/validator.py                  283     36    148     17  83.99%   91->96, 151-153, 160-161, 199-229, 296, 301->291, 324, 365-368, 369->359, 375, 379->394, 391, 402->399, 405->399, 436->434, 490, 500, 507->513
infrastructure/literature/summarizer.py                               654    654    284      0   0.00%   17-1451
infrastructure/literature/workflow.py                                 505    505    196      0   0.00%   11-920
infrastructure/literature/workflow/__init__.py                          4      0      0      0 100.00%
infrastructure/literature/workflow/orchestrator.py                    637    614    174      0   2.84%   27-50, 55-61, 70-84, 89, 103-115, 120-125, 143-234, 246-314, 343-463, 468-497, 509-579, 606-995, 1009-1111
infrastructure/literature/workflow/progress.py                        176     28     52     14  77.19%   23, 114, 238, 240->246, 270-272, 277, 289-290, 312->311, 321-327, 336->346, 342->346, 356, 358->exit, 369-371, 379-387, 396, 408, 420
infrastructure/literature/workflow/workflow.py                        490    152    188     27  63.86%   28, 165->193, 168-190, 198-200, 212-214, 217->222, 231->238, 248->256, 251-254, 282-284, 291->294, 301-329, 338-359, 364-395, 413-415, 430-431, 439, 444, 493-494, 544->518, 566->572, 598-599, 611->583, 619-636, 659-660, 668, 690-691, 731->738, 753, 757->761, 764-805, 822, 825->830, 830->845, 865, 872->863, 880-881
infrastructure/llm/__init__.py                                         11      3      0      0  72.73%   82-85
infrastructure/llm/cli/__init__.py                                      1      0      0      0 100.00%
infrastructure/llm/cli/main.py                                        135     64     48      8  45.36%   33, 34->40, 37->40, 49-86, 97-101, 118-126, 143-179, 266
infrastructure/llm/core/__init__.py                                     4      0      0      0 100.00%
infrastructure/llm/core/client.py                                     411     66     86     16  81.89%   34-35, 57, 136-137, 365-367, 537->546, 695->exit, 713-717, 726, 756-758, 834, 846->1034, 862->856, 879->889, 891-895, 909-929, 934->957, 938, 955-956, 971-991, 997-1018, 1024-1028, 1048->1052, 1073, 1096-1097, 1245-1247
infrastructure/llm/core/config.py                                     121     31     48     12  74.56%   51, 61, 123->119, 130->129, 146-149, 153-156, 160-163, 167-170, 174-177, 181-184, 188-191, 195
infrastructure/llm/core/context.py                                    103      0     16      0 100.00%
infrastructure/llm/core/response_saver.py                              50      1     12      2  95.16%   155, 159->162
infrastructure/llm/prompts/__init__.py                                  3      0      0      0 100.00%
infrastructure/llm/prompts/composer.py                                150     21     36      8  84.41%   65, 85, 114, 143->146, 151, 172, 177, 206, 210-213, 233-235, 271-272, 308-311, 345-349
infrastructure/llm/prompts/loader.py                                   67      5     16      1  92.77%   92-98, 197
infrastructure/llm/review/__init__.py                                   4      0      0      0 100.00%
infrastructure/llm/review/generator.py                                235     56     78     12  73.16%   24, 70-73, 78-81, 127-134, 179->257, 187, 230-236, 240->257, 243, 249-252, 277-283, 292-293, 305-311, 347->345, 352-353, 363->361, 368-369, 374-381, 384-385, 447-448
infrastructure/llm/review/io.py                                       210     73     76     18  61.89%   41-44, 50-51, 53, 57-63, 70, 72->80, 101, 110, 134-136, 139-140, 190-192, 195-197, 235-237, 245-249, 328-330, 397-399, 401->404, 431-467, 522, 528-541, 544->558, 554
infrastructure/llm/review/metrics.py                                   42      0      0      0 100.00%
infrastructure/llm/templates/__init__.py                               19      3      2      0  85.71%   41-43
infrastructure/llm/templates/base.py                                   11      0      0      0 100.00%
infrastructure/llm/templates/helpers.py                                71      7     42     12  81.42%   24->30, 56-57, 60-62, 91->96, 96->101, 101->106, 106->111, 134, 140, 162->166, 166->171, 171->176
infrastructure/llm/templates/manuscript.py                            130     33     36     13  71.08%   24-26, 107, 111, 126-188, 238, 242, 276-277, 348, 352, 375-376, 447, 451, 480-481, 592
infrastructure/llm/templates/research.py                               45     21      6      0  47.06%   220-264
infrastructure/llm/utils/__init__.py                                    2      0      0      0 100.00%
infrastructure/llm/utils/ollama.py                                    182     89     58     12  47.08%   57-58, 60-61, 63-64, 79-92, 116->153, 126, 131-137, 140-146, 202-208, 222-229, 248-251, 256-262, 275-279, 310-311, 320-340, 343-344, 346-347, 384->390, 387-388, 410-411, 417-429, 432-438
infrastructure/llm/validation/__init__.py                               5      0      0      0 100.00%
infrastructure/llm/validation/core.py                                 114      1     44      0  99.37%   203
infrastructure/llm/validation/format.py                                45      0     22      1  98.51%   138->134
infrastructure/llm/validation/repetition.py                           194      9     88     12  92.55%   38, 53, 68, 84, 151, 238->231, 269-270, 282->287, 305->311, 387->394, 400->406, 415-421
infrastructure/llm/validation/structure.py                             62     37     26      0  39.77%   27-63, 124-151
infrastructure/publishing/__init__.py                                   3      0      0      0 100.00%
infrastructure/publishing/api.py                                       48      2      0      0  95.83%   60-61
infrastructure/publishing/citations.py                                 69      7     24      5  87.10%   21, 30, 43, 52, 123, 207-208
infrastructure/publishing/cli.py                                       85      0     18      0 100.00%
infrastructure/publishing/core.py                                     107      3     44      6  94.04%   64, 112->110, 118->117, 120->122, 124->128, 314-315, 348->352
infrastructure/publishing/metadata.py                                 145     11     84     15  88.65%   47->51, 64->59, 165->168, 169, 172, 263, 265, 272, 274, 276, 285, 291, 300, 338->341, 342
infrastructure/publishing/models.py                                    23      0      0      0 100.00%
infrastructure/publishing/platforms.py                                 59     31     20      4  45.57%   33-57, 75, 80->88, 85, 89->93, 121-161
infrastructure/publishing/publish_cli.py                               17      0      0      0 100.00%
infrastructure/rendering/__init__.py                                    4      0      0      0 100.00%
infrastructure/rendering/cli.py                                        67      0     12      0 100.00%
infrastructure/rendering/config.py                                     21      0      0      0 100.00%
infrastructure/rendering/core.py                                       38      5      4      1  85.71%   44->51, 55, 59, 72, 84-85
infrastructure/rendering/latex_package_validator.py                   109      1     34      1  98.60%   73
infrastructure/rendering/latex_utils.py                                31      3      8      1  89.74%   87, 92, 94
infrastructure/rendering/manuscript_discovery.py                       77     70     42      0   5.88%   31-52, 71-161
infrastructure/rendering/pdf_renderer.py                              384    142    150     23  58.61%   28-53, 107->110, 170-173, 184-187, 219-221, 290-291, 306-310, 322-323, 324->329, 329->349, 332->349, 335->337, 351->363, 354->363, 372-404, 443, 453-455, 466-493, 508-525, 530-534, 536-539, 547, 585-605, 652->651, 656-661, 706-709, 721, 738-775, 800, 820->827, 822->827, 835-837, 860, 871-873
infrastructure/rendering/poster_renderer.py                            13      1      0      0  92.31%   23
infrastructure/rendering/render_all_cli.py                             16      0      6      0 100.00%
infrastructure/rendering/slides_renderer.py                            62      8     12      4  83.78%   69-70, 100, 102, 115, 128-134
infrastructure/rendering/web_renderer.py                               21      0      0      0 100.00%
infrastructure/reporting/__init__.py                                    6      0      0      0 100.00%
infrastructure/reporting/error_aggregator.py                          116      4     50      7  92.17%   107->109, 231->239, 239->254, 249->251, 254->274, 264, 266-268
infrastructure/reporting/html_templates.py                             22      0      8      0 100.00%
infrastructure/reporting/output_reporter.py                            58      2     24      4  92.68%   54, 55->49, 58, 87->92
infrastructure/reporting/pipeline_reporter.py                         210      0     58      7  97.39%   127->135, 205->207, 207->209, 406->408, 408->410, 482->490, 591->595
infrastructure/scientific/__init__.py                                   8      0      0      0 100.00%
infrastructure/scientific/benchmarking.py                              91      9     24      4  88.70%   45, 75-80, 91, 114, 131->135
infrastructure/scientific/documentation.py                             55      0     24      2  97.47%   94->109, 109->121
infrastructure/scientific/stability.py                                 42      5     14      2  87.50%   56-57, 64-65, 78
infrastructure/scientific/templates.py                                  8      1      0      0  87.50%   202
infrastructure/scientific/validation.py                               108      3     52      4  95.62%   87->90, 119, 142-143, 283->286, 286->289
infrastructure/validation/__init__.py                                   6      0      0      0 100.00%
infrastructure/validation/check_links.py                              124     19     62      8  81.18%   114, 165-166, 181, 198, 200->190, 203-211, 215-219, 222-226, 232
infrastructure/validation/cli.py                                       88      4     30      4  91.53%   33->36, 38, 42->45, 90-92
infrastructure/validation/doc_accuracy.py                             150     48     60     11  62.38%   21, 31->25, 40-44, 46, 58-59, 62-63, 84->76, 85->76, 96->76, 98->76, 109-110, 118-124, 138-159, 175-190, 202-206, 245-246
infrastructure/validation/doc_completeness.py                          95     21     32      6  67.72%   18-31, 49-63, 74, 82->89, 96->103, 112->119
infrastructure/validation/doc_discovery.py                            123     12     58      9  88.40%   45->43, 60->58, 62->58, 92-93, 107, 109, 111, 113, 117, 138, 165-168
infrastructure/validation/doc_models.py                                55      0      0      0 100.00%
infrastructure/validation/doc_quality.py                               60      7     16      4  85.53%   19, 57, 73, 81, 120-122
infrastructure/validation/doc_scanner.py                              171     39     18      3  75.66%   187-190, 196-197, 213-214, 237-238, 323, 361-375, 380-402
infrastructure/validation/doc_scanner_refactored.py                   202    202     18      0   0.00%   13-431
infrastructure/validation/figure_validator.py                          44      0     16      0 100.00%
infrastructure/validation/integrity.py                                354      8    158     15  95.51%   178->162, 187, 188->162, 258, 263, 294-295, 318->322, 327->330, 425, 475, 562->579, 575->570, 583->599, 603->620, 649
infrastructure/validation/markdown_validator.py                       108      0     52      1  99.38%   130->127
infrastructure/validation/output_validator.py                          69      1     28      1  97.94%   83
infrastructure/validation/pdf_validator.py                             60      3     10      1  94.29%   64, 143-144
infrastructure/validation/repo_scanner.py                             323     50    150     17  85.84%   104->103, 136-137, 148->147, 151->147, 154-162, 189->191, 201, 212, 217, 219-220, 239, 260, 271-272, 294->292, 322-324, 327->326, 354-361, 364-369, 383-384, 434, 443->442, 456-457, 467-468, 552-577
infrastructure/validation/validate_markdown_cli.py                     88      2     34      0  98.36%   27-29
infrastructure/validation/validate_pdf_cli.py                          67      5     20      1  93.10%   28-32, 59->61
----------------------------------------------------------------------------------------------------------------
TOTAL                                                               19442   7149   6506    769  60.39%
Coverage HTML written to dir htmlcov
Required test coverage of 60% reached. Total coverage: 60.39%
=========================== short test summary info ============================
FAILED tests/infrastructure/llm/test_context_engineering.py::TestContextPruningLogging::test_prune_logs_details - AssertionError: assert ('Context pruned' in '' or 'Pruning context' in '')
 +  where '' = <_pytest.logging.LogCaptureFixture object at 0x133c27410>.text
 +  and   '' = <_pytest.logging.LogCaptureFixture object at 0x133c27410>.text
FAILED tests/infrastructure/llm/test_logging.py::TestQueryLogging::test_query_logs_start - AssertionError: assert ('model' in 'INFO     infrastructure.llm.core.client:client.py:199 Starting query\nINFO     infrastructure.llm.core.client:client.py:228 Query completed\n' or 'prompt_length' in 'INFO     infrastructure.llm.core.client:client.py:199 Starting query\nINFO     infrastructure.llm.core.client:client.py:228 Query completed\n')
 +  where 'INFO     infrastructure.llm.core.client:client.py:199 Starting query\nINFO     infrastructure.llm.core.client:client.py:228 Query completed\n' = <_pytest.logging.LogCaptureFixture object at 0x1347af9e0>.text
 +  and   'INFO     infrastructure.llm.core.client:client.py:199 Starting query\nINFO     infrastructure.llm.core.client:client.py:228 Query completed\n' = <_pytest.logging.LogCaptureFixture object at 0x1347af9e0>.text
FAILED tests/infrastructure/llm/test_logging.py::TestQueryLogging::test_query_logs_completion - AssertionError: assert ('response_length' in 'INFO     infrastructure.llm.core.client:client.py:199 Starting query\nINFO     infrastructure.llm.core.client:client.py:228 Query completed\n' or 'generation_time' in 'INFO     infrastructure.llm.core.client:client.py:199 Starting query\nINFO     infrastructure.llm.core.client:client.py:228 Query completed\n')
 +  where 'INFO     infrastructure.llm.core.client:client.py:199 Starting query\nINFO     infrastructure.llm.core.client:client.py:228 Query completed\n' = <_pytest.logging.LogCaptureFixture object at 0x1347ab620>.text
 +  and   'INFO     infrastructure.llm.core.client:client.py:199 Starting query\nINFO     infrastructure.llm.core.client:client.py:228 Query completed\n' = <_pytest.logging.LogCaptureFixture object at 0x1347ab620>.text
FAILED tests/infrastructure/llm/test_streaming.py::TestStreamingLogging::test_stream_query_logs_chunks_debug - AttributeError: 'LogRecord' object has no attribute 'extra'
==== 4 failed, 2299 passed, 12 skipped, 59 deselected in 152.28s (0:02:32) =====
